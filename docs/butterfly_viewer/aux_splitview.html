<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 13.1.1"/>
    <title>butterfly_viewer.aux_splitview Documentation</title>
            <link rel="icon" href="https://olive-groves.github.io/butterfly_viewer/images/viewer_logo.png"/>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent }nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .pdoc-alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:1rem center;margin-bottom:1rem;}.pdoc .pdoc-alert > *:last-child{margin-bottom:0;}.pdoc .pdoc-alert-note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3, .pdoc h4{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */.pdoc{--link:#0969da; --link-hover:#0969da; }.pdoc h1, .pdoc h2, .pdoc h3, .pdoc h4{margin:.3em 0;padding:.2em 0;margin-left:-1px;}.pdoc h1{font-weight:300;margin-top:1.2em;font-size:calc(1.75rem + 2vw)}@media (min-width:1200px){.pdoc h1{font-size:3.25rem}}.pdoc h2{font-weight:600;}.pdoc h3{font-weight:700;font-size:1.1rem;}.pdoc h4{font-weight:800;font-size:0.9rem;}.pdoc h2.nav{font-weight:300;}.pdoc a:hover{color:var(--link-hover);text-decoration:underline; }.pdoc pre{border:none;margin-top:1rem;margin-bottom:1rem;background-color:#fcfcfc;}.pdoc pre > code{color:#666666;}.pdoc img{max-width:100%; height:auto;}nav.pdoc{box-shadow:None; }nav.pdoc input[type=search]{margin-bottom:1.5rem;}nav.pdoc li a{font-size:90%; }nav.pdoc > div > ul > li > a{margin-top:0.5rem;font-size:110%;}.pdoc blockquote{color:var(--text); border-left:0.5rem solid hsl(60, 8%, 73%);padding:1rem 1rem 1rem 1rem;margin-left:1rem;margin-right:2rem;font-size:85%;background-color:hsl(60, 28%, 95%);;}.pdoc blockquote > p{margin-bottom:0.2rem;}</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>            <a class="pdoc-button module-list-button" href="../butterfly_viewer.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                &nbsp;butterfly_viewer</a>

<a href="https://olive-groves.github.io/butterfly_viewer">            <img src="https://olive-groves.github.io/butterfly_viewer/images/viewer_logo.png" class="logo" alt="project logo"/>
</a>
            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>





        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
<a href="./../butterfly_viewer.html">butterfly_viewer</a><wbr>.aux_splitview    </h1>

                        <div class="docstring"><p>Image viewing widget for individual images and sliding overlays with sync zoom and pan.</p>

<p>Not intended as a script. Used in Butterfly Viewer and Registrator.</p>

<h6 id="credits">Credits:</h6>

<blockquote>
  <p>PyQt MDI Image Viewer by tpgit (<a href="http://tpgit.github.io/MDIImageViewer/">http://tpgit.github.io/MDIImageViewer/</a>) for sync pan and zoom.</p>
</blockquote>
</div>

                        <input id="mod-aux_splitview-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-aux_splitview-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos">   1</span></a><span class="ch">#!/usr/bin/env python3</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos">   2</span></a>
</span><span id="L-3"><a href="#L-3"><span class="linenos">   3</span></a><span class="sd">&quot;&quot;&quot;Image viewing widget for individual images and sliding overlays with sync zoom and pan.</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos">   4</span></a>
</span><span id="L-5"><a href="#L-5"><span class="linenos">   5</span></a><span class="sd">Not intended as a script. Used in Butterfly Viewer and Registrator.</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos">   6</span></a>
</span><span id="L-7"><a href="#L-7"><span class="linenos">   7</span></a><span class="sd">Credits:</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos">   8</span></a><span class="sd">    PyQt MDI Image Viewer by tpgit (http://tpgit.github.io/MDIImageViewer/) for sync pan and zoom.</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos">   9</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos">  10</span></a><span class="c1"># SPDX-License-Identifier: GPL-3.0-or-later</span>
</span><span id="L-11"><a href="#L-11"><span class="linenos">  11</span></a>
</span><span id="L-12"><a href="#L-12"><span class="linenos">  12</span></a>
</span><span id="L-13"><a href="#L-13"><span class="linenos">  13</span></a>
</span><span id="L-14"><a href="#L-14"><span class="linenos">  14</span></a><span class="kn">import</span> <span class="nn">sip</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos">  15</span></a><span class="kn">import</span> <span class="nn">gc</span>
</span><span id="L-16"><a href="#L-16"><span class="linenos">  16</span></a><span class="kn">import</span> <span class="nn">os</span>
</span><span id="L-17"><a href="#L-17"><span class="linenos">  17</span></a><span class="kn">import</span> <span class="nn">math</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos">  18</span></a><span class="kn">import</span> <span class="nn">csv</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos">  19</span></a><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos">  20</span></a>
</span><span id="L-21"><a href="#L-21"><span class="linenos">  21</span></a><span class="kn">from</span> <span class="nn">PyQt5</span> <span class="kn">import</span> <span class="n">QtCore</span><span class="p">,</span> <span class="n">QtGui</span><span class="p">,</span> <span class="n">QtWidgets</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos">  22</span></a>
</span><span id="L-23"><a href="#L-23"><span class="linenos">  23</span></a><span class="kn">from</span> <span class="nn">aux_viewing</span> <span class="kn">import</span> <span class="n">SynchableGraphicsView</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos">  24</span></a><span class="kn">from</span> <span class="nn">aux_trackers</span> <span class="kn">import</span> <span class="n">EventTracker</span><span class="p">,</span> <span class="n">EventTrackerSplitBypassDeadzone</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos">  25</span></a><span class="kn">from</span> <span class="nn">aux_functions</span> <span class="kn">import</span> <span class="n">strippedName</span><span class="p">,</span> <span class="n">determineSyncSenderDimension</span><span class="p">,</span> <span class="n">determineSyncAdjustmentFactor</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos">  26</span></a><span class="kn">from</span> <span class="nn">aux_labels</span> <span class="kn">import</span> <span class="n">FilenameLabel</span>
</span><span id="L-27"><a href="#L-27"><span class="linenos">  27</span></a><span class="kn">from</span> <span class="nn">aux_scenes</span> <span class="kn">import</span> <span class="n">CustomQGraphicsScene</span>
</span><span id="L-28"><a href="#L-28"><span class="linenos">  28</span></a><span class="kn">from</span> <span class="nn">aux_comments</span> <span class="kn">import</span> <span class="n">CommentItem</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos">  29</span></a><span class="kn">from</span> <span class="nn">aux_rulers</span> <span class="kn">import</span> <span class="n">RulerItem</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos">  30</span></a>
</span><span id="L-31"><a href="#L-31"><span class="linenos">  31</span></a>
</span><span id="L-32"><a href="#L-32"><span class="linenos">  32</span></a>
</span><span id="L-33"><a href="#L-33"><span class="linenos">  33</span></a><span class="n">sip</span><span class="o">.</span><span class="n">setapi</span><span class="p">(</span><span class="s1">&#39;QDate&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos">  34</span></a><span class="n">sip</span><span class="o">.</span><span class="n">setapi</span><span class="p">(</span><span class="s1">&#39;QTime&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos">  35</span></a><span class="n">sip</span><span class="o">.</span><span class="n">setapi</span><span class="p">(</span><span class="s1">&#39;QDateTime&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="L-36"><a href="#L-36"><span class="linenos">  36</span></a><span class="n">sip</span><span class="o">.</span><span class="n">setapi</span><span class="p">(</span><span class="s1">&#39;QUrl&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="L-37"><a href="#L-37"><span class="linenos">  37</span></a><span class="n">sip</span><span class="o">.</span><span class="n">setapi</span><span class="p">(</span><span class="s1">&#39;QTextStream&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos">  38</span></a><span class="n">sip</span><span class="o">.</span><span class="n">setapi</span><span class="p">(</span><span class="s1">&#39;QVariant&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos">  39</span></a><span class="n">sip</span><span class="o">.</span><span class="n">setapi</span><span class="p">(</span><span class="s1">&#39;QString&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="L-40"><a href="#L-40"><span class="linenos">  40</span></a>
</span><span id="L-41"><a href="#L-41"><span class="linenos">  41</span></a>    
</span><span id="L-42"><a href="#L-42"><span class="linenos">  42</span></a>
</span><span id="L-43"><a href="#L-43"><span class="linenos">  43</span></a><span class="k">class</span> <span class="nc">SplitView</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QFrame</span><span class="p">):</span>
</span><span id="L-44"><a href="#L-44"><span class="linenos">  44</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Image viewing widget for individual images and sliding overlays.</span>
</span><span id="L-45"><a href="#L-45"><span class="linenos">  45</span></a>
</span><span id="L-46"><a href="#L-46"><span class="linenos">  46</span></a><span class="sd">    Creates an interface with a base image as a main image located at the top left  </span>
</span><span id="L-47"><a href="#L-47"><span class="linenos">  47</span></a><span class="sd">    and optionally 3 other images (top-left, bottom-left, bottom-right) as a sliding overlay.</span>
</span><span id="L-48"><a href="#L-48"><span class="linenos">  48</span></a><span class="sd">    Supports zoom and pan.</span>
</span><span id="L-49"><a href="#L-49"><span class="linenos">  49</span></a><span class="sd">    Enables synchronized zoom and pan via signals.</span>
</span><span id="L-50"><a href="#L-50"><span class="linenos">  50</span></a><span class="sd">    Input images for a given sliding overlay must have identical resolutions to </span>
</span><span id="L-51"><a href="#L-51"><span class="linenos">  51</span></a><span class="sd">    function properly.</span>
</span><span id="L-52"><a href="#L-52"><span class="linenos">  52</span></a><span class="sd">    </span>
</span><span id="L-53"><a href="#L-53"><span class="linenos">  53</span></a><span class="sd">    Args:</span>
</span><span id="L-54"><a href="#L-54"><span class="linenos">  54</span></a><span class="sd">        pixmap (QPixmap): The main image to be viewed; the basis of the sliding overlay (main; topleft)</span>
</span><span id="L-55"><a href="#L-55"><span class="linenos">  55</span></a><span class="sd">        filename_main_topleft (str): The image filepath of the main image.</span>
</span><span id="L-56"><a href="#L-56"><span class="linenos">  56</span></a><span class="sd">        name (str): The name of the viewing widget.</span>
</span><span id="L-57"><a href="#L-57"><span class="linenos">  57</span></a><span class="sd">        pixmap_topright (QPixmap): The top-right image of the sliding overlay (set None to exclude).</span>
</span><span id="L-58"><a href="#L-58"><span class="linenos">  58</span></a><span class="sd">        pixmap_bottomleft (QPixmap): The bottom-left image of the sliding overlay (set None to exclude).</span>
</span><span id="L-59"><a href="#L-59"><span class="linenos">  59</span></a><span class="sd">        pixmap_bottomright (QPixmap): The bottom-right image of the sliding overlay (set None to exclude).</span>
</span><span id="L-60"><a href="#L-60"><span class="linenos">  60</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-61"><a href="#L-61"><span class="linenos">  61</span></a>
</span><span id="L-62"><a href="#L-62"><span class="linenos">  62</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pixmap_main_topleft</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">filename_main_topleft</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> 
</span><span id="L-63"><a href="#L-63"><span class="linenos">  63</span></a>            <span class="n">pixmap_topright</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">pixmap_bottomleft</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">pixmap_bottomright</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">transform_mode_smooth</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="L-64"><a href="#L-64"><span class="linenos">  64</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span><span id="L-65"><a href="#L-65"><span class="linenos">  65</span></a>
</span><span id="L-66"><a href="#L-66"><span class="linenos">  66</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">currentFile</span> <span class="o">=</span> <span class="n">filename_main_topleft</span>
</span><span id="L-67"><a href="#L-67"><span class="linenos">  67</span></a>
</span><span id="L-68"><a href="#L-68"><span class="linenos">  68</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowFlags</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">FramelessWindowHint</span><span class="p">)</span> <span class="c1"># Clean appearance</span>
</span><span id="L-69"><a href="#L-69"><span class="linenos">  69</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setFrameStyle</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QFrame</span><span class="o">.</span><span class="n">NoFrame</span><span class="p">)</span>
</span><span id="L-70"><a href="#L-70"><span class="linenos">  70</span></a>
</span><span id="L-71"><a href="#L-71"><span class="linenos">  71</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">viewName</span> <span class="o">=</span> <span class="n">name</span>
</span><span id="L-72"><a href="#L-72"><span class="linenos">  72</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">comment_position_object</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-73"><a href="#L-73"><span class="linenos">  73</span></a>
</span><span id="L-74"><a href="#L-74"><span class="linenos">  74</span></a>        <span class="n">pixmap_main_topleft</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pixmap_none_ify</span><span class="p">(</span><span class="n">pixmap_main_topleft</span><span class="p">)</span> <span class="c1"># Return None if given QPixmap has zero width/height or is not a QPixmap</span>
</span><span id="L-75"><a href="#L-75"><span class="linenos">  75</span></a>        <span class="n">pixmap_topright</span>     <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pixmap_none_ify</span><span class="p">(</span><span class="n">pixmap_topright</span><span class="p">)</span>
</span><span id="L-76"><a href="#L-76"><span class="linenos">  76</span></a>        <span class="n">pixmap_bottomleft</span>   <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pixmap_none_ify</span><span class="p">(</span><span class="n">pixmap_bottomleft</span><span class="p">)</span>
</span><span id="L-77"><a href="#L-77"><span class="linenos">  77</span></a>        <span class="n">pixmap_bottomright</span>  <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pixmap_none_ify</span><span class="p">(</span><span class="n">pixmap_bottomright</span><span class="p">)</span>
</span><span id="L-78"><a href="#L-78"><span class="linenos">  78</span></a>
</span><span id="L-79"><a href="#L-79"><span class="linenos">  79</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pixmap_topright_exists</span>     <span class="o">=</span> <span class="p">(</span><span class="n">pixmap_topright</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="c1"># Boolean for existence of pixmap is easier to check</span>
</span><span id="L-80"><a href="#L-80"><span class="linenos">  80</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pixmap_bottomright_exists</span>  <span class="o">=</span> <span class="p">(</span><span class="n">pixmap_bottomright</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="L-81"><a href="#L-81"><span class="linenos">  81</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pixmap_bottomleft_exists</span>   <span class="o">=</span> <span class="p">(</span><span class="n">pixmap_bottomleft</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="L-82"><a href="#L-82"><span class="linenos">  82</span></a>
</span><span id="L-83"><a href="#L-83"><span class="linenos">  83</span></a>        <span class="c1"># Pixmaps which do no exist should be transparent, so they are made into an empty pixmap</span>
</span><span id="L-84"><a href="#L-84"><span class="linenos">  84</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">pixmap_bottomright_exists</span><span class="p">:</span>
</span><span id="L-85"><a href="#L-85"><span class="linenos">  85</span></a>            <span class="n">pixmap_bottomright</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPixmap</span><span class="p">()</span>
</span><span id="L-86"><a href="#L-86"><span class="linenos">  86</span></a>
</span><span id="L-87"><a href="#L-87"><span class="linenos">  87</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">pixmap_topright_exists</span><span class="p">:</span>
</span><span id="L-88"><a href="#L-88"><span class="linenos">  88</span></a>            <span class="n">pixmap_topright</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPixmap</span><span class="p">()</span>
</span><span id="L-89"><a href="#L-89"><span class="linenos">  89</span></a>            
</span><span id="L-90"><a href="#L-90"><span class="linenos">  90</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">pixmap_bottomleft_exists</span><span class="p">:</span>
</span><span id="L-91"><a href="#L-91"><span class="linenos">  91</span></a>            <span class="n">pixmap_bottomleft</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPixmap</span><span class="p">()</span>
</span><span id="L-92"><a href="#L-92"><span class="linenos">  92</span></a>
</span><span id="L-93"><a href="#L-93"><span class="linenos">  93</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_zoomFactorDelta</span> <span class="o">=</span> <span class="mf">1.25</span> <span class="c1"># How much zoom for each zoom call</span>
</span><span id="L-94"><a href="#L-94"><span class="linenos">  94</span></a>
</span><span id="L-95"><a href="#L-95"><span class="linenos">  95</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">transform_mode_smooth</span> <span class="o">=</span> <span class="n">transform_mode_smooth</span>
</span><span id="L-96"><a href="#L-96"><span class="linenos">  96</span></a>
</span><span id="L-97"><a href="#L-97"><span class="linenos">  97</span></a>        <span class="c1"># Sliding overlay is based on the main pixmap view of the top-left pixmap</span>
</span><span id="L-98"><a href="#L-98"><span class="linenos">  98</span></a>        <span class="c1"># self._scene_main_topleft = QtWidgets.QGraphicsScene()</span>
</span><span id="L-99"><a href="#L-99"><span class="linenos">  99</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span> <span class="o">=</span> <span class="n">CustomQGraphicsScene</span><span class="p">()</span>
</span><span id="L-100"><a href="#L-100"><span class="linenos"> 100</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span> <span class="o">=</span> <span class="n">SynchableGraphicsView</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="p">)</span>
</span><span id="L-101"><a href="#L-101"><span class="linenos"> 101</span></a>
</span><span id="L-102"><a href="#L-102"><span class="linenos"> 102</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">setInteractive</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span> <span class="c1"># Functional settings</span>
</span><span id="L-103"><a href="#L-103"><span class="linenos"> 103</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">setViewportUpdateMode</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGraphicsView</span><span class="o">.</span><span class="n">MinimalViewportUpdate</span><span class="p">)</span>
</span><span id="L-104"><a href="#L-104"><span class="linenos"> 104</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">setResizeAnchor</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGraphicsView</span><span class="o">.</span><span class="n">AnchorViewCenter</span><span class="p">)</span>
</span><span id="L-105"><a href="#L-105"><span class="linenos"> 105</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">setRenderHints</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QPainter</span><span class="o">.</span><span class="n">SmoothPixmapTransform</span> <span class="o">|</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPainter</span><span class="o">.</span><span class="n">Antialiasing</span><span class="p">)</span>
</span><span id="L-106"><a href="#L-106"><span class="linenos"> 106</span></a>
</span><span id="L-107"><a href="#L-107"><span class="linenos"> 107</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">changed</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sceneChanged</span><span class="p">)</span> <span class="c1"># Pass along underlying signals</span>
</span><span id="L-108"><a href="#L-108"><span class="linenos"> 108</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">transformChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">transformChanged</span><span class="p">)</span>
</span><span id="L-109"><a href="#L-109"><span class="linenos"> 109</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">transformChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_transformChanged</span><span class="p">)</span>
</span><span id="L-110"><a href="#L-110"><span class="linenos"> 110</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">scrollChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scrollChanged</span><span class="p">)</span>
</span><span id="L-111"><a href="#L-111"><span class="linenos"> 111</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">wheelNotches</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">handleWheelNotches</span><span class="p">)</span>
</span><span id="L-112"><a href="#L-112"><span class="linenos"> 112</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">right_click_comment</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_right_click_comment</span><span class="p">)</span>
</span><span id="L-113"><a href="#L-113"><span class="linenos"> 113</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">right_click_ruler</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_right_click_ruler</span><span class="p">)</span>
</span><span id="L-114"><a href="#L-114"><span class="linenos"> 114</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">right_click_save_all_comments</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_right_click_save_all_comments</span><span class="p">)</span>
</span><span id="L-115"><a href="#L-115"><span class="linenos"> 115</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">right_click_load_comments</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_right_click_load_comments</span><span class="p">)</span>
</span><span id="L-116"><a href="#L-116"><span class="linenos"> 116</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">right_click_relative_origin_position</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_right_click_set_relative_origin_position</span><span class="p">)</span>
</span><span id="L-117"><a href="#L-117"><span class="linenos"> 117</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">changed_px_per_unit</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_changed_px_per_unit</span><span class="p">)</span>
</span><span id="L-118"><a href="#L-118"><span class="linenos"> 118</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">right_click_single_transform_mode_smooth</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">set_transform_mode_smooth</span><span class="p">)</span>
</span><span id="L-119"><a href="#L-119"><span class="linenos"> 119</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">right_click_all_transform_mode_smooth</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">was_set_global_transform_mode</span><span class="p">)</span>
</span><span id="L-120"><a href="#L-120"><span class="linenos"> 120</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">right_click_background_color</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">set_scene_background_color</span><span class="p">)</span>
</span><span id="L-121"><a href="#L-121"><span class="linenos"> 121</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">right_click_background_color</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">was_set_scene_background_color</span><span class="p">)</span>
</span><span id="L-122"><a href="#L-122"><span class="linenos"> 122</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">right_click_sync_zoom_by</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">was_set_sync_zoom_by</span><span class="p">)</span>
</span><span id="L-123"><a href="#L-123"><span class="linenos"> 123</span></a>
</span><span id="L-124"><a href="#L-124"><span class="linenos"> 124</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_main_topleft</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGraphicsPixmapItem</span><span class="p">()</span>
</span><span id="L-125"><a href="#L-125"><span class="linenos"> 125</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_main_topleft</span><span class="p">)</span>
</span><span id="L-126"><a href="#L-126"><span class="linenos"> 126</span></a>        
</span><span id="L-127"><a href="#L-127"><span class="linenos"> 127</span></a>        <span class="c1"># A pseudo view directly atop the main view is needed to drive the position of the split and layout of the four pixmaps </span>
</span><span id="L-128"><a href="#L-128"><span class="linenos"> 128</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_layoutdriving_topleft</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGraphicsView</span><span class="p">()</span>
</span><span id="L-129"><a href="#L-129"><span class="linenos"> 129</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_layoutdriving_topleft</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;border: 0px; border-style: solid; background-color: rgba(0,0,0,0)&quot;</span><span class="p">)</span>
</span><span id="L-130"><a href="#L-130"><span class="linenos"> 130</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_layoutdriving_topleft</span><span class="o">.</span><span class="n">setAttribute</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">WA_TransparentForMouseEvents</span><span class="p">)</span>
</span><span id="L-131"><a href="#L-131"><span class="linenos"> 131</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_layoutdriving_topleft</span><span class="o">.</span><span class="n">setHorizontalScrollBarPolicy</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">ScrollBarAlwaysOff</span><span class="p">)</span>
</span><span id="L-132"><a href="#L-132"><span class="linenos"> 132</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_layoutdriving_topleft</span><span class="o">.</span><span class="n">setVerticalScrollBarPolicy</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">ScrollBarAlwaysOff</span><span class="p">)</span>
</span><span id="L-133"><a href="#L-133"><span class="linenos"> 133</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_layoutdriving_topleft</span><span class="o">.</span><span class="n">setResizeAnchor</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGraphicsView</span><span class="o">.</span><span class="n">AnchorUnderMouse</span><span class="p">)</span>
</span><span id="L-134"><a href="#L-134"><span class="linenos"> 134</span></a>        
</span><span id="L-135"><a href="#L-135"><span class="linenos"> 135</span></a>        <span class="c1"># Add top right pixmap view</span>
</span><span id="L-136"><a href="#L-136"><span class="linenos"> 136</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_topright</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGraphicsPixmapItem</span><span class="p">()</span>
</span><span id="L-137"><a href="#L-137"><span class="linenos"> 137</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pixmap_topright</span> <span class="o">=</span> <span class="n">pixmap_topright</span>
</span><span id="L-138"><a href="#L-138"><span class="linenos"> 138</span></a>        
</span><span id="L-139"><a href="#L-139"><span class="linenos"> 139</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_topright</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGraphicsScene</span><span class="p">()</span>
</span><span id="L-140"><a href="#L-140"><span class="linenos"> 140</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_topright</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_topright</span><span class="p">)</span>
</span><span id="L-141"><a href="#L-141"><span class="linenos"> 141</span></a>        
</span><span id="L-142"><a href="#L-142"><span class="linenos"> 142</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_topright</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGraphicsView</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_scene_topright</span><span class="p">)</span>
</span><span id="L-143"><a href="#L-143"><span class="linenos"> 143</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_topright</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;border: 0px; border-style: solid; border-color: rgba(0,0,0,0); background-color: rgba(0,0,0,0);&quot;</span><span class="p">)</span>
</span><span id="L-144"><a href="#L-144"><span class="linenos"> 144</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_topright</span><span class="o">.</span><span class="n">setAttribute</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">WA_TransparentForMouseEvents</span><span class="p">)</span>
</span><span id="L-145"><a href="#L-145"><span class="linenos"> 145</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_topright</span><span class="o">.</span><span class="n">setHorizontalScrollBarPolicy</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">ScrollBarAlwaysOff</span><span class="p">)</span>
</span><span id="L-146"><a href="#L-146"><span class="linenos"> 146</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_topright</span><span class="o">.</span><span class="n">setVerticalScrollBarPolicy</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">ScrollBarAlwaysOff</span><span class="p">)</span>
</span><span id="L-147"><a href="#L-147"><span class="linenos"> 147</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_topright</span><span class="o">.</span><span class="n">setResizeAnchor</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGraphicsView</span><span class="o">.</span><span class="n">AnchorViewCenter</span><span class="p">)</span>
</span><span id="L-148"><a href="#L-148"><span class="linenos"> 148</span></a>        
</span><span id="L-149"><a href="#L-149"><span class="linenos"> 149</span></a>        <span class="c1"># Add bottom left pixmap view</span>
</span><span id="L-150"><a href="#L-150"><span class="linenos"> 150</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_bottomleft</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGraphicsPixmapItem</span><span class="p">()</span>
</span><span id="L-151"><a href="#L-151"><span class="linenos"> 151</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pixmap_bottomleft</span> <span class="o">=</span> <span class="n">pixmap_bottomleft</span>
</span><span id="L-152"><a href="#L-152"><span class="linenos"> 152</span></a>        
</span><span id="L-153"><a href="#L-153"><span class="linenos"> 153</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_bottomleft</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGraphicsScene</span><span class="p">()</span>
</span><span id="L-154"><a href="#L-154"><span class="linenos"> 154</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_bottomleft</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_bottomleft</span><span class="p">)</span>
</span><span id="L-155"><a href="#L-155"><span class="linenos"> 155</span></a>        
</span><span id="L-156"><a href="#L-156"><span class="linenos"> 156</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomleft</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGraphicsView</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_scene_bottomleft</span><span class="p">)</span>
</span><span id="L-157"><a href="#L-157"><span class="linenos"> 157</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomleft</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;border: 0px; border-style: solid; border-color: rgba(0,0,0,0); background-color: rgba(0,0,0,0);&quot;</span><span class="p">)</span>
</span><span id="L-158"><a href="#L-158"><span class="linenos"> 158</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomleft</span><span class="o">.</span><span class="n">setAttribute</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">WA_TransparentForMouseEvents</span><span class="p">)</span>
</span><span id="L-159"><a href="#L-159"><span class="linenos"> 159</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomleft</span><span class="o">.</span><span class="n">setHorizontalScrollBarPolicy</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">ScrollBarAlwaysOff</span><span class="p">)</span>
</span><span id="L-160"><a href="#L-160"><span class="linenos"> 160</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomleft</span><span class="o">.</span><span class="n">setVerticalScrollBarPolicy</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">ScrollBarAlwaysOff</span><span class="p">)</span>
</span><span id="L-161"><a href="#L-161"><span class="linenos"> 161</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomleft</span><span class="o">.</span><span class="n">setResizeAnchor</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGraphicsView</span><span class="o">.</span><span class="n">AnchorViewCenter</span><span class="p">)</span>
</span><span id="L-162"><a href="#L-162"><span class="linenos"> 162</span></a>        
</span><span id="L-163"><a href="#L-163"><span class="linenos"> 163</span></a>        <span class="c1"># Add bottom right pixmap view</span>
</span><span id="L-164"><a href="#L-164"><span class="linenos"> 164</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_bottomright</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGraphicsPixmapItem</span><span class="p">()</span>
</span><span id="L-165"><a href="#L-165"><span class="linenos"> 165</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pixmap_bottomright</span> <span class="o">=</span> <span class="n">pixmap_bottomright</span>
</span><span id="L-166"><a href="#L-166"><span class="linenos"> 166</span></a>        
</span><span id="L-167"><a href="#L-167"><span class="linenos"> 167</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_bottomright</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGraphicsScene</span><span class="p">()</span>
</span><span id="L-168"><a href="#L-168"><span class="linenos"> 168</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_bottomright</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_bottomright</span><span class="p">)</span>
</span><span id="L-169"><a href="#L-169"><span class="linenos"> 169</span></a>        
</span><span id="L-170"><a href="#L-170"><span class="linenos"> 170</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomright</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGraphicsView</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_scene_bottomright</span><span class="p">)</span>
</span><span id="L-171"><a href="#L-171"><span class="linenos"> 171</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomright</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;border: 0px; border-style: solid; border-color: rgba(0,0,0,0); background-color: rgba(0,0,0,0);&quot;</span><span class="p">)</span>
</span><span id="L-172"><a href="#L-172"><span class="linenos"> 172</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomright</span><span class="o">.</span><span class="n">setAttribute</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">WA_TransparentForMouseEvents</span><span class="p">)</span>
</span><span id="L-173"><a href="#L-173"><span class="linenos"> 173</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomright</span><span class="o">.</span><span class="n">setHorizontalScrollBarPolicy</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">ScrollBarAlwaysOff</span><span class="p">)</span>
</span><span id="L-174"><a href="#L-174"><span class="linenos"> 174</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomright</span><span class="o">.</span><span class="n">setVerticalScrollBarPolicy</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">ScrollBarAlwaysOff</span><span class="p">)</span>
</span><span id="L-175"><a href="#L-175"><span class="linenos"> 175</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomright</span><span class="o">.</span><span class="n">setResizeAnchor</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGraphicsView</span><span class="o">.</span><span class="n">AnchorViewCenter</span><span class="p">)</span>
</span><span id="L-176"><a href="#L-176"><span class="linenos"> 176</span></a>
</span><span id="L-177"><a href="#L-177"><span class="linenos"> 177</span></a>         <span class="c1"># Make the sizes of the four views entirely dictated by the &quot;layout driving&quot; view</span>
</span><span id="L-178"><a href="#L-178"><span class="linenos"> 178</span></a>        <span class="n">size_policy</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QSizePolicy</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Ignored</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Ignored</span><span class="p">)</span>
</span><span id="L-179"><a href="#L-179"><span class="linenos"> 179</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">setSizePolicy</span><span class="p">(</span><span class="n">size_policy</span><span class="p">)</span>
</span><span id="L-180"><a href="#L-180"><span class="linenos"> 180</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_topright</span><span class="o">.</span><span class="n">setSizePolicy</span><span class="p">(</span><span class="n">size_policy</span><span class="p">)</span>
</span><span id="L-181"><a href="#L-181"><span class="linenos"> 181</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomright</span><span class="o">.</span><span class="n">setSizePolicy</span><span class="p">(</span><span class="n">size_policy</span><span class="p">)</span>
</span><span id="L-182"><a href="#L-182"><span class="linenos"> 182</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomleft</span><span class="o">.</span><span class="n">setSizePolicy</span><span class="p">(</span><span class="n">size_policy</span><span class="p">)</span>
</span><span id="L-183"><a href="#L-183"><span class="linenos"> 183</span></a>
</span><span id="L-184"><a href="#L-184"><span class="linenos"> 184</span></a>        <span class="c1"># By default the split is set to half the widget&#39;s size so all pixmap views are equally sized at the start</span>
</span><span id="L-185"><a href="#L-185"><span class="linenos"> 185</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_layoutdriving_topleft</span><span class="o">.</span><span class="n">setMaximumWidth</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">/</span><span class="mf">2.0</span><span class="p">)</span>
</span><span id="L-186"><a href="#L-186"><span class="linenos"> 186</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_layoutdriving_topleft</span><span class="o">.</span><span class="n">setMaximumHeight</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">()</span><span class="o">/</span><span class="mf">2.0</span><span class="p">)</span>
</span><span id="L-187"><a href="#L-187"><span class="linenos"> 187</span></a>        
</span><span id="L-188"><a href="#L-188"><span class="linenos"> 188</span></a>        <span class="k">if</span> <span class="n">pixmap_main_topleft</span><span class="p">:</span> <span class="c1"># Instantiate transform and resizing</span>
</span><span id="L-189"><a href="#L-189"><span class="linenos"> 189</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">pixmap_main_topleft</span> <span class="o">=</span> <span class="n">pixmap_main_topleft</span>
</span><span id="L-190"><a href="#L-190"><span class="linenos"> 190</span></a>        
</span><span id="L-191"><a href="#L-191"><span class="linenos"> 191</span></a>        <span class="c1"># SplitView layout</span>
</span><span id="L-192"><a href="#L-192"><span class="linenos"> 192</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_layout</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGridLayout</span><span class="p">()</span>
</span><span id="L-193"><a href="#L-193"><span class="linenos"> 193</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="L-194"><a href="#L-194"><span class="linenos"> 194</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_layout</span><span class="o">.</span><span class="n">setSpacing</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="L-195"><a href="#L-195"><span class="linenos"> 195</span></a>        
</span><span id="L-196"><a href="#L-196"><span class="linenos"> 196</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="L-197"><a href="#L-197"><span class="linenos"> 197</span></a>
</span><span id="L-198"><a href="#L-198"><span class="linenos"> 198</span></a>        <span class="c1"># Labels for the four pixmap views</span>
</span><span id="L-199"><a href="#L-199"><span class="linenos"> 199</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">label_main_topleft</span> <span class="o">=</span> <span class="n">FilenameLabel</span><span class="p">(</span><span class="n">visibility_based_on_text</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">belongs_to_split</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-200"><a href="#L-200"><span class="linenos"> 200</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">label_topright</span>     <span class="o">=</span> <span class="n">FilenameLabel</span><span class="p">(</span><span class="n">visibility_based_on_text</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">belongs_to_split</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-201"><a href="#L-201"><span class="linenos"> 201</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">label_bottomright</span>  <span class="o">=</span> <span class="n">FilenameLabel</span><span class="p">(</span><span class="n">visibility_based_on_text</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">belongs_to_split</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-202"><a href="#L-202"><span class="linenos"> 202</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">label_bottomleft</span>   <span class="o">=</span> <span class="n">FilenameLabel</span><span class="p">(</span><span class="n">visibility_based_on_text</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">belongs_to_split</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-203"><a href="#L-203"><span class="linenos"> 203</span></a>
</span><span id="L-204"><a href="#L-204"><span class="linenos"> 204</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">label_main_topleft</span><span class="o">.</span><span class="n">setAttribute</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">WA_TransparentForMouseEvents</span><span class="p">)</span>
</span><span id="L-205"><a href="#L-205"><span class="linenos"> 205</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">label_topright</span><span class="o">.</span><span class="n">setAttribute</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">WA_TransparentForMouseEvents</span><span class="p">)</span>
</span><span id="L-206"><a href="#L-206"><span class="linenos"> 206</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">label_bottomright</span><span class="o">.</span><span class="n">setAttribute</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">WA_TransparentForMouseEvents</span><span class="p">)</span>
</span><span id="L-207"><a href="#L-207"><span class="linenos"> 207</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">label_bottomleft</span><span class="o">.</span><span class="n">setAttribute</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">WA_TransparentForMouseEvents</span><span class="p">)</span>
</span><span id="L-208"><a href="#L-208"><span class="linenos"> 208</span></a>
</span><span id="L-209"><a href="#L-209"><span class="linenos"> 209</span></a>        <span class="c1"># Pushbutton to close the image window</span>
</span><span id="L-210"><a href="#L-210"><span class="linenos"> 210</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">close_pushbutton</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;×&quot;</span><span class="p">)</span>
</span><span id="L-211"><a href="#L-211"><span class="linenos"> 211</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">close_pushbutton</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="s2">&quot;Close image window&quot;</span><span class="p">)</span>
</span><span id="L-212"><a href="#L-212"><span class="linenos"> 212</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">close_pushbutton</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">was_clicked_close_pushbutton</span><span class="p">)</span>
</span><span id="L-213"><a href="#L-213"><span class="linenos"> 213</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">close_pushbutton_always_visible</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-214"><a href="#L-214"><span class="linenos"> 214</span></a>
</span><span id="L-215"><a href="#L-215"><span class="linenos"> 215</span></a>        <span class="c1"># Create deadzones along the bounds of SplitView to fix the issue of resize handles showing in QMdiArea despite windowless setting.</span>
</span><span id="L-216"><a href="#L-216"><span class="linenos"> 216</span></a>        <span class="c1"># An event tracker &quot;bypass&quot; is needed for each deadzone because they hide the mouse from the sliding overlay, so the mouse must be separately tracked to ensure the split is updated.</span>
</span><span id="L-217"><a href="#L-217"><span class="linenos"> 217</span></a>        <span class="n">px_deadzone</span> <span class="o">=</span> <span class="mi">8</span>
</span><span id="L-218"><a href="#L-218"><span class="linenos"> 218</span></a>
</span><span id="L-219"><a href="#L-219"><span class="linenos"> 219</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_top</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="L-220"><a href="#L-220"><span class="linenos"> 220</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_top</span><span class="o">.</span><span class="n">setFixedHeight</span><span class="p">(</span><span class="n">px_deadzone</span><span class="p">)</span>
</span><span id="L-221"><a href="#L-221"><span class="linenos"> 221</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_top</span><span class="o">.</span><span class="n">setSizePolicy</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Expanding</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Fixed</span><span class="p">)</span>
</span><span id="L-222"><a href="#L-222"><span class="linenos"> 222</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_top</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</span><span id="L-223"><a href="#L-223"><span class="linenos"> 223</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_top</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="L-224"><a href="#L-224"><span class="linenos"> 224</span></a><span class="s2">            QPushButton {</span>
</span><span id="L-225"><a href="#L-225"><span class="linenos"> 225</span></a><span class="s2">                color: transparent;</span>
</span><span id="L-226"><a href="#L-226"><span class="linenos"> 226</span></a><span class="s2">                background-color: transparent; </span>
</span><span id="L-227"><a href="#L-227"><span class="linenos"> 227</span></a><span class="s2">                border: 0px black;</span>
</span><span id="L-228"><a href="#L-228"><span class="linenos"> 228</span></a><span class="s2">            }</span>
</span><span id="L-229"><a href="#L-229"><span class="linenos"> 229</span></a><span class="s2">            &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="L-230"><a href="#L-230"><span class="linenos"> 230</span></a>        <span class="n">tracker_deadzone_top</span> <span class="o">=</span> <span class="n">EventTrackerSplitBypassDeadzone</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_top</span><span class="p">)</span>
</span><span id="L-231"><a href="#L-231"><span class="linenos"> 231</span></a>        <span class="n">tracker_deadzone_top</span><span class="o">.</span><span class="n">mouse_position_changed_global</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">update_split_given_global</span><span class="p">)</span>
</span><span id="L-232"><a href="#L-232"><span class="linenos"> 232</span></a>
</span><span id="L-233"><a href="#L-233"><span class="linenos"> 233</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_bottom</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="L-234"><a href="#L-234"><span class="linenos"> 234</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_bottom</span><span class="o">.</span><span class="n">setFixedHeight</span><span class="p">(</span><span class="n">px_deadzone</span><span class="p">)</span>
</span><span id="L-235"><a href="#L-235"><span class="linenos"> 235</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_bottom</span><span class="o">.</span><span class="n">setSizePolicy</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Expanding</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Fixed</span><span class="p">)</span>
</span><span id="L-236"><a href="#L-236"><span class="linenos"> 236</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_bottom</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</span><span id="L-237"><a href="#L-237"><span class="linenos"> 237</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_bottom</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="L-238"><a href="#L-238"><span class="linenos"> 238</span></a><span class="s2">            QPushButton {</span>
</span><span id="L-239"><a href="#L-239"><span class="linenos"> 239</span></a><span class="s2">                color: transparent;</span>
</span><span id="L-240"><a href="#L-240"><span class="linenos"> 240</span></a><span class="s2">                background-color: transparent; </span>
</span><span id="L-241"><a href="#L-241"><span class="linenos"> 241</span></a><span class="s2">                border: 0px black;</span>
</span><span id="L-242"><a href="#L-242"><span class="linenos"> 242</span></a><span class="s2">            }</span>
</span><span id="L-243"><a href="#L-243"><span class="linenos"> 243</span></a><span class="s2">            &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="L-244"><a href="#L-244"><span class="linenos"> 244</span></a>        <span class="n">tracker_deadzone_bottom</span> <span class="o">=</span> <span class="n">EventTrackerSplitBypassDeadzone</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_bottom</span><span class="p">)</span>
</span><span id="L-245"><a href="#L-245"><span class="linenos"> 245</span></a>        <span class="n">tracker_deadzone_bottom</span><span class="o">.</span><span class="n">mouse_position_changed_global</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">update_split_given_global</span><span class="p">)</span>
</span><span id="L-246"><a href="#L-246"><span class="linenos"> 246</span></a>
</span><span id="L-247"><a href="#L-247"><span class="linenos"> 247</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_left</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="L-248"><a href="#L-248"><span class="linenos"> 248</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_left</span><span class="o">.</span><span class="n">setFixedWidth</span><span class="p">(</span><span class="n">px_deadzone</span><span class="p">)</span>
</span><span id="L-249"><a href="#L-249"><span class="linenos"> 249</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_left</span><span class="o">.</span><span class="n">setSizePolicy</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Fixed</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Expanding</span><span class="p">)</span>
</span><span id="L-250"><a href="#L-250"><span class="linenos"> 250</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_left</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</span><span id="L-251"><a href="#L-251"><span class="linenos"> 251</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_left</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="L-252"><a href="#L-252"><span class="linenos"> 252</span></a><span class="s2">            QPushButton {</span>
</span><span id="L-253"><a href="#L-253"><span class="linenos"> 253</span></a><span class="s2">                color: transparent;</span>
</span><span id="L-254"><a href="#L-254"><span class="linenos"> 254</span></a><span class="s2">                background-color: transparent; </span>
</span><span id="L-255"><a href="#L-255"><span class="linenos"> 255</span></a><span class="s2">                border: 0px black;</span>
</span><span id="L-256"><a href="#L-256"><span class="linenos"> 256</span></a><span class="s2">            }</span>
</span><span id="L-257"><a href="#L-257"><span class="linenos"> 257</span></a><span class="s2">            &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="L-258"><a href="#L-258"><span class="linenos"> 258</span></a>        <span class="n">tracker_deadzone_left</span> <span class="o">=</span> <span class="n">EventTrackerSplitBypassDeadzone</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_left</span><span class="p">)</span>
</span><span id="L-259"><a href="#L-259"><span class="linenos"> 259</span></a>        <span class="n">tracker_deadzone_left</span><span class="o">.</span><span class="n">mouse_position_changed_global</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">update_split_given_global</span><span class="p">)</span>
</span><span id="L-260"><a href="#L-260"><span class="linenos"> 260</span></a>
</span><span id="L-261"><a href="#L-261"><span class="linenos"> 261</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_right</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="L-262"><a href="#L-262"><span class="linenos"> 262</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_right</span><span class="o">.</span><span class="n">setFixedWidth</span><span class="p">(</span><span class="n">px_deadzone</span><span class="p">)</span>
</span><span id="L-263"><a href="#L-263"><span class="linenos"> 263</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_right</span><span class="o">.</span><span class="n">setSizePolicy</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Fixed</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Expanding</span><span class="p">)</span>
</span><span id="L-264"><a href="#L-264"><span class="linenos"> 264</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_right</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</span><span id="L-265"><a href="#L-265"><span class="linenos"> 265</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_right</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="L-266"><a href="#L-266"><span class="linenos"> 266</span></a><span class="s2">            QPushButton {</span>
</span><span id="L-267"><a href="#L-267"><span class="linenos"> 267</span></a><span class="s2">                color: transparent;</span>
</span><span id="L-268"><a href="#L-268"><span class="linenos"> 268</span></a><span class="s2">                background-color: transparent; </span>
</span><span id="L-269"><a href="#L-269"><span class="linenos"> 269</span></a><span class="s2">                border: 0px black;</span>
</span><span id="L-270"><a href="#L-270"><span class="linenos"> 270</span></a><span class="s2">            }</span>
</span><span id="L-271"><a href="#L-271"><span class="linenos"> 271</span></a><span class="s2">            &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="L-272"><a href="#L-272"><span class="linenos"> 272</span></a>        <span class="n">tracker_deadzone_right</span> <span class="o">=</span> <span class="n">EventTrackerSplitBypassDeadzone</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_right</span><span class="p">)</span>
</span><span id="L-273"><a href="#L-273"><span class="linenos"> 273</span></a>        <span class="n">tracker_deadzone_right</span><span class="o">.</span><span class="n">mouse_position_changed_global</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">update_split_given_global</span><span class="p">)</span>
</span><span id="L-274"><a href="#L-274"><span class="linenos"> 274</span></a>
</span><span id="L-275"><a href="#L-275"><span class="linenos"> 275</span></a>        <span class="c1"># A frame is placed over the border of the widget to highlight it as the active subwindow in Butterfly Viewer.</span>
</span><span id="L-276"><a href="#L-276"><span class="linenos"> 276</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">frame_hud</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QFrame</span><span class="p">()</span>
</span><span id="L-277"><a href="#L-277"><span class="linenos"> 277</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">frame_hud</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;border: 0px solid transparent&quot;</span><span class="p">)</span>
</span><span id="L-278"><a href="#L-278"><span class="linenos"> 278</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">frame_hud</span><span class="o">.</span><span class="n">setAttribute</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">WA_TransparentForMouseEvents</span><span class="p">)</span>
</span><span id="L-279"><a href="#L-279"><span class="linenos"> 279</span></a>
</span><span id="L-280"><a href="#L-280"><span class="linenos"> 280</span></a>        <span class="c1"># Set layout</span>
</span><span id="L-281"><a href="#L-281"><span class="linenos"> 281</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="L-282"><a href="#L-282"><span class="linenos"> 282</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_view_layoutdriving_topleft</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="L-283"><a href="#L-283"><span class="linenos"> 283</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_view_topright</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="L-284"><a href="#L-284"><span class="linenos"> 284</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomleft</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="L-285"><a href="#L-285"><span class="linenos"> 285</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomright</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="L-286"><a href="#L-286"><span class="linenos"> 286</span></a>
</span><span id="L-287"><a href="#L-287"><span class="linenos"> 287</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_top</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignTop</span><span class="p">)</span>
</span><span id="L-288"><a href="#L-288"><span class="linenos"> 288</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_bottom</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignBottom</span><span class="p">)</span>
</span><span id="L-289"><a href="#L-289"><span class="linenos"> 289</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_left</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignLeft</span><span class="p">)</span>
</span><span id="L-290"><a href="#L-290"><span class="linenos"> 290</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_right</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignRight</span><span class="p">)</span>
</span><span id="L-291"><a href="#L-291"><span class="linenos"> 291</span></a>
</span><span id="L-292"><a href="#L-292"><span class="linenos"> 292</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_hud</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="L-293"><a href="#L-293"><span class="linenos"> 293</span></a>
</span><span id="L-294"><a href="#L-294"><span class="linenos"> 294</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">label_main_topleft</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignTop</span> <span class="o">|</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignLeft</span><span class="p">)</span>
</span><span id="L-295"><a href="#L-295"><span class="linenos"> 295</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">label_topright</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignTop</span> <span class="o">|</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignRight</span><span class="p">)</span>
</span><span id="L-296"><a href="#L-296"><span class="linenos"> 296</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">label_bottomright</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignBottom</span> <span class="o">|</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignRight</span><span class="p">)</span>
</span><span id="L-297"><a href="#L-297"><span class="linenos"> 297</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">label_bottomleft</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignBottom</span> <span class="o">|</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignLeft</span><span class="p">)</span>
</span><span id="L-298"><a href="#L-298"><span class="linenos"> 298</span></a>
</span><span id="L-299"><a href="#L-299"><span class="linenos"> 299</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">close_pushbutton</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignTop</span> <span class="o">|</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignRight</span><span class="p">)</span>
</span><span id="L-300"><a href="#L-300"><span class="linenos"> 300</span></a>
</span><span id="L-301"><a href="#L-301"><span class="linenos"> 301</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_layout</span><span class="p">)</span>
</span><span id="L-302"><a href="#L-302"><span class="linenos"> 302</span></a>
</span><span id="L-303"><a href="#L-303"><span class="linenos"> 303</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_scene_background_color</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">background_color</span><span class="p">)</span>
</span><span id="L-304"><a href="#L-304"><span class="linenos"> 304</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;border: 0px; border-style: solid; border-color: red; background-color: rgba(0,0,0,0)&quot;</span><span class="p">)</span>
</span><span id="L-305"><a href="#L-305"><span class="linenos"> 305</span></a>
</span><span id="L-306"><a href="#L-306"><span class="linenos"> 306</span></a>        <span class="c1"># Track the mouse position to know where to set the split</span>
</span><span id="L-307"><a href="#L-307"><span class="linenos"> 307</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tracker</span> <span class="o">=</span> <span class="n">EventTracker</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-308"><a href="#L-308"><span class="linenos"> 308</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tracker</span><span class="o">.</span><span class="n">mouse_position_changed</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">positionChanged</span><span class="p">)</span>
</span><span id="L-309"><a href="#L-309"><span class="linenos"> 309</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tracker</span><span class="o">.</span><span class="n">mouse_position_changed</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_positionChanged</span><span class="p">)</span>
</span><span id="L-310"><a href="#L-310"><span class="linenos"> 310</span></a>        
</span><span id="L-311"><a href="#L-311"><span class="linenos"> 311</span></a>        <span class="c1"># Create a rectangular box the size of one pixel in the main scene to show the user the size and position of the pixel over which their mouse is hovering </span>
</span><span id="L-312"><a href="#L-312"><span class="linenos"> 312</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_scene_main_topleft</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-313"><a href="#L-313"><span class="linenos"> 313</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">create_mouse_rect</span><span class="p">()</span>
</span><span id="L-314"><a href="#L-314"><span class="linenos"> 314</span></a>
</span><span id="L-315"><a href="#L-315"><span class="linenos"> 315</span></a>        <span class="c1"># Allow users to lock the split and remember where the split was last set</span>
</span><span id="L-316"><a href="#L-316"><span class="linenos"> 316</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">split_locked</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-317"><a href="#L-317"><span class="linenos"> 317</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">last_updated_point_of_split_on_scene_main</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPoint</span><span class="p">()</span>
</span><span id="L-318"><a href="#L-318"><span class="linenos"> 318</span></a>
</span><span id="L-319"><a href="#L-319"><span class="linenos"> 319</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">enableScrollBars</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span> <span class="c1"># Clean look with no scrollbars</span>
</span><span id="L-320"><a href="#L-320"><span class="linenos"> 320</span></a>
</span><span id="L-321"><a href="#L-321"><span class="linenos"> 321</span></a>        <span class="c1"># Determine zoom adjustment to scale the non-main images now instead</span>
</span><span id="L-322"><a href="#L-322"><span class="linenos"> 322</span></a>        <span class="c1"># on zoom call because the sender and receivers are always the same.</span>
</span><span id="L-323"><a href="#L-323"><span class="linenos"> 323</span></a>        <span class="c1"># TODO: If the photostream feature (next/prev) is to be created, these </span>
</span><span id="L-324"><a href="#L-324"><span class="linenos"> 324</span></a>        <span class="c1"># adjustment values will need to be recalculated on each new image.</span>
</span><span id="L-325"><a href="#L-325"><span class="linenos"> 325</span></a>        <span class="n">sync_by</span> <span class="o">=</span> <span class="s2">&quot;box&quot;</span>
</span><span id="L-326"><a href="#L-326"><span class="linenos"> 326</span></a>        <span class="n">sender_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_main_topleft</span><span class="o">.</span><span class="n">pixmap</span><span class="p">()</span><span class="o">.</span><span class="n">width</span><span class="p">()</span>
</span><span id="L-327"><a href="#L-327"><span class="linenos"> 327</span></a>        <span class="n">sender_height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_main_topleft</span><span class="o">.</span><span class="n">pixmap</span><span class="p">()</span><span class="o">.</span><span class="n">height</span><span class="p">()</span>
</span><span id="L-328"><a href="#L-328"><span class="linenos"> 328</span></a>        <span class="n">sender_dimension</span> <span class="o">=</span> <span class="n">determineSyncSenderDimension</span><span class="p">(</span><span class="n">sender_width</span><span class="p">,</span>
</span><span id="L-329"><a href="#L-329"><span class="linenos"> 329</span></a>                                                        <span class="n">sender_height</span><span class="p">,</span>
</span><span id="L-330"><a href="#L-330"><span class="linenos"> 330</span></a>                                                        <span class="n">sync_by</span><span class="p">)</span>
</span><span id="L-331"><a href="#L-331"><span class="linenos"> 331</span></a>
</span><span id="L-332"><a href="#L-332"><span class="linenos"> 332</span></a>        <span class="n">topright_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_topright</span><span class="o">.</span><span class="n">pixmap</span><span class="p">()</span><span class="o">.</span><span class="n">width</span><span class="p">()</span>
</span><span id="L-333"><a href="#L-333"><span class="linenos"> 333</span></a>        <span class="n">topright_height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_topright</span><span class="o">.</span><span class="n">pixmap</span><span class="p">()</span><span class="o">.</span><span class="n">height</span><span class="p">()</span>
</span><span id="L-334"><a href="#L-334"><span class="linenos"> 334</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_topright_zoom_adjust</span> <span class="o">=</span> <span class="n">determineSyncAdjustmentFactor</span><span class="p">(</span><span class="n">sync_by</span><span class="p">,</span> <span class="n">sender_dimension</span><span class="p">,</span>
</span><span id="L-335"><a href="#L-335"><span class="linenos"> 335</span></a>                                                                  <span class="n">topright_width</span><span class="p">,</span>
</span><span id="L-336"><a href="#L-336"><span class="linenos"> 336</span></a>                                                                  <span class="n">topright_height</span><span class="p">)</span>
</span><span id="L-337"><a href="#L-337"><span class="linenos"> 337</span></a>        
</span><span id="L-338"><a href="#L-338"><span class="linenos"> 338</span></a>        <span class="n">bottomright_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_bottomright</span><span class="o">.</span><span class="n">pixmap</span><span class="p">()</span><span class="o">.</span><span class="n">width</span><span class="p">()</span>
</span><span id="L-339"><a href="#L-339"><span class="linenos"> 339</span></a>        <span class="n">bottomright_height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_bottomright</span><span class="o">.</span><span class="n">pixmap</span><span class="p">()</span><span class="o">.</span><span class="n">height</span><span class="p">()</span>
</span><span id="L-340"><a href="#L-340"><span class="linenos"> 340</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_bottomright_zoom_adjust</span> <span class="o">=</span> <span class="n">determineSyncAdjustmentFactor</span><span class="p">(</span><span class="n">sync_by</span><span class="p">,</span> <span class="n">sender_dimension</span><span class="p">,</span>
</span><span id="L-341"><a href="#L-341"><span class="linenos"> 341</span></a>                                                                      <span class="n">bottomright_width</span><span class="p">,</span>
</span><span id="L-342"><a href="#L-342"><span class="linenos"> 342</span></a>                                                                      <span class="n">bottomright_height</span><span class="p">)</span>
</span><span id="L-343"><a href="#L-343"><span class="linenos"> 343</span></a>        
</span><span id="L-344"><a href="#L-344"><span class="linenos"> 344</span></a>        <span class="n">bottomleft_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_bottomleft</span><span class="o">.</span><span class="n">pixmap</span><span class="p">()</span><span class="o">.</span><span class="n">width</span><span class="p">()</span>
</span><span id="L-345"><a href="#L-345"><span class="linenos"> 345</span></a>        <span class="n">bottomleft_height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_bottomleft</span><span class="o">.</span><span class="n">pixmap</span><span class="p">()</span><span class="o">.</span><span class="n">height</span><span class="p">()</span>
</span><span id="L-346"><a href="#L-346"><span class="linenos"> 346</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_bottomleft_zoom_adjust</span> <span class="o">=</span> <span class="n">determineSyncAdjustmentFactor</span><span class="p">(</span><span class="n">sync_by</span><span class="p">,</span> <span class="n">sender_dimension</span><span class="p">,</span>
</span><span id="L-347"><a href="#L-347"><span class="linenos"> 347</span></a>                                                                     <span class="n">bottomleft_width</span><span class="p">,</span>
</span><span id="L-348"><a href="#L-348"><span class="linenos"> 348</span></a>                                                                     <span class="n">bottomleft_height</span><span class="p">)</span>
</span><span id="L-349"><a href="#L-349"><span class="linenos"> 349</span></a>
</span><span id="L-350"><a href="#L-350"><span class="linenos"> 350</span></a>    <span class="nd">@property</span>
</span><span id="L-351"><a href="#L-351"><span class="linenos"> 351</span></a>    <span class="k">def</span> <span class="nf">currentFile</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-352"><a href="#L-352"><span class="linenos"> 352</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;str: Filepath of base image (filename_main_topleft).&quot;&quot;&quot;</span>
</span><span id="L-353"><a href="#L-353"><span class="linenos"> 353</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_currentFile</span>
</span><span id="L-354"><a href="#L-354"><span class="linenos"> 354</span></a>
</span><span id="L-355"><a href="#L-355"><span class="linenos"> 355</span></a>    <span class="nd">@currentFile</span><span class="o">.</span><span class="n">setter</span>
</span><span id="L-356"><a href="#L-356"><span class="linenos"> 356</span></a>    <span class="k">def</span> <span class="nf">currentFile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename_main_topleft</span><span class="p">):</span>
</span><span id="L-357"><a href="#L-357"><span class="linenos"> 357</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_currentFile</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QFileInfo</span><span class="p">(</span><span class="n">filename_main_topleft</span><span class="p">)</span><span class="o">.</span><span class="n">canonicalFilePath</span><span class="p">()</span>
</span><span id="L-358"><a href="#L-358"><span class="linenos"> 358</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_isUntitled</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-359"><a href="#L-359"><span class="linenos"> 359</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">userFriendlyCurrentFile</span><span class="p">)</span>
</span><span id="L-360"><a href="#L-360"><span class="linenos"> 360</span></a>
</span><span id="L-361"><a href="#L-361"><span class="linenos"> 361</span></a>    <span class="nd">@property</span>
</span><span id="L-362"><a href="#L-362"><span class="linenos"> 362</span></a>    <span class="k">def</span> <span class="nf">userFriendlyCurrentFile</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-363"><a href="#L-363"><span class="linenos"> 363</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;str: Filename of base image.&quot;&quot;&quot;</span>
</span><span id="L-364"><a href="#L-364"><span class="linenos"> 364</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">currentFile</span><span class="p">:</span>
</span><span id="L-365"><a href="#L-365"><span class="linenos"> 365</span></a>            <span class="k">return</span> <span class="n">strippedName</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">currentFile</span><span class="p">)</span>
</span><span id="L-366"><a href="#L-366"><span class="linenos"> 366</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-367"><a href="#L-367"><span class="linenos"> 367</span></a>            <span class="k">return</span> <span class="s2">&quot;&quot;</span>
</span><span id="L-368"><a href="#L-368"><span class="linenos"> 368</span></a>    
</span><span id="L-369"><a href="#L-369"><span class="linenos"> 369</span></a>    <span class="k">def</span> <span class="nf">set_close_pushbutton_always_visible</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">boolean</span><span class="p">):</span>
</span><span id="L-370"><a href="#L-370"><span class="linenos"> 370</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Enable/disable the always-on visiblilty of the close X of the view.</span>
</span><span id="L-371"><a href="#L-371"><span class="linenos"> 371</span></a><span class="sd">        </span>
</span><span id="L-372"><a href="#L-372"><span class="linenos"> 372</span></a><span class="sd">        Arg:</span>
</span><span id="L-373"><a href="#L-373"><span class="linenos"> 373</span></a><span class="sd">            boolean (bool): True to show the close X always; False to hide unless mouse hovers over.</span>
</span><span id="L-374"><a href="#L-374"><span class="linenos"> 374</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-375"><a href="#L-375"><span class="linenos"> 375</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">close_pushbutton_always_visible</span> <span class="o">=</span> <span class="n">boolean</span>
</span><span id="L-376"><a href="#L-376"><span class="linenos"> 376</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">refresh_close_pushbutton_stylesheet</span><span class="p">()</span>
</span><span id="L-377"><a href="#L-377"><span class="linenos"> 377</span></a>            
</span><span id="L-378"><a href="#L-378"><span class="linenos"> 378</span></a>    <span class="k">def</span> <span class="nf">refresh_close_pushbutton_stylesheet</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-379"><a href="#L-379"><span class="linenos"> 379</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Refresh stylesheet of close pushbutton based on background color and visibility.&quot;&quot;&quot;</span>
</span><span id="L-380"><a href="#L-380"><span class="linenos"> 380</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">close_pushbutton</span><span class="p">:</span>
</span><span id="L-381"><a href="#L-381"><span class="linenos"> 381</span></a>            <span class="k">return</span>
</span><span id="L-382"><a href="#L-382"><span class="linenos"> 382</span></a>        <span class="n">always_visible</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">close_pushbutton_always_visible</span>
</span><span id="L-383"><a href="#L-383"><span class="linenos"> 383</span></a>        <span class="n">background_rgb</span> <span class="o">=</span>  <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">background_rgb</span>
</span><span id="L-384"><a href="#L-384"><span class="linenos"> 384</span></a>        <span class="n">avg_background_rgb</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">background_rgb</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">background_rgb</span><span class="p">)</span>
</span><span id="L-385"><a href="#L-385"><span class="linenos"> 385</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">always_visible</span><span class="p">:</span> <span class="c1"># Hide unless hovered</span>
</span><span id="L-386"><a href="#L-386"><span class="linenos"> 386</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">close_pushbutton</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="L-387"><a href="#L-387"><span class="linenos"> 387</span></a><span class="s2">                QPushButton {</span>
</span><span id="L-388"><a href="#L-388"><span class="linenos"> 388</span></a><span class="s2">                    width: 1.8em;</span>
</span><span id="L-389"><a href="#L-389"><span class="linenos"> 389</span></a><span class="s2">                    height: 1.8em;</span>
</span><span id="L-390"><a href="#L-390"><span class="linenos"> 390</span></a><span class="s2">                    color: transparent;</span>
</span><span id="L-391"><a href="#L-391"><span class="linenos"> 391</span></a><span class="s2">                    background-color: rgba(223, 0, 0, 0); </span>
</span><span id="L-392"><a href="#L-392"><span class="linenos"> 392</span></a><span class="s2">                    font-weight: bold;</span>
</span><span id="L-393"><a href="#L-393"><span class="linenos"> 393</span></a><span class="s2">                    border-width: 0px;</span>
</span><span id="L-394"><a href="#L-394"><span class="linenos"> 394</span></a><span class="s2">                    border-style: solid;</span>
</span><span id="L-395"><a href="#L-395"><span class="linenos"> 395</span></a><span class="s2">                    border-color: transparent;</span>
</span><span id="L-396"><a href="#L-396"><span class="linenos"> 396</span></a><span class="s2">                    font-size: 10pt;</span>
</span><span id="L-397"><a href="#L-397"><span class="linenos"> 397</span></a><span class="s2">                }</span>
</span><span id="L-398"><a href="#L-398"><span class="linenos"> 398</span></a><span class="s2">                QPushButton:hover {</span>
</span><span id="L-399"><a href="#L-399"><span class="linenos"> 399</span></a><span class="s2">                    color: white;</span>
</span><span id="L-400"><a href="#L-400"><span class="linenos"> 400</span></a><span class="s2">                    background-color: rgba(223, 0, 0, 223);</span>
</span><span id="L-401"><a href="#L-401"><span class="linenos"> 401</span></a><span class="s2">                }</span>
</span><span id="L-402"><a href="#L-402"><span class="linenos"> 402</span></a><span class="s2">                QPushButton:pressed {</span>
</span><span id="L-403"><a href="#L-403"><span class="linenos"> 403</span></a><span class="s2">                    color: white;</span>
</span><span id="L-404"><a href="#L-404"><span class="linenos"> 404</span></a><span class="s2">                    background-color: rgba(255, 0, 0, 255);</span>
</span><span id="L-405"><a href="#L-405"><span class="linenos"> 405</span></a><span class="s2">                }</span>
</span><span id="L-406"><a href="#L-406"><span class="linenos"> 406</span></a><span class="s2">                &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="L-407"><a href="#L-407"><span class="linenos"> 407</span></a>        <span class="k">else</span><span class="p">:</span> <span class="c1"># Always visible</span>
</span><span id="L-408"><a href="#L-408"><span class="linenos"> 408</span></a>            <span class="k">if</span> <span class="n">avg_background_rgb</span> <span class="o">&gt;=</span> <span class="mi">223</span><span class="p">:</span> <span class="c1"># Unhovered is black X on light background</span>
</span><span id="L-409"><a href="#L-409"><span class="linenos"> 409</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">close_pushbutton</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="L-410"><a href="#L-410"><span class="linenos"> 410</span></a><span class="s2">                    QPushButton {</span>
</span><span id="L-411"><a href="#L-411"><span class="linenos"> 411</span></a><span class="s2">                        width: 1.8em;</span>
</span><span id="L-412"><a href="#L-412"><span class="linenos"> 412</span></a><span class="s2">                        height: 1.8em;</span>
</span><span id="L-413"><a href="#L-413"><span class="linenos"> 413</span></a><span class="s2">                        color: black;</span>
</span><span id="L-414"><a href="#L-414"><span class="linenos"> 414</span></a><span class="s2">                        background-color: rgba(223, 0, 0, 0); </span>
</span><span id="L-415"><a href="#L-415"><span class="linenos"> 415</span></a><span class="s2">                        font-weight: bold;</span>
</span><span id="L-416"><a href="#L-416"><span class="linenos"> 416</span></a><span class="s2">                        border-width: 0px;</span>
</span><span id="L-417"><a href="#L-417"><span class="linenos"> 417</span></a><span class="s2">                        border-style: solid;</span>
</span><span id="L-418"><a href="#L-418"><span class="linenos"> 418</span></a><span class="s2">                        border-color: transparent;</span>
</span><span id="L-419"><a href="#L-419"><span class="linenos"> 419</span></a><span class="s2">                        font-size: 10pt;</span>
</span><span id="L-420"><a href="#L-420"><span class="linenos"> 420</span></a><span class="s2">                    }</span>
</span><span id="L-421"><a href="#L-421"><span class="linenos"> 421</span></a><span class="s2">                    QPushButton:hover {</span>
</span><span id="L-422"><a href="#L-422"><span class="linenos"> 422</span></a><span class="s2">                        color: white;</span>
</span><span id="L-423"><a href="#L-423"><span class="linenos"> 423</span></a><span class="s2">                        background-color: rgba(223, 0, 0, 223);</span>
</span><span id="L-424"><a href="#L-424"><span class="linenos"> 424</span></a><span class="s2">                    }</span>
</span><span id="L-425"><a href="#L-425"><span class="linenos"> 425</span></a><span class="s2">                    QPushButton:pressed {</span>
</span><span id="L-426"><a href="#L-426"><span class="linenos"> 426</span></a><span class="s2">                        color: white;</span>
</span><span id="L-427"><a href="#L-427"><span class="linenos"> 427</span></a><span class="s2">                        background-color: rgba(255, 0, 0, 255);</span>
</span><span id="L-428"><a href="#L-428"><span class="linenos"> 428</span></a><span class="s2">                    }</span>
</span><span id="L-429"><a href="#L-429"><span class="linenos"> 429</span></a><span class="s2">                    &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="L-430"><a href="#L-430"><span class="linenos"> 430</span></a>            <span class="k">else</span><span class="p">:</span> <span class="c1"># Unhovered is white X on dark background</span>
</span><span id="L-431"><a href="#L-431"><span class="linenos"> 431</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">close_pushbutton</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="L-432"><a href="#L-432"><span class="linenos"> 432</span></a><span class="s2">                    QPushButton {</span>
</span><span id="L-433"><a href="#L-433"><span class="linenos"> 433</span></a><span class="s2">                        width: 1.8em;</span>
</span><span id="L-434"><a href="#L-434"><span class="linenos"> 434</span></a><span class="s2">                        height: 1.8em;</span>
</span><span id="L-435"><a href="#L-435"><span class="linenos"> 435</span></a><span class="s2">                        color: white;</span>
</span><span id="L-436"><a href="#L-436"><span class="linenos"> 436</span></a><span class="s2">                        background-color: rgba(223, 0, 0, 0); </span>
</span><span id="L-437"><a href="#L-437"><span class="linenos"> 437</span></a><span class="s2">                        font-weight: bold;</span>
</span><span id="L-438"><a href="#L-438"><span class="linenos"> 438</span></a><span class="s2">                        border-width: 0px;</span>
</span><span id="L-439"><a href="#L-439"><span class="linenos"> 439</span></a><span class="s2">                        border-style: solid;</span>
</span><span id="L-440"><a href="#L-440"><span class="linenos"> 440</span></a><span class="s2">                        border-color: transparent;</span>
</span><span id="L-441"><a href="#L-441"><span class="linenos"> 441</span></a><span class="s2">                        font-size: 10pt;</span>
</span><span id="L-442"><a href="#L-442"><span class="linenos"> 442</span></a><span class="s2">                    }</span>
</span><span id="L-443"><a href="#L-443"><span class="linenos"> 443</span></a><span class="s2">                    QPushButton:hover {</span>
</span><span id="L-444"><a href="#L-444"><span class="linenos"> 444</span></a><span class="s2">                        color: white;</span>
</span><span id="L-445"><a href="#L-445"><span class="linenos"> 445</span></a><span class="s2">                        background-color: rgba(223, 0, 0, 223);</span>
</span><span id="L-446"><a href="#L-446"><span class="linenos"> 446</span></a><span class="s2">                    }</span>
</span><span id="L-447"><a href="#L-447"><span class="linenos"> 447</span></a><span class="s2">                    QPushButton:pressed {</span>
</span><span id="L-448"><a href="#L-448"><span class="linenos"> 448</span></a><span class="s2">                        color: white;</span>
</span><span id="L-449"><a href="#L-449"><span class="linenos"> 449</span></a><span class="s2">                        background-color: rgba(255, 0, 0, 255);</span>
</span><span id="L-450"><a href="#L-450"><span class="linenos"> 450</span></a><span class="s2">                    }</span>
</span><span id="L-451"><a href="#L-451"><span class="linenos"> 451</span></a><span class="s2">                    &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="L-452"><a href="#L-452"><span class="linenos"> 452</span></a>            
</span><span id="L-453"><a href="#L-453"><span class="linenos"> 453</span></a>        
</span><span id="L-454"><a href="#L-454"><span class="linenos"> 454</span></a>    <span class="k">def</span> <span class="nf">set_scene_background</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">brush</span><span class="p">):</span>
</span><span id="L-455"><a href="#L-455"><span class="linenos"> 455</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set scene background color with QBrush.</span>
</span><span id="L-456"><a href="#L-456"><span class="linenos"> 456</span></a><span class="sd">        </span>
</span><span id="L-457"><a href="#L-457"><span class="linenos"> 457</span></a><span class="sd">        Args:</span>
</span><span id="L-458"><a href="#L-458"><span class="linenos"> 458</span></a><span class="sd">            brush (QBrush)</span>
</span><span id="L-459"><a href="#L-459"><span class="linenos"> 459</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-460"><a href="#L-460"><span class="linenos"> 460</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="p">:</span>
</span><span id="L-461"><a href="#L-461"><span class="linenos"> 461</span></a>            <span class="k">return</span>
</span><span id="L-462"><a href="#L-462"><span class="linenos"> 462</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">setBackgroundBrush</span><span class="p">(</span><span class="n">brush</span><span class="p">)</span>
</span><span id="L-463"><a href="#L-463"><span class="linenos"> 463</span></a>
</span><span id="L-464"><a href="#L-464"><span class="linenos"> 464</span></a>    <span class="k">def</span> <span class="nf">set_scene_background_color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">color</span><span class="p">:</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="L-465"><a href="#L-465"><span class="linenos"> 465</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set scene background color with color list.</span>
</span><span id="L-466"><a href="#L-466"><span class="linenos"> 466</span></a>
</span><span id="L-467"><a href="#L-467"><span class="linenos"> 467</span></a><span class="sd">        The init for CustomQGraphicsScene contains the ground truth for selectable background colors.</span>
</span><span id="L-468"><a href="#L-468"><span class="linenos"> 468</span></a><span class="sd">        </span>
</span><span id="L-469"><a href="#L-469"><span class="linenos"> 469</span></a><span class="sd">        Args:</span>
</span><span id="L-470"><a href="#L-470"><span class="linenos"> 470</span></a><span class="sd">            color (list): Descriptor string and RGB int values. Example: [&quot;White&quot;, 255, 255, 255].</span>
</span><span id="L-471"><a href="#L-471"><span class="linenos"> 471</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-472"><a href="#L-472"><span class="linenos"> 472</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="p">:</span>
</span><span id="L-473"><a href="#L-473"><span class="linenos"> 473</span></a>            <span class="k">return</span>
</span><span id="L-474"><a href="#L-474"><span class="linenos"> 474</span></a>        <span class="n">rgb</span> <span class="o">=</span> <span class="n">color</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
</span><span id="L-475"><a href="#L-475"><span class="linenos"> 475</span></a>        <span class="n">rgb_clamp</span> <span class="o">=</span> <span class="p">[</span><span class="nb">max</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span> <span class="k">for</span> <span class="n">channel</span> <span class="ow">in</span> <span class="n">rgb</span><span class="p">]</span>
</span><span id="L-476"><a href="#L-476"><span class="linenos"> 476</span></a>        <span class="n">brush</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QColor</span><span class="p">(</span><span class="n">rgb_clamp</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">rgb_clamp</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">rgb_clamp</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</span><span id="L-477"><a href="#L-477"><span class="linenos"> 477</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_scene_background</span><span class="p">(</span><span class="n">brush</span><span class="p">)</span>
</span><span id="L-478"><a href="#L-478"><span class="linenos"> 478</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">background_color</span> <span class="o">=</span> <span class="n">color</span>
</span><span id="L-479"><a href="#L-479"><span class="linenos"> 479</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">refresh_close_pushbutton_stylesheet</span><span class="p">()</span>
</span><span id="L-480"><a href="#L-480"><span class="linenos"> 480</span></a>
</span><span id="L-481"><a href="#L-481"><span class="linenos"> 481</span></a>    <span class="k">def</span> <span class="nf">update_sync_zoom_by</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">by</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="L-482"><a href="#L-482"><span class="linenos"> 482</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;[str] Update right-click menu of sync zoom by.&quot;&quot;&quot;</span>
</span><span id="L-483"><a href="#L-483"><span class="linenos"> 483</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">sync_zoom_by</span> <span class="o">=</span> <span class="n">by</span>
</span><span id="L-484"><a href="#L-484"><span class="linenos"> 484</span></a>    
</span><span id="L-485"><a href="#L-485"><span class="linenos"> 485</span></a>    <span class="k">def</span> <span class="nf">pixmap_none_ify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pixmap</span><span class="p">):</span>
</span><span id="L-486"><a href="#L-486"><span class="linenos"> 486</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return None if pixmap has no pixels.</span>
</span><span id="L-487"><a href="#L-487"><span class="linenos"> 487</span></a><span class="sd">        </span>
</span><span id="L-488"><a href="#L-488"><span class="linenos"> 488</span></a><span class="sd">        Args:</span>
</span><span id="L-489"><a href="#L-489"><span class="linenos"> 489</span></a><span class="sd">            pixmap (QPixmap)</span>
</span><span id="L-490"><a href="#L-490"><span class="linenos"> 490</span></a>
</span><span id="L-491"><a href="#L-491"><span class="linenos"> 491</span></a><span class="sd">        Returns:</span>
</span><span id="L-492"><a href="#L-492"><span class="linenos"> 492</span></a><span class="sd">            None if pixmap has no pixels; same pixmap if it has pixels</span>
</span><span id="L-493"><a href="#L-493"><span class="linenos"> 493</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-494"><a href="#L-494"><span class="linenos"> 494</span></a>        <span class="k">if</span> <span class="n">pixmap</span><span class="p">:</span>
</span><span id="L-495"><a href="#L-495"><span class="linenos"> 495</span></a>            <span class="k">if</span> <span class="n">pixmap</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">==</span><span class="mi">0</span> <span class="ow">or</span> <span class="n">pixmap</span><span class="o">.</span><span class="n">height</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
</span><span id="L-496"><a href="#L-496"><span class="linenos"> 496</span></a>                <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-497"><a href="#L-497"><span class="linenos"> 497</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-498"><a href="#L-498"><span class="linenos"> 498</span></a>                <span class="k">return</span> <span class="n">pixmap</span>
</span><span id="L-499"><a href="#L-499"><span class="linenos"> 499</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-500"><a href="#L-500"><span class="linenos"> 500</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-501"><a href="#L-501"><span class="linenos"> 501</span></a>    
</span><span id="L-502"><a href="#L-502"><span class="linenos"> 502</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QPoint</span><span class="p">)</span>
</span><span id="L-503"><a href="#L-503"><span class="linenos"> 503</span></a>    <span class="k">def</span> <span class="nf">on_positionChanged</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos</span><span class="p">):</span>
</span><span id="L-504"><a href="#L-504"><span class="linenos"> 504</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Update the position of the split and the 1x1 pixel rectangle.</span>
</span><span id="L-505"><a href="#L-505"><span class="linenos"> 505</span></a>
</span><span id="L-506"><a href="#L-506"><span class="linenos"> 506</span></a><span class="sd">        Triggered when mouse is moved.</span>
</span><span id="L-507"><a href="#L-507"><span class="linenos"> 507</span></a><span class="sd">        </span>
</span><span id="L-508"><a href="#L-508"><span class="linenos"> 508</span></a><span class="sd">        Args:</span>
</span><span id="L-509"><a href="#L-509"><span class="linenos"> 509</span></a><span class="sd">            pos (QPoint): The position of the mouse relative to widget.</span>
</span><span id="L-510"><a href="#L-510"><span class="linenos"> 510</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-511"><a href="#L-511"><span class="linenos"> 511</span></a>        <span class="n">point_of_mouse_on_widget</span> <span class="o">=</span> <span class="n">pos</span>
</span><span id="L-512"><a href="#L-512"><span class="linenos"> 512</span></a>        
</span><span id="L-513"><a href="#L-513"><span class="linenos"> 513</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">update_split</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="p">)</span>
</span><span id="L-514"><a href="#L-514"><span class="linenos"> 514</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">update_mouse_rect</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="p">)</span>
</span><span id="L-515"><a href="#L-515"><span class="linenos"> 515</span></a>
</span><span id="L-516"><a href="#L-516"><span class="linenos"> 516</span></a>    <span class="k">def</span> <span class="nf">set_split</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x_percent</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">y_percent</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">ignore_lock</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">percent_of_visible</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="L-517"><a href="#L-517"><span class="linenos"> 517</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the position of the split with x and y as proportion of base image&#39;s resolution.</span>
</span><span id="L-518"><a href="#L-518"><span class="linenos"> 518</span></a>
</span><span id="L-519"><a href="#L-519"><span class="linenos"> 519</span></a><span class="sd">        Sets split position using a proportion of x and y (by default of entire main pixmap; can be set to proportion of visible pixmap).</span>
</span><span id="L-520"><a href="#L-520"><span class="linenos"> 520</span></a><span class="sd">        Top left is x=0, y=0; bottom right is x=1, y=1.</span>
</span><span id="L-521"><a href="#L-521"><span class="linenos"> 521</span></a><span class="sd">        This is needed to position the split without mouse movement from user (for example, to preview the effect of the transparency sliders in Butterfly Viewer)</span>
</span><span id="L-522"><a href="#L-522"><span class="linenos"> 522</span></a><span class="sd">        </span>
</span><span id="L-523"><a href="#L-523"><span class="linenos"> 523</span></a><span class="sd">        Args:</span>
</span><span id="L-524"><a href="#L-524"><span class="linenos"> 524</span></a><span class="sd">            x_percent (float): The position of the split as a proportion (0-1) of the base image&#39;s horizontal resolution.</span>
</span><span id="L-525"><a href="#L-525"><span class="linenos"> 525</span></a><span class="sd">            y_percent (float): The position of the split as a proportion (0-1) of the base image&#39;s vertical resolution.</span>
</span><span id="L-526"><a href="#L-526"><span class="linenos"> 526</span></a><span class="sd">            ignore_lock (bool): True to ignore the lock status of the split; False to adhere.</span>
</span><span id="L-527"><a href="#L-527"><span class="linenos"> 527</span></a><span class="sd">            percent_of_visible (bool): True to set split as proportion of visible area; False as proportion of the full image resolution.</span>
</span><span id="L-528"><a href="#L-528"><span class="linenos"> 528</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-529"><a href="#L-529"><span class="linenos"> 529</span></a>        <span class="k">if</span> <span class="n">percent_of_visible</span><span class="p">:</span>
</span><span id="L-530"><a href="#L-530"><span class="linenos"> 530</span></a>            <span class="n">x</span> <span class="o">=</span> <span class="n">x_percent</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">()</span>
</span><span id="L-531"><a href="#L-531"><span class="linenos"> 531</span></a>            <span class="n">y</span> <span class="o">=</span> <span class="n">y_percent</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">()</span>
</span><span id="L-532"><a href="#L-532"><span class="linenos"> 532</span></a>            <span class="n">point_of_split_on_widget</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPoint</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</span><span id="L-533"><a href="#L-533"><span class="linenos"> 533</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-534"><a href="#L-534"><span class="linenos"> 534</span></a>            <span class="n">width_pixmap_main_topleft</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">imageWidth</span>
</span><span id="L-535"><a href="#L-535"><span class="linenos"> 535</span></a>            <span class="n">height_pixmap_main_topleft</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">imageHeight</span>
</span><span id="L-536"><a href="#L-536"><span class="linenos"> 536</span></a>
</span><span id="L-537"><a href="#L-537"><span class="linenos"> 537</span></a>            <span class="n">x</span> <span class="o">=</span> <span class="n">x_percent</span><span class="o">*</span><span class="n">width_pixmap_main_topleft</span>
</span><span id="L-538"><a href="#L-538"><span class="linenos"> 538</span></a>            <span class="n">y</span> <span class="o">=</span> <span class="n">y_percent</span><span class="o">*</span><span class="n">height_pixmap_main_topleft</span>
</span><span id="L-539"><a href="#L-539"><span class="linenos"> 539</span></a>
</span><span id="L-540"><a href="#L-540"><span class="linenos"> 540</span></a>            <span class="n">point_of_split_on_scene</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
</span><span id="L-541"><a href="#L-541"><span class="linenos"> 541</span></a>
</span><span id="L-542"><a href="#L-542"><span class="linenos"> 542</span></a>            <span class="n">point_of_split_on_widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapFromScene</span><span class="p">(</span><span class="n">point_of_split_on_scene</span><span class="p">)</span>
</span><span id="L-543"><a href="#L-543"><span class="linenos"> 543</span></a>
</span><span id="L-544"><a href="#L-544"><span class="linenos"> 544</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">update_split</span><span class="p">(</span><span class="n">point_of_split_on_widget</span><span class="p">,</span> <span class="n">ignore_lock</span><span class="o">=</span><span class="n">ignore_lock</span><span class="p">)</span>
</span><span id="L-545"><a href="#L-545"><span class="linenos"> 545</span></a>        
</span><span id="L-546"><a href="#L-546"><span class="linenos"> 546</span></a>    <span class="k">def</span> <span class="nf">update_split</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">pos_is_global</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ignore_lock</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span> 
</span><span id="L-547"><a href="#L-547"><span class="linenos"> 547</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Update the position of the split with mouse position.</span>
</span><span id="L-548"><a href="#L-548"><span class="linenos"> 548</span></a><span class="sd">        </span>
</span><span id="L-549"><a href="#L-549"><span class="linenos"> 549</span></a><span class="sd">        Args:</span>
</span><span id="L-550"><a href="#L-550"><span class="linenos"> 550</span></a><span class="sd">            pos (QPoint): Position of the mouse.</span>
</span><span id="L-551"><a href="#L-551"><span class="linenos"> 551</span></a><span class="sd">            pos_is_global (bool): True if given mouse position is relative to MdiChild; False if global position.</span>
</span><span id="L-552"><a href="#L-552"><span class="linenos"> 552</span></a><span class="sd">            ignore_lock (bool): True to ignore (bypass) the status of the split lock.</span>
</span><span id="L-553"><a href="#L-553"><span class="linenos"> 553</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-554"><a href="#L-554"><span class="linenos"> 554</span></a>        <span class="k">if</span> <span class="n">pos</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span> <span class="c1"># Get position of the split from the mouse&#39;s global coordinates (can be slow!)</span>
</span><span id="L-555"><a href="#L-555"><span class="linenos"> 555</span></a>            <span class="n">point_of_cursor_global</span>      <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QCursor</span><span class="o">.</span><span class="n">pos</span><span class="p">()</span>
</span><span id="L-556"><a href="#L-556"><span class="linenos"> 556</span></a>            <span class="n">point_of_mouse_on_widget</span>    <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapFromGlobal</span><span class="p">(</span><span class="n">point_of_cursor_global</span><span class="p">)</span>
</span><span id="L-557"><a href="#L-557"><span class="linenos"> 557</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-558"><a href="#L-558"><span class="linenos"> 558</span></a>            <span class="k">if</span> <span class="n">pos_is_global</span><span class="p">:</span>
</span><span id="L-559"><a href="#L-559"><span class="linenos"> 559</span></a>                <span class="n">point_of_mouse_on_widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapFromGlobal</span><span class="p">(</span><span class="n">pos</span><span class="p">)</span>
</span><span id="L-560"><a href="#L-560"><span class="linenos"> 560</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-561"><a href="#L-561"><span class="linenos"> 561</span></a>                <span class="n">point_of_mouse_on_widget</span> <span class="o">=</span> <span class="n">pos</span>
</span><span id="L-562"><a href="#L-562"><span class="linenos"> 562</span></a>
</span><span id="L-563"><a href="#L-563"><span class="linenos"> 563</span></a>        <span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">setX</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">x</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># Offset +1 needed to have mouse cursor be hovering over the main scene (e.g., to allow manipulation of graphics item)</span>
</span><span id="L-564"><a href="#L-564"><span class="linenos"> 564</span></a>        <span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">setY</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">y</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
</span><span id="L-565"><a href="#L-565"><span class="linenos"> 565</span></a>
</span><span id="L-566"><a href="#L-566"><span class="linenos"> 566</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">last_updated_point_of_split_on_scene_main</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapToScene</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span> <span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">y</span><span class="p">())</span>
</span><span id="L-567"><a href="#L-567"><span class="linenos"> 567</span></a>        
</span><span id="L-568"><a href="#L-568"><span class="linenos"> 568</span></a>        <span class="n">point_of_bottom_right_on_widget</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">())</span>
</span><span id="L-569"><a href="#L-569"><span class="linenos"> 569</span></a>        
</span><span id="L-570"><a href="#L-570"><span class="linenos"> 570</span></a>        <span class="n">point_of_widget_origin_on_scene_main</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapToScene</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
</span><span id="L-571"><a href="#L-571"><span class="linenos"> 571</span></a>
</span><span id="L-572"><a href="#L-572"><span class="linenos"> 572</span></a>        <span class="n">point_of_split_on_scene_main</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapToScene</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span><span class="mi">0</span><span class="p">),</span><span class="nb">max</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">y</span><span class="p">(),</span><span class="mi">0</span><span class="p">))</span>
</span><span id="L-573"><a href="#L-573"><span class="linenos"> 573</span></a>        <span class="n">point_of_bottom_right_on_scene_main</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapToScene</span><span class="p">(</span><span class="n">point_of_bottom_right_on_widget</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span> <span class="n">point_of_bottom_right_on_widget</span><span class="o">.</span><span class="n">y</span><span class="p">())</span>
</span><span id="L-574"><a href="#L-574"><span class="linenos"> 574</span></a>        
</span><span id="L-575"><a href="#L-575"><span class="linenos"> 575</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_layoutdriving_topleft</span><span class="o">.</span><span class="n">setMaximumWidth</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span><span class="mi">0</span><span class="p">))</span>
</span><span id="L-576"><a href="#L-576"><span class="linenos"> 576</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_layoutdriving_topleft</span><span class="o">.</span><span class="n">setMaximumHeight</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">y</span><span class="p">(),</span><span class="mi">0</span><span class="p">))</span>
</span><span id="L-577"><a href="#L-577"><span class="linenos"> 577</span></a>        
</span><span id="L-578"><a href="#L-578"><span class="linenos"> 578</span></a>        <span class="n">render_buffer</span> <span class="o">=</span> <span class="mi">100</span> <span class="c1"># Needed to prevent slight pixel offset of the sliding overlays when zoomed-out below ~0.5x</span>
</span><span id="L-579"><a href="#L-579"><span class="linenos"> 579</span></a>
</span><span id="L-580"><a href="#L-580"><span class="linenos"> 580</span></a>        <span class="n">scale_topright</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">_topright_zoom_adjust</span>  <span class="c1"># Needed to scale images to the same relative size as the main image</span>
</span><span id="L-581"><a href="#L-581"><span class="linenos"> 581</span></a>        <span class="n">scale_bottomright</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">_bottomright_zoom_adjust</span>
</span><span id="L-582"><a href="#L-582"><span class="linenos"> 582</span></a>        <span class="n">scale_bottomleft</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">_bottomleft_zoom_adjust</span>
</span><span id="L-583"><a href="#L-583"><span class="linenos"> 583</span></a>    
</span><span id="L-584"><a href="#L-584"><span class="linenos"> 584</span></a>        <span class="n">top_left_of_scene_topright</span>          <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">point_of_split_on_scene_main</span><span class="o">.</span><span class="n">x</span><span class="p">()</span><span class="o">*</span><span class="n">scale_topright</span><span class="p">,</span> <span class="n">point_of_widget_origin_on_scene_main</span><span class="o">.</span><span class="n">y</span><span class="p">()</span><span class="o">*</span><span class="n">scale_topright</span><span class="p">)</span>
</span><span id="L-585"><a href="#L-585"><span class="linenos"> 585</span></a>        <span class="n">bottom_right_of_scene_topright</span>      <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">point_of_bottom_right_on_scene_main</span><span class="o">.</span><span class="n">x</span><span class="p">()</span><span class="o">*</span><span class="n">scale_topright</span> <span class="o">+</span> <span class="n">render_buffer</span><span class="p">,</span> <span class="n">point_of_split_on_scene_main</span><span class="o">.</span><span class="n">y</span><span class="p">()</span><span class="o">*</span><span class="n">scale_topright</span> <span class="o">+</span> <span class="n">render_buffer</span><span class="p">)</span>
</span><span id="L-586"><a href="#L-586"><span class="linenos"> 586</span></a>        
</span><span id="L-587"><a href="#L-587"><span class="linenos"> 587</span></a>        <span class="n">top_left_of_scene_bottomright</span>       <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">point_of_split_on_scene_main</span><span class="o">.</span><span class="n">x</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomright</span><span class="p">,</span> <span class="n">point_of_split_on_scene_main</span><span class="o">.</span><span class="n">y</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomright</span><span class="p">)</span>
</span><span id="L-588"><a href="#L-588"><span class="linenos"> 588</span></a>        <span class="n">bottom_right_of_scene_bottomright</span>   <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">point_of_bottom_right_on_scene_main</span><span class="o">.</span><span class="n">x</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomright</span> <span class="o">+</span> <span class="n">render_buffer</span><span class="p">,</span> <span class="n">point_of_bottom_right_on_scene_main</span><span class="o">.</span><span class="n">y</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomright</span> <span class="o">+</span> <span class="n">render_buffer</span><span class="p">)</span>
</span><span id="L-589"><a href="#L-589"><span class="linenos"> 589</span></a>        
</span><span id="L-590"><a href="#L-590"><span class="linenos"> 590</span></a>        <span class="n">top_left_of_scene_bottomleft</span>        <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">point_of_widget_origin_on_scene_main</span><span class="o">.</span><span class="n">x</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomleft</span><span class="p">,</span> <span class="n">point_of_split_on_scene_main</span><span class="o">.</span><span class="n">y</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomleft</span><span class="p">)</span>
</span><span id="L-591"><a href="#L-591"><span class="linenos"> 591</span></a>        <span class="n">bottom_right_of_scene_bottomleft</span>    <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">point_of_split_on_scene_main</span><span class="o">.</span><span class="n">x</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomleft</span> <span class="o">+</span> <span class="n">render_buffer</span><span class="p">,</span> <span class="n">point_of_bottom_right_on_scene_main</span><span class="o">.</span><span class="n">y</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomleft</span> <span class="o">+</span> <span class="n">render_buffer</span><span class="p">)</span>
</span><span id="L-592"><a href="#L-592"><span class="linenos"> 592</span></a>        
</span><span id="L-593"><a href="#L-593"><span class="linenos"> 593</span></a>        <span class="n">rect_of_scene_topright</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QRectF</span><span class="p">(</span><span class="n">top_left_of_scene_topright</span><span class="p">,</span> <span class="n">bottom_right_of_scene_topright</span><span class="p">)</span>
</span><span id="L-594"><a href="#L-594"><span class="linenos"> 594</span></a>        <span class="n">rect_of_scene_bottomright</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QRectF</span><span class="p">(</span><span class="n">top_left_of_scene_bottomright</span><span class="p">,</span> <span class="n">bottom_right_of_scene_bottomright</span><span class="p">)</span>
</span><span id="L-595"><a href="#L-595"><span class="linenos"> 595</span></a>        <span class="n">rect_of_scene_bottomleft</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QRectF</span><span class="p">(</span><span class="n">top_left_of_scene_bottomleft</span><span class="p">,</span> <span class="n">bottom_right_of_scene_bottomleft</span><span class="p">)</span>
</span><span id="L-596"><a href="#L-596"><span class="linenos"> 596</span></a>        
</span><span id="L-597"><a href="#L-597"><span class="linenos"> 597</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_topright</span><span class="o">.</span><span class="n">setSceneRect</span><span class="p">(</span><span class="n">rect_of_scene_topright</span><span class="p">)</span>
</span><span id="L-598"><a href="#L-598"><span class="linenos"> 598</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomright</span><span class="o">.</span><span class="n">setSceneRect</span><span class="p">(</span><span class="n">rect_of_scene_bottomright</span><span class="p">)</span>
</span><span id="L-599"><a href="#L-599"><span class="linenos"> 599</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomleft</span><span class="o">.</span><span class="n">setSceneRect</span><span class="p">(</span><span class="n">rect_of_scene_bottomleft</span><span class="p">)</span>
</span><span id="L-600"><a href="#L-600"><span class="linenos"> 600</span></a>        
</span><span id="L-601"><a href="#L-601"><span class="linenos"> 601</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_topright</span><span class="o">.</span><span class="n">centerOn</span><span class="p">(</span><span class="n">top_left_of_scene_topright</span><span class="p">)</span>
</span><span id="L-602"><a href="#L-602"><span class="linenos"> 602</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomright</span><span class="o">.</span><span class="n">centerOn</span><span class="p">(</span><span class="n">top_left_of_scene_bottomright</span><span class="p">)</span>
</span><span id="L-603"><a href="#L-603"><span class="linenos"> 603</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomleft</span><span class="o">.</span><span class="n">centerOn</span><span class="p">(</span><span class="n">top_left_of_scene_bottomleft</span><span class="p">)</span>
</span><span id="L-604"><a href="#L-604"><span class="linenos"> 604</span></a>
</span><span id="L-605"><a href="#L-605"><span class="linenos"> 605</span></a>    <span class="k">def</span> <span class="nf">refresh_split_based_on_last_updated_point_of_split_on_scene_main</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> 
</span><span id="L-606"><a href="#L-606"><span class="linenos"> 606</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Refresh the position of the split using the previously recorded split location.</span>
</span><span id="L-607"><a href="#L-607"><span class="linenos"> 607</span></a><span class="sd">        </span>
</span><span id="L-608"><a href="#L-608"><span class="linenos"> 608</span></a><span class="sd">        This is needed to maintain the position of the split during synchronized zooming and panning.</span>
</span><span id="L-609"><a href="#L-609"><span class="linenos"> 609</span></a><span class="sd">        &quot;&quot;&quot;</span> 
</span><span id="L-610"><a href="#L-610"><span class="linenos"> 610</span></a>        <span class="n">point_of_mouse_on_widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapFromScene</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">last_updated_point_of_split_on_scene_main</span><span class="p">)</span>
</span><span id="L-611"><a href="#L-611"><span class="linenos"> 611</span></a>        
</span><span id="L-612"><a href="#L-612"><span class="linenos"> 612</span></a>        <span class="n">point_of_bottom_right_on_widget</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">())</span>
</span><span id="L-613"><a href="#L-613"><span class="linenos"> 613</span></a>        
</span><span id="L-614"><a href="#L-614"><span class="linenos"> 614</span></a>        <span class="n">point_of_widget_origin_on_scene_main</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapToScene</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
</span><span id="L-615"><a href="#L-615"><span class="linenos"> 615</span></a>        <span class="n">point_of_split_on_scene_main</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapToScene</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span><span class="mi">0</span><span class="p">),</span><span class="nb">max</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">y</span><span class="p">(),</span><span class="mi">0</span><span class="p">))</span>
</span><span id="L-616"><a href="#L-616"><span class="linenos"> 616</span></a>        <span class="n">point_of_bottom_right_on_scene_main</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapToScene</span><span class="p">(</span><span class="n">point_of_bottom_right_on_widget</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span> <span class="n">point_of_bottom_right_on_widget</span><span class="o">.</span><span class="n">y</span><span class="p">())</span>
</span><span id="L-617"><a href="#L-617"><span class="linenos"> 617</span></a>
</span><span id="L-618"><a href="#L-618"><span class="linenos"> 618</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_layoutdriving_topleft</span><span class="o">.</span><span class="n">setMaximumWidth</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span><span class="mi">0</span><span class="p">))</span>
</span><span id="L-619"><a href="#L-619"><span class="linenos"> 619</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_layoutdriving_topleft</span><span class="o">.</span><span class="n">setMaximumHeight</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">y</span><span class="p">(),</span><span class="mi">0</span><span class="p">))</span>
</span><span id="L-620"><a href="#L-620"><span class="linenos"> 620</span></a>        
</span><span id="L-621"><a href="#L-621"><span class="linenos"> 621</span></a>        <span class="n">render_buffer</span> <span class="o">=</span> <span class="mi">100</span> <span class="c1"># Needed to prevent slight pixel offset of the sliding overlays when zoomed-out below ~0.5x</span>
</span><span id="L-622"><a href="#L-622"><span class="linenos"> 622</span></a>
</span><span id="L-623"><a href="#L-623"><span class="linenos"> 623</span></a>        <span class="n">scale_topright</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">_topright_zoom_adjust</span>  <span class="c1"># Needed to scale images to the same relative size as the main image</span>
</span><span id="L-624"><a href="#L-624"><span class="linenos"> 624</span></a>        <span class="n">scale_bottomright</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">_bottomright_zoom_adjust</span>
</span><span id="L-625"><a href="#L-625"><span class="linenos"> 625</span></a>        <span class="n">scale_bottomleft</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">_bottomleft_zoom_adjust</span>
</span><span id="L-626"><a href="#L-626"><span class="linenos"> 626</span></a>    
</span><span id="L-627"><a href="#L-627"><span class="linenos"> 627</span></a>        <span class="n">top_left_of_scene_topright</span>          <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">point_of_split_on_scene_main</span><span class="o">.</span><span class="n">x</span><span class="p">()</span><span class="o">*</span><span class="n">scale_topright</span><span class="p">,</span> <span class="n">point_of_widget_origin_on_scene_main</span><span class="o">.</span><span class="n">y</span><span class="p">()</span><span class="o">*</span><span class="n">scale_topright</span><span class="p">)</span>
</span><span id="L-628"><a href="#L-628"><span class="linenos"> 628</span></a>        <span class="n">bottom_right_of_scene_topright</span>      <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">point_of_bottom_right_on_scene_main</span><span class="o">.</span><span class="n">x</span><span class="p">()</span><span class="o">*</span><span class="n">scale_topright</span> <span class="o">+</span> <span class="n">render_buffer</span><span class="p">,</span> <span class="n">point_of_split_on_scene_main</span><span class="o">.</span><span class="n">y</span><span class="p">()</span><span class="o">*</span><span class="n">scale_topright</span> <span class="o">+</span> <span class="n">render_buffer</span><span class="p">)</span>
</span><span id="L-629"><a href="#L-629"><span class="linenos"> 629</span></a>        
</span><span id="L-630"><a href="#L-630"><span class="linenos"> 630</span></a>        <span class="n">top_left_of_scene_bottomright</span>       <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">point_of_split_on_scene_main</span><span class="o">.</span><span class="n">x</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomright</span><span class="p">,</span> <span class="n">point_of_split_on_scene_main</span><span class="o">.</span><span class="n">y</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomright</span><span class="p">)</span>
</span><span id="L-631"><a href="#L-631"><span class="linenos"> 631</span></a>        <span class="n">bottom_right_of_scene_bottomright</span>   <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">point_of_bottom_right_on_scene_main</span><span class="o">.</span><span class="n">x</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomright</span> <span class="o">+</span> <span class="n">render_buffer</span><span class="p">,</span> <span class="n">point_of_bottom_right_on_scene_main</span><span class="o">.</span><span class="n">y</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomright</span> <span class="o">+</span> <span class="n">render_buffer</span><span class="p">)</span>
</span><span id="L-632"><a href="#L-632"><span class="linenos"> 632</span></a>        
</span><span id="L-633"><a href="#L-633"><span class="linenos"> 633</span></a>        <span class="n">top_left_of_scene_bottomleft</span>        <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">point_of_widget_origin_on_scene_main</span><span class="o">.</span><span class="n">x</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomleft</span><span class="p">,</span> <span class="n">point_of_split_on_scene_main</span><span class="o">.</span><span class="n">y</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomleft</span><span class="p">)</span>
</span><span id="L-634"><a href="#L-634"><span class="linenos"> 634</span></a>        <span class="n">bottom_right_of_scene_bottomleft</span>    <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">point_of_split_on_scene_main</span><span class="o">.</span><span class="n">x</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomleft</span> <span class="o">+</span> <span class="n">render_buffer</span><span class="p">,</span> <span class="n">point_of_bottom_right_on_scene_main</span><span class="o">.</span><span class="n">y</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomleft</span> <span class="o">+</span> <span class="n">render_buffer</span><span class="p">)</span>
</span><span id="L-635"><a href="#L-635"><span class="linenos"> 635</span></a>        
</span><span id="L-636"><a href="#L-636"><span class="linenos"> 636</span></a>        <span class="n">rect_of_scene_topright</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QRectF</span><span class="p">(</span><span class="n">top_left_of_scene_topright</span><span class="p">,</span> <span class="n">bottom_right_of_scene_topright</span><span class="p">)</span>
</span><span id="L-637"><a href="#L-637"><span class="linenos"> 637</span></a>        <span class="n">rect_of_scene_bottomright</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QRectF</span><span class="p">(</span><span class="n">top_left_of_scene_bottomright</span><span class="p">,</span> <span class="n">bottom_right_of_scene_bottomright</span><span class="p">)</span>
</span><span id="L-638"><a href="#L-638"><span class="linenos"> 638</span></a>        <span class="n">rect_of_scene_bottomleft</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QRectF</span><span class="p">(</span><span class="n">top_left_of_scene_bottomleft</span><span class="p">,</span> <span class="n">bottom_right_of_scene_bottomleft</span><span class="p">)</span>
</span><span id="L-639"><a href="#L-639"><span class="linenos"> 639</span></a>        
</span><span id="L-640"><a href="#L-640"><span class="linenos"> 640</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_topright</span><span class="o">.</span><span class="n">setSceneRect</span><span class="p">(</span><span class="n">rect_of_scene_topright</span><span class="p">)</span>
</span><span id="L-641"><a href="#L-641"><span class="linenos"> 641</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomright</span><span class="o">.</span><span class="n">setSceneRect</span><span class="p">(</span><span class="n">rect_of_scene_bottomright</span><span class="p">)</span>
</span><span id="L-642"><a href="#L-642"><span class="linenos"> 642</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomleft</span><span class="o">.</span><span class="n">setSceneRect</span><span class="p">(</span><span class="n">rect_of_scene_bottomleft</span><span class="p">)</span>
</span><span id="L-643"><a href="#L-643"><span class="linenos"> 643</span></a>        
</span><span id="L-644"><a href="#L-644"><span class="linenos"> 644</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_topright</span><span class="o">.</span><span class="n">centerOn</span><span class="p">(</span><span class="n">top_left_of_scene_topright</span><span class="p">)</span>
</span><span id="L-645"><a href="#L-645"><span class="linenos"> 645</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomright</span><span class="o">.</span><span class="n">centerOn</span><span class="p">(</span><span class="n">top_left_of_scene_bottomright</span><span class="p">)</span>
</span><span id="L-646"><a href="#L-646"><span class="linenos"> 646</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomleft</span><span class="o">.</span><span class="n">centerOn</span><span class="p">(</span><span class="n">top_left_of_scene_bottomleft</span><span class="p">)</span>
</span><span id="L-647"><a href="#L-647"><span class="linenos"> 647</span></a>    
</span><span id="L-648"><a href="#L-648"><span class="linenos"> 648</span></a>    <span class="k">def</span> <span class="nf">update_split_given_global</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos_global</span><span class="p">):</span>
</span><span id="L-649"><a href="#L-649"><span class="linenos"> 649</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Update the position of the split based on given global mouse position.</span>
</span><span id="L-650"><a href="#L-650"><span class="linenos"> 650</span></a>
</span><span id="L-651"><a href="#L-651"><span class="linenos"> 651</span></a><span class="sd">        Convenience function.</span>
</span><span id="L-652"><a href="#L-652"><span class="linenos"> 652</span></a>
</span><span id="L-653"><a href="#L-653"><span class="linenos"> 653</span></a><span class="sd">        Args:</span>
</span><span id="L-654"><a href="#L-654"><span class="linenos"> 654</span></a><span class="sd">            pos_global (QPoint): The position of the mouse in global coordinates.</span>
</span><span id="L-655"><a href="#L-655"><span class="linenos"> 655</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-656"><a href="#L-656"><span class="linenos"> 656</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">update_split</span><span class="p">(</span><span class="n">pos</span> <span class="o">=</span> <span class="n">pos_global</span><span class="p">,</span> <span class="n">pos_is_global</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-657"><a href="#L-657"><span class="linenos"> 657</span></a>
</span><span id="L-658"><a href="#L-658"><span class="linenos"> 658</span></a>
</span><span id="L-659"><a href="#L-659"><span class="linenos"> 659</span></a>    <span class="k">def</span> <span class="nf">on_right_click_comment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scene_pos</span><span class="p">):</span>
</span><span id="L-660"><a href="#L-660"><span class="linenos"> 660</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Create an editable and movable comment on the scene of the main view at the given scene position.</span>
</span><span id="L-661"><a href="#L-661"><span class="linenos"> 661</span></a>
</span><span id="L-662"><a href="#L-662"><span class="linenos"> 662</span></a><span class="sd">        Args:</span>
</span><span id="L-663"><a href="#L-663"><span class="linenos"> 663</span></a><span class="sd">            pos (QPointF): position of the comment datum on the scene.</span>
</span><span id="L-664"><a href="#L-664"><span class="linenos"> 664</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-665"><a href="#L-665"><span class="linenos"> 665</span></a>        <span class="n">pos_on_scene</span> <span class="o">=</span> <span class="n">scene_pos</span>
</span><span id="L-666"><a href="#L-666"><span class="linenos"> 666</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">CommentItem</span><span class="p">(</span><span class="n">initial_scene_pos</span><span class="o">=</span><span class="n">pos_on_scene</span><span class="p">,</span> <span class="n">set_cursor_on_creation</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</span><span id="L-667"><a href="#L-667"><span class="linenos"> 667</span></a>
</span><span id="L-668"><a href="#L-668"><span class="linenos"> 668</span></a>    <span class="k">def</span> <span class="nf">on_right_click_ruler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scene_pos</span><span class="p">,</span> <span class="n">relative_origin_position</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;px&quot;</span><span class="p">,</span> <span class="n">px_per_unit</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">update_px_per_unit_on_existing</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="L-669"><a href="#L-669"><span class="linenos"> 669</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a movable ruler on the scene of the main view at the given scene position.</span>
</span><span id="L-670"><a href="#L-670"><span class="linenos"> 670</span></a>
</span><span id="L-671"><a href="#L-671"><span class="linenos"> 671</span></a><span class="sd">        Args:</span>
</span><span id="L-672"><a href="#L-672"><span class="linenos"> 672</span></a><span class="sd">            scene_pos (QPointF): The position of the ruler center on the scene.</span>
</span><span id="L-673"><a href="#L-673"><span class="linenos"> 673</span></a><span class="sd">            relative_origin_position (str): The position of the origin for coordinate system (&quot;topleft&quot; or &quot;bottomleft&quot;).</span>
</span><span id="L-674"><a href="#L-674"><span class="linenos"> 674</span></a><span class="sd">            unit (str): The text for labeling units of ruler values.</span>
</span><span id="L-675"><a href="#L-675"><span class="linenos"> 675</span></a><span class="sd">            px_per_unit (float): The conversion for pixels to units. For example, 10 means 10 pixels-per-unit, meaning the ruler value will show 1 when measuring 10 pixels.</span>
</span><span id="L-676"><a href="#L-676"><span class="linenos"> 676</span></a><span class="sd">            update_px_per_unit_on_existing (bool): False always. (Legacy from past versions; future work should remove.</span>
</span><span id="L-677"><a href="#L-677"><span class="linenos"> 677</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-678"><a href="#L-678"><span class="linenos"> 678</span></a>        <span class="n">placement_factor</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span>
</span><span id="L-679"><a href="#L-679"><span class="linenos"> 679</span></a>        <span class="n">px_per_unit</span> <span class="o">=</span> <span class="n">px_per_unit</span>
</span><span id="L-680"><a href="#L-680"><span class="linenos"> 680</span></a>        <span class="n">relative_origin_position</span> <span class="o">=</span> <span class="n">relative_origin_position</span>
</span><span id="L-681"><a href="#L-681"><span class="linenos"> 681</span></a>
</span><span id="L-682"><a href="#L-682"><span class="linenos"> 682</span></a>        <span class="n">widget_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">()</span>
</span><span id="L-683"><a href="#L-683"><span class="linenos"> 683</span></a>        <span class="n">widget_height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">()</span>
</span><span id="L-684"><a href="#L-684"><span class="linenos"> 684</span></a>
</span><span id="L-685"><a href="#L-685"><span class="linenos"> 685</span></a>        <span class="n">pos_p1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapToScene</span><span class="p">(</span><span class="n">widget_width</span><span class="o">*</span><span class="n">placement_factor</span><span class="p">,</span> <span class="n">widget_height</span><span class="o">*</span><span class="n">placement_factor</span><span class="p">)</span>
</span><span id="L-686"><a href="#L-686"><span class="linenos"> 686</span></a>        <span class="n">pos_p2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapToScene</span><span class="p">(</span><span class="n">widget_width</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">placement_factor</span><span class="p">),</span> <span class="n">widget_height</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">placement_factor</span><span class="p">))</span>
</span><span id="L-687"><a href="#L-687"><span class="linenos"> 687</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">RulerItem</span><span class="p">(</span><span class="n">unit</span><span class="o">=</span><span class="n">unit</span><span class="p">,</span> <span class="n">px_per_mm</span><span class="o">=</span><span class="n">px_per_unit</span><span class="p">,</span> <span class="n">initial_pos_p1</span><span class="o">=</span><span class="n">pos_p1</span><span class="p">,</span> <span class="n">initial_pos_p2</span><span class="o">=</span><span class="n">pos_p2</span><span class="p">,</span> <span class="n">relative_origin_position</span><span class="o">=</span><span class="n">relative_origin_position</span><span class="p">))</span>
</span><span id="L-688"><a href="#L-688"><span class="linenos"> 688</span></a>
</span><span id="L-689"><a href="#L-689"><span class="linenos"> 689</span></a>    <span class="k">def</span> <span class="nf">on_changed_px_per_unit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">unit</span><span class="p">,</span> <span class="n">px_per_unit</span><span class="p">):</span>
</span><span id="L-690"><a href="#L-690"><span class="linenos"> 690</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Update the units and pixel-per-unit conversions of all rulers in main scene.</span>
</span><span id="L-691"><a href="#L-691"><span class="linenos"> 691</span></a>
</span><span id="L-692"><a href="#L-692"><span class="linenos"> 692</span></a><span class="sd">        Args:</span>
</span><span id="L-693"><a href="#L-693"><span class="linenos"> 693</span></a><span class="sd">            unit (str): The text for labeling units of ruler values.</span>
</span><span id="L-694"><a href="#L-694"><span class="linenos"> 694</span></a><span class="sd">            px_per_unit (float): The conversion for pixels to units. For example, 10 means 10 pixels-per-unit, meaning the ruler value will show 1 when measuring 10 pixels.</span>
</span><span id="L-695"><a href="#L-695"><span class="linenos"> 695</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-696"><a href="#L-696"><span class="linenos"> 696</span></a>        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="L-697"><a href="#L-697"><span class="linenos"> 697</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">RulerItem</span><span class="p">):</span>
</span><span id="L-698"><a href="#L-698"><span class="linenos"> 698</span></a>                <span class="n">item</span><span class="o">.</span><span class="n">set_and_refresh_px_per_unit</span><span class="p">(</span><span class="n">px_per_unit</span><span class="p">)</span>
</span><span id="L-699"><a href="#L-699"><span class="linenos"> 699</span></a>
</span><span id="L-700"><a href="#L-700"><span class="linenos"> 700</span></a>    <span class="k">def</span> <span class="nf">on_right_click_save_all_comments</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-701"><a href="#L-701"><span class="linenos"> 701</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Open a dialog window for user to save all existing comments on the main scene to .csv.</span>
</span><span id="L-702"><a href="#L-702"><span class="linenos"> 702</span></a><span class="sd">        </span>
</span><span id="L-703"><a href="#L-703"><span class="linenos"> 703</span></a><span class="sd">        Triggered from right-click menu on view.</span>
</span><span id="L-704"><a href="#L-704"><span class="linenos"> 704</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-705"><a href="#L-705"><span class="linenos"> 705</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">display_loading_grayout</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;Selecting folder and name for saving all comments in current view...&quot;</span><span class="p">,</span> <span class="n">pseudo_load_time</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="L-706"><a href="#L-706"><span class="linenos"> 706</span></a>
</span><span id="L-707"><a href="#L-707"><span class="linenos"> 707</span></a>        <span class="n">style</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-708"><a href="#L-708"><span class="linenos"> 708</span></a>        <span class="n">x</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-709"><a href="#L-709"><span class="linenos"> 709</span></a>        <span class="n">y</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-710"><a href="#L-710"><span class="linenos"> 710</span></a>        <span class="n">color</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-711"><a href="#L-711"><span class="linenos"> 711</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-712"><a href="#L-712"><span class="linenos"> 712</span></a>        <span class="n">i</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
</span><span id="L-713"><a href="#L-713"><span class="linenos"> 713</span></a>        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="L-714"><a href="#L-714"><span class="linenos"> 714</span></a>            
</span><span id="L-715"><a href="#L-715"><span class="linenos"> 715</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">CommentItem</span><span class="p">):</span>
</span><span id="L-716"><a href="#L-716"><span class="linenos"> 716</span></a>                <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="L-717"><a href="#L-717"><span class="linenos"> 717</span></a>                
</span><span id="L-718"><a href="#L-718"><span class="linenos"> 718</span></a>                <span class="n">comment_pos</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">get_scene_pos</span><span class="p">()</span>
</span><span id="L-719"><a href="#L-719"><span class="linenos"> 719</span></a>                <span class="n">comment_color</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">get_color</span><span class="p">()</span>
</span><span id="L-720"><a href="#L-720"><span class="linenos"> 720</span></a>                <span class="n">comment_string</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">get_comment_text_str</span><span class="p">()</span>
</span><span id="L-721"><a href="#L-721"><span class="linenos"> 721</span></a>
</span><span id="L-722"><a href="#L-722"><span class="linenos"> 722</span></a>                <span class="n">style</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;plain text&quot;</span><span class="p">)</span>
</span><span id="L-723"><a href="#L-723"><span class="linenos"> 723</span></a>                <span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">comment_pos</span><span class="o">.</span><span class="n">x</span><span class="p">())</span>
</span><span id="L-724"><a href="#L-724"><span class="linenos"> 724</span></a>                <span class="n">y</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">comment_pos</span><span class="o">.</span><span class="n">y</span><span class="p">())</span>
</span><span id="L-725"><a href="#L-725"><span class="linenos"> 725</span></a>                <span class="n">color</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">comment_color</span><span class="p">)</span>
</span><span id="L-726"><a href="#L-726"><span class="linenos"> 726</span></a>                <span class="n">string</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">comment_string</span><span class="p">)</span>
</span><span id="L-727"><a href="#L-727"><span class="linenos"> 727</span></a>
</span><span id="L-728"><a href="#L-728"><span class="linenos"> 728</span></a>
</span><span id="L-729"><a href="#L-729"><span class="linenos"> 729</span></a>        <span class="n">folderpath</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-730"><a href="#L-730"><span class="linenos"> 730</span></a>        <span class="n">filepath_mainview</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">currentFile</span>
</span><span id="L-731"><a href="#L-731"><span class="linenos"> 731</span></a>
</span><span id="L-732"><a href="#L-732"><span class="linenos"> 732</span></a>        <span class="k">if</span> <span class="n">filepath_mainview</span><span class="p">:</span>
</span><span id="L-733"><a href="#L-733"><span class="linenos"> 733</span></a>            <span class="n">folderpath</span> <span class="o">=</span> <span class="n">filepath_mainview</span>
</span><span id="L-734"><a href="#L-734"><span class="linenos"> 734</span></a>            <span class="n">folderpath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">folderpath</span><span class="p">)</span>
</span><span id="L-735"><a href="#L-735"><span class="linenos"> 735</span></a>            <span class="n">folderpath</span> <span class="o">=</span> <span class="n">folderpath</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span>
</span><span id="L-736"><a href="#L-736"><span class="linenos"> 736</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-737"><a href="#L-737"><span class="linenos"> 737</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">display_loading_grayout</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="n">pseudo_load_time</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="L-738"><a href="#L-738"><span class="linenos"> 738</span></a>            <span class="k">return</span>
</span><span id="L-739"><a href="#L-739"><span class="linenos"> 739</span></a>        
</span><span id="L-740"><a href="#L-740"><span class="linenos"> 740</span></a>        <span class="n">header</span> <span class="o">=</span> <span class="p">[[</span><span class="s2">&quot;Butterfly Viewer&quot;</span><span class="p">],</span>
</span><span id="L-741"><a href="#L-741"><span class="linenos"> 741</span></a>                  <span class="p">[</span><span class="s2">&quot;1.0&quot;</span><span class="p">],</span>
</span><span id="L-742"><a href="#L-742"><span class="linenos"> 742</span></a>                  <span class="p">[</span><span class="s2">&quot;comments&quot;</span><span class="p">],</span>
</span><span id="L-743"><a href="#L-743"><span class="linenos"> 743</span></a>                  <span class="p">[</span><span class="s2">&quot;no details&quot;</span><span class="p">],</span>
</span><span id="L-744"><a href="#L-744"><span class="linenos"> 744</span></a>                  <span class="p">[</span><span class="s2">&quot;origin&quot;</span><span class="p">],</span>
</span><span id="L-745"><a href="#L-745"><span class="linenos"> 745</span></a>                  <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">filepath_mainview</span><span class="p">)],</span>
</span><span id="L-746"><a href="#L-746"><span class="linenos"> 746</span></a>                  <span class="p">[</span><span class="s2">&quot;Style&quot;</span><span class="p">,</span> <span class="s2">&quot;Image x&quot;</span><span class="p">,</span> <span class="s2">&quot;Image y&quot;</span><span class="p">,</span> <span class="s2">&quot;Appearance&quot;</span><span class="p">,</span> <span class="s2">&quot;String&quot;</span><span class="p">]]</span>
</span><span id="L-747"><a href="#L-747"><span class="linenos"> 747</span></a>
</span><span id="L-748"><a href="#L-748"><span class="linenos"> 748</span></a>        <span class="n">date_and_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1"> %H%M%S&#39;</span><span class="p">)</span> <span class="c1"># Sets the default filename with date and time </span>
</span><span id="L-749"><a href="#L-749"><span class="linenos"> 749</span></a>        <span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;Untitled comments&quot;</span> <span class="o">+</span> <span class="s2">&quot; - &quot;</span> <span class="o">+</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">filepath_mainview</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot; - &quot;</span> <span class="o">+</span> <span class="n">date_and_time</span> <span class="o">+</span> <span class="s2">&quot;.csv&quot;</span>
</span><span id="L-750"><a href="#L-750"><span class="linenos"> 750</span></a>        <span class="n">name_filters</span> <span class="o">=</span> <span class="s2">&quot;CSV (*.csv)&quot;</span> <span class="c1"># Allows users to select filetype of screenshot</span>
</span><span id="L-751"><a href="#L-751"><span class="linenos"> 751</span></a>        
</span><span id="L-752"><a href="#L-752"><span class="linenos"> 752</span></a>        <span class="n">filepath</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QFileDialog</span><span class="o">.</span><span class="n">getSaveFileName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Save all comments of current view to .csv&quot;</span><span class="p">,</span> <span class="n">folderpath</span><span class="o">+</span><span class="n">filename</span><span class="p">,</span> <span class="n">name_filters</span><span class="p">)</span>
</span><span id="L-753"><a href="#L-753"><span class="linenos"> 753</span></a>
</span><span id="L-754"><a href="#L-754"><span class="linenos"> 754</span></a>        <span class="k">if</span> <span class="n">filepath</span><span class="p">:</span>
</span><span id="L-755"><a href="#L-755"><span class="linenos"> 755</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">display_loading_grayout</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;Saving all comments of current view to .csv...&quot;</span><span class="p">)</span>
</span><span id="L-756"><a href="#L-756"><span class="linenos"> 756</span></a>
</span><span id="L-757"><a href="#L-757"><span class="linenos"> 757</span></a>            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">csv_file</span><span class="p">:</span>
</span><span id="L-758"><a href="#L-758"><span class="linenos"> 758</span></a>                <span class="n">csv_writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">writer</span><span class="p">(</span><span class="n">csv_file</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s2">&quot;|&quot;</span><span class="p">)</span>
</span><span id="L-759"><a href="#L-759"><span class="linenos"> 759</span></a>                <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">header</span><span class="p">:</span>
</span><span id="L-760"><a href="#L-760"><span class="linenos"> 760</span></a>                    <span class="n">csv_writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
</span><span id="L-761"><a href="#L-761"><span class="linenos"> 761</span></a>                <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">style</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="n">string</span><span class="p">):</span>
</span><span id="L-762"><a href="#L-762"><span class="linenos"> 762</span></a>                    <span class="n">csv_writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
</span><span id="L-763"><a href="#L-763"><span class="linenos"> 763</span></a>
</span><span id="L-764"><a href="#L-764"><span class="linenos"> 764</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">display_loading_grayout</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</span><span id="L-765"><a href="#L-765"><span class="linenos"> 765</span></a>
</span><span id="L-766"><a href="#L-766"><span class="linenos"> 766</span></a>
</span><span id="L-767"><a href="#L-767"><span class="linenos"> 767</span></a>    <span class="k">def</span> <span class="nf">on_right_click_load_comments</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-768"><a href="#L-768"><span class="linenos"> 768</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Open a dialog window for user to load comments to the main scene via .csv as saved previously.</span>
</span><span id="L-769"><a href="#L-769"><span class="linenos"> 769</span></a><span class="sd">        </span>
</span><span id="L-770"><a href="#L-770"><span class="linenos"> 770</span></a><span class="sd">        Triggered from right-click menu on view.</span>
</span><span id="L-771"><a href="#L-771"><span class="linenos"> 771</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-772"><a href="#L-772"><span class="linenos"> 772</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">display_loading_grayout</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;Selecting comment file (.csv) to load into current view...&quot;</span><span class="p">,</span> <span class="n">pseudo_load_time</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="L-773"><a href="#L-773"><span class="linenos"> 773</span></a>
</span><span id="L-774"><a href="#L-774"><span class="linenos"> 774</span></a>        <span class="n">folderpath</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-775"><a href="#L-775"><span class="linenos"> 775</span></a>        <span class="n">filepath_mainview</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">currentFile</span>
</span><span id="L-776"><a href="#L-776"><span class="linenos"> 776</span></a>
</span><span id="L-777"><a href="#L-777"><span class="linenos"> 777</span></a>        <span class="k">if</span> <span class="n">filepath_mainview</span><span class="p">:</span>
</span><span id="L-778"><a href="#L-778"><span class="linenos"> 778</span></a>            <span class="n">folderpath</span> <span class="o">=</span> <span class="n">filepath_mainview</span>
</span><span id="L-779"><a href="#L-779"><span class="linenos"> 779</span></a>            <span class="n">folderpath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">folderpath</span><span class="p">)</span>
</span><span id="L-780"><a href="#L-780"><span class="linenos"> 780</span></a>            <span class="c1"># folderpath = folderpath + &quot;\\&quot;</span>
</span><span id="L-781"><a href="#L-781"><span class="linenos"> 781</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-782"><a href="#L-782"><span class="linenos"> 782</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">display_loading_grayout</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="n">pseudo_load_time</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="L-783"><a href="#L-783"><span class="linenos"> 783</span></a>            <span class="k">return</span>
</span><span id="L-784"><a href="#L-784"><span class="linenos"> 784</span></a>
</span><span id="L-785"><a href="#L-785"><span class="linenos"> 785</span></a>        <span class="n">filename</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QFileDialog</span><span class="o">.</span><span class="n">getOpenFileName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Select comment file (.csv) to load into current view&quot;</span><span class="p">,</span> <span class="n">folderpath</span><span class="p">,</span> <span class="s2">&quot;Comma-Separated Value File (*.csv)&quot;</span><span class="p">)</span>
</span><span id="L-786"><a href="#L-786"><span class="linenos"> 786</span></a>
</span><span id="L-787"><a href="#L-787"><span class="linenos"> 787</span></a>        <span class="k">if</span> <span class="n">filename</span><span class="p">:</span>
</span><span id="L-788"><a href="#L-788"><span class="linenos"> 788</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">display_loading_grayout</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;Loading comments from selected .csv into current view...&quot;</span><span class="p">)</span>
</span><span id="L-789"><a href="#L-789"><span class="linenos"> 789</span></a>
</span><span id="L-790"><a href="#L-790"><span class="linenos"> 790</span></a>            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">csv_file</span><span class="p">:</span>
</span><span id="L-791"><a href="#L-791"><span class="linenos"> 791</span></a>                <span class="n">csv_reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">csv_file</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s2">&quot;|&quot;</span><span class="p">)</span>
</span><span id="L-792"><a href="#L-792"><span class="linenos"> 792</span></a>                <span class="n">csv_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">csv_reader</span><span class="p">)</span>
</span><span id="L-793"><a href="#L-793"><span class="linenos"> 793</span></a>
</span><span id="L-794"><a href="#L-794"><span class="linenos"> 794</span></a>                <span class="n">i</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-795"><a href="#L-795"><span class="linenos"> 795</span></a>
</span><span id="L-796"><a href="#L-796"><span class="linenos"> 796</span></a>                <span class="k">try</span><span class="p">:</span>
</span><span id="L-797"><a href="#L-797"><span class="linenos"> 797</span></a>                    <span class="n">i</span> <span class="o">=</span> <span class="n">csv_list</span><span class="o">.</span><span class="n">index</span><span class="p">([</span><span class="s2">&quot;Style&quot;</span><span class="p">,</span> <span class="s2">&quot;Image x&quot;</span><span class="p">,</span> <span class="s2">&quot;Image y&quot;</span><span class="p">,</span> <span class="s2">&quot;Appearance&quot;</span><span class="p">,</span> <span class="s2">&quot;String&quot;</span><span class="p">])</span>
</span><span id="L-798"><a href="#L-798"><span class="linenos"> 798</span></a>                <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
</span><span id="L-799"><a href="#L-799"><span class="linenos"> 799</span></a>                    <span class="n">box_type</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Warning</span>
</span><span id="L-800"><a href="#L-800"><span class="linenos"> 800</span></a>                    <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Invalid .csv comment file&quot;</span>
</span><span id="L-801"><a href="#L-801"><span class="linenos"> 801</span></a>                    <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;The selected .csv comment file does not have a format accepted by this app.&quot;</span>
</span><span id="L-802"><a href="#L-802"><span class="linenos"> 802</span></a>                    <span class="n">box_buttons</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Close</span>
</span><span id="L-803"><a href="#L-803"><span class="linenos"> 803</span></a>                    <span class="n">box</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="p">(</span><span class="n">box_type</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">box_buttons</span><span class="p">)</span>
</span><span id="L-804"><a href="#L-804"><span class="linenos"> 804</span></a>                    <span class="n">box</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
</span><span id="L-805"><a href="#L-805"><span class="linenos"> 805</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="L-806"><a href="#L-806"><span class="linenos"> 806</span></a>                    <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span> <span class="c1"># Move to first comment item</span>
</span><span id="L-807"><a href="#L-807"><span class="linenos"> 807</span></a>                    <span class="n">no_comments</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-808"><a href="#L-808"><span class="linenos"> 808</span></a>                    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">csv_list</span><span class="p">[</span><span class="n">i</span><span class="p">:]:</span>
</span><span id="L-809"><a href="#L-809"><span class="linenos"> 809</span></a>                        <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;plain text&quot;</span><span class="p">:</span>
</span><span id="L-810"><a href="#L-810"><span class="linenos"> 810</span></a>                            <span class="n">no_comments</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-811"><a href="#L-811"><span class="linenos"> 811</span></a>                            <span class="n">comment_x</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="L-812"><a href="#L-812"><span class="linenos"> 812</span></a>                            <span class="n">comment_y</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</span><span id="L-813"><a href="#L-813"><span class="linenos"> 813</span></a>                            <span class="n">comment_color</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
</span><span id="L-814"><a href="#L-814"><span class="linenos"> 814</span></a>                            <span class="n">comment_string</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
</span><span id="L-815"><a href="#L-815"><span class="linenos"> 815</span></a>                            <span class="n">comment_pos</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">comment_x</span><span class="p">,</span> <span class="n">comment_y</span><span class="p">)</span>
</span><span id="L-816"><a href="#L-816"><span class="linenos"> 816</span></a>                            <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">CommentItem</span><span class="p">(</span><span class="n">initial_scene_pos</span><span class="o">=</span><span class="n">comment_pos</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">comment_color</span><span class="p">,</span> <span class="n">comment_text</span><span class="o">=</span><span class="n">comment_string</span><span class="p">,</span> <span class="n">set_cursor_on_creation</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</span><span id="L-817"><a href="#L-817"><span class="linenos"> 817</span></a>                    <span class="k">if</span> <span class="n">no_comments</span><span class="p">:</span>
</span><span id="L-818"><a href="#L-818"><span class="linenos"> 818</span></a>                        <span class="n">box_type</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Warning</span>
</span><span id="L-819"><a href="#L-819"><span class="linenos"> 819</span></a>                        <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;No comments in .csv&quot;</span>
</span><span id="L-820"><a href="#L-820"><span class="linenos"> 820</span></a>                        <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;No comments found in the selected .csv comment file.&quot;</span>
</span><span id="L-821"><a href="#L-821"><span class="linenos"> 821</span></a>                        <span class="n">box_buttons</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Close</span>
</span><span id="L-822"><a href="#L-822"><span class="linenos"> 822</span></a>                        <span class="n">box</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="p">(</span><span class="n">box_type</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">box_buttons</span><span class="p">)</span>
</span><span id="L-823"><a href="#L-823"><span class="linenos"> 823</span></a>                        <span class="n">box</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
</span><span id="L-824"><a href="#L-824"><span class="linenos"> 824</span></a>                    
</span><span id="L-825"><a href="#L-825"><span class="linenos"> 825</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">display_loading_grayout</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</span><span id="L-826"><a href="#L-826"><span class="linenos"> 826</span></a>
</span><span id="L-827"><a href="#L-827"><span class="linenos"> 827</span></a>    <span class="k">def</span> <span class="nf">on_right_click_set_relative_origin_position</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">string</span><span class="p">):</span>
</span><span id="L-828"><a href="#L-828"><span class="linenos"> 828</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set orientation of the coordinate system for rulers by positioning the relative origin.</span>
</span><span id="L-829"><a href="#L-829"><span class="linenos"> 829</span></a>
</span><span id="L-830"><a href="#L-830"><span class="linenos"> 830</span></a><span class="sd">        Allows users to switch the coordinate orientation:</span>
</span><span id="L-831"><a href="#L-831"><span class="linenos"> 831</span></a><span class="sd">            &quot;bottomleft&quot; for Cartesian-style (positive X right, positive Y up)</span>
</span><span id="L-832"><a href="#L-832"><span class="linenos"> 832</span></a><span class="sd">            topleft&quot; for image-style (positive X right, positive Y down)</span>
</span><span id="L-833"><a href="#L-833"><span class="linenos"> 833</span></a>
</span><span id="L-834"><a href="#L-834"><span class="linenos"> 834</span></a><span class="sd">        Args:</span>
</span><span id="L-835"><a href="#L-835"><span class="linenos"> 835</span></a><span class="sd">            relative_origin_position (str): The position of the origin for coordinate system (&quot;topleft&quot; or &quot;bottomleft&quot;).</span>
</span><span id="L-836"><a href="#L-836"><span class="linenos"> 836</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-837"><a href="#L-837"><span class="linenos"> 837</span></a>        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="L-838"><a href="#L-838"><span class="linenos"> 838</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">RulerItem</span><span class="p">):</span>
</span><span id="L-839"><a href="#L-839"><span class="linenos"> 839</span></a>                <span class="n">item</span><span class="o">.</span><span class="n">set_and_refresh_relative_origin_position</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
</span><span id="L-840"><a href="#L-840"><span class="linenos"> 840</span></a>
</span><span id="L-841"><a href="#L-841"><span class="linenos"> 841</span></a>    <span class="k">def</span> <span class="nf">display_loading_grayout</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">boolean</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Loading...&quot;</span><span class="p">,</span> <span class="n">pseudo_load_time</span><span class="o">=</span><span class="mf">0.2</span><span class="p">):</span>
</span><span id="L-842"><a href="#L-842"><span class="linenos"> 842</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Emit signal for showing/hiding a grayout screen to indicate loading sequences.</span>
</span><span id="L-843"><a href="#L-843"><span class="linenos"> 843</span></a>
</span><span id="L-844"><a href="#L-844"><span class="linenos"> 844</span></a><span class="sd">        Args:</span>
</span><span id="L-845"><a href="#L-845"><span class="linenos"> 845</span></a><span class="sd">            boolean (bool): True to show grayout; False to hide.</span>
</span><span id="L-846"><a href="#L-846"><span class="linenos"> 846</span></a><span class="sd">            text (str): The text to show on the grayout.</span>
</span><span id="L-847"><a href="#L-847"><span class="linenos"> 847</span></a><span class="sd">            pseudo_load_time (float): The delay (in seconds) to hide the grayout to give user feeling of action.</span>
</span><span id="L-848"><a href="#L-848"><span class="linenos"> 848</span></a><span class="sd">        &quot;&quot;&quot;</span> 
</span><span id="L-849"><a href="#L-849"><span class="linenos"> 849</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">signal_display_loading_grayout</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">pseudo_load_time</span><span class="p">)</span>
</span><span id="L-850"><a href="#L-850"><span class="linenos"> 850</span></a>        
</span><span id="L-851"><a href="#L-851"><span class="linenos"> 851</span></a>    <span class="k">def</span> <span class="nf">update_mouse_rect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="L-852"><a href="#L-852"><span class="linenos"> 852</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Update the position of red 1x1 outline at the pointer in the main scene.</span>
</span><span id="L-853"><a href="#L-853"><span class="linenos"> 853</span></a>
</span><span id="L-854"><a href="#L-854"><span class="linenos"> 854</span></a><span class="sd">        Args:</span>
</span><span id="L-855"><a href="#L-855"><span class="linenos"> 855</span></a><span class="sd">            pos (QPoint): The position of the mouse on the widget. Set to None to make the function determine the position using the mouse global coordinates.</span>
</span><span id="L-856"><a href="#L-856"><span class="linenos"> 856</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-857"><a href="#L-857"><span class="linenos"> 857</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_scene_main_topleft</span><span class="p">:</span>
</span><span id="L-858"><a href="#L-858"><span class="linenos"> 858</span></a>            <span class="k">return</span>
</span><span id="L-859"><a href="#L-859"><span class="linenos"> 859</span></a>    
</span><span id="L-860"><a href="#L-860"><span class="linenos"> 860</span></a>        <span class="k">if</span> <span class="n">pos</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span> <span class="c1"># Get position of split on main scene by directly pulling mouse global coordinates</span>
</span><span id="L-861"><a href="#L-861"><span class="linenos"> 861</span></a>            <span class="n">point_of_cursor_global</span>      <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QCursor</span><span class="o">.</span><span class="n">pos</span><span class="p">()</span>
</span><span id="L-862"><a href="#L-862"><span class="linenos"> 862</span></a>            <span class="n">point_of_mouse_on_widget</span>    <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapFromGlobal</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QCursor</span><span class="o">.</span><span class="n">pos</span><span class="p">())</span>
</span><span id="L-863"><a href="#L-863"><span class="linenos"> 863</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-864"><a href="#L-864"><span class="linenos"> 864</span></a>            <span class="n">point_of_mouse_on_widget</span> <span class="o">=</span> <span class="n">pos</span>
</span><span id="L-865"><a href="#L-865"><span class="linenos"> 865</span></a>    
</span><span id="L-866"><a href="#L-866"><span class="linenos"> 866</span></a>        <span class="n">mouse_rect_pos_origin</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapToScene</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span><span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">y</span><span class="p">())</span>
</span><span id="L-867"><a href="#L-867"><span class="linenos"> 867</span></a>        <span class="n">mouse_rect_pos_origin</span><span class="o">.</span><span class="n">setX</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">mouse_rect_pos_origin</span><span class="o">.</span><span class="n">x</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_width</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
</span><span id="L-868"><a href="#L-868"><span class="linenos"> 868</span></a>        <span class="n">mouse_rect_pos_origin</span><span class="o">.</span><span class="n">setY</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">mouse_rect_pos_origin</span><span class="o">.</span><span class="n">y</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_height</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
</span><span id="L-869"><a href="#L-869"><span class="linenos"> 869</span></a>        
</span><span id="L-870"><a href="#L-870"><span class="linenos"> 870</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_scene_main_topleft</span><span class="o">.</span><span class="n">setPos</span><span class="p">(</span><span class="n">mouse_rect_pos_origin</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span> <span class="n">mouse_rect_pos_origin</span><span class="o">.</span><span class="n">y</span><span class="p">())</span>
</span><span id="L-871"><a href="#L-871"><span class="linenos"> 871</span></a>    
</span><span id="L-872"><a href="#L-872"><span class="linenos"> 872</span></a>    <span class="c1"># Signals</span>
</span><span id="L-873"><a href="#L-873"><span class="linenos"> 873</span></a>    <span class="n">signal_display_loading_grayout</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">pyqtSignal</span><span class="p">(</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
</span><span id="L-874"><a href="#L-874"><span class="linenos"> 874</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Emitted when comments are being saved or loaded.&quot;&quot;&quot;</span>
</span><span id="L-875"><a href="#L-875"><span class="linenos"> 875</span></a>
</span><span id="L-876"><a href="#L-876"><span class="linenos"> 876</span></a>    <span class="n">became_closed</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">pyqtSignal</span><span class="p">()</span>
</span><span id="L-877"><a href="#L-877"><span class="linenos"> 877</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Emitted when SplitView is closed.&quot;&quot;&quot;</span>
</span><span id="L-878"><a href="#L-878"><span class="linenos"> 878</span></a>
</span><span id="L-879"><a href="#L-879"><span class="linenos"> 879</span></a>    <span class="n">was_clicked_close_pushbutton</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">pyqtSignal</span><span class="p">()</span>
</span><span id="L-880"><a href="#L-880"><span class="linenos"> 880</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Emitted when close pushbutton is clicked (pressed+released).&quot;&quot;&quot;</span>
</span><span id="L-881"><a href="#L-881"><span class="linenos"> 881</span></a>
</span><span id="L-882"><a href="#L-882"><span class="linenos"> 882</span></a>    <span class="n">was_set_global_transform_mode</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">pyqtSignal</span><span class="p">(</span><span class="nb">bool</span><span class="p">)</span>
</span><span id="L-883"><a href="#L-883"><span class="linenos"> 883</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Emitted when transform mode is set for all views in right-click menu (passes it along).&quot;&quot;&quot;</span>
</span><span id="L-884"><a href="#L-884"><span class="linenos"> 884</span></a>
</span><span id="L-885"><a href="#L-885"><span class="linenos"> 885</span></a>    <span class="n">was_set_scene_background_color</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">pyqtSignal</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
</span><span id="L-886"><a href="#L-886"><span class="linenos"> 886</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Emitted when background color is set in right-click menu (passes it along).&quot;&quot;&quot;</span>
</span><span id="L-887"><a href="#L-887"><span class="linenos"> 887</span></a>
</span><span id="L-888"><a href="#L-888"><span class="linenos"> 888</span></a>    <span class="n">was_set_sync_zoom_by</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">pyqtSignal</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
</span><span id="L-889"><a href="#L-889"><span class="linenos"> 889</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Emitted when sync zoom option is set in right-click menu (passes it along).&quot;&quot;&quot;</span>
</span><span id="L-890"><a href="#L-890"><span class="linenos"> 890</span></a>
</span><span id="L-891"><a href="#L-891"><span class="linenos"> 891</span></a>    <span class="n">positionChanged</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">pyqtSignal</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QPoint</span><span class="p">)</span>
</span><span id="L-892"><a href="#L-892"><span class="linenos"> 892</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Emitted when mouse changes position.&quot;&quot;&quot;</span>
</span><span id="L-893"><a href="#L-893"><span class="linenos"> 893</span></a>
</span><span id="L-894"><a href="#L-894"><span class="linenos"> 894</span></a>    <span class="n">sceneChanged</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">pyqtSignal</span><span class="p">(</span><span class="s1">&#39;QList&lt;QRectF&gt;&#39;</span><span class="p">)</span>
</span><span id="L-895"><a href="#L-895"><span class="linenos"> 895</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Scene Changed **Signal**.</span>
</span><span id="L-896"><a href="#L-896"><span class="linenos"> 896</span></a>
</span><span id="L-897"><a href="#L-897"><span class="linenos"> 897</span></a><span class="sd">    Emitted whenever the |QGraphicsScene| content changes.&quot;&quot;&quot;</span>
</span><span id="L-898"><a href="#L-898"><span class="linenos"> 898</span></a>    
</span><span id="L-899"><a href="#L-899"><span class="linenos"> 899</span></a>    <span class="n">transformChanged</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">pyqtSignal</span><span class="p">()</span>
</span><span id="L-900"><a href="#L-900"><span class="linenos"> 900</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Transformed Changed **Signal**.</span>
</span><span id="L-901"><a href="#L-901"><span class="linenos"> 901</span></a>
</span><span id="L-902"><a href="#L-902"><span class="linenos"> 902</span></a><span class="sd">    Emitted whenever the |QGraphicsView| Transform matrix has been changed.&quot;&quot;&quot;</span>
</span><span id="L-903"><a href="#L-903"><span class="linenos"> 903</span></a>
</span><span id="L-904"><a href="#L-904"><span class="linenos"> 904</span></a>    <span class="n">scrollChanged</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">pyqtSignal</span><span class="p">()</span>
</span><span id="L-905"><a href="#L-905"><span class="linenos"> 905</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Scroll Changed **Signal**.</span>
</span><span id="L-906"><a href="#L-906"><span class="linenos"> 906</span></a>
</span><span id="L-907"><a href="#L-907"><span class="linenos"> 907</span></a><span class="sd">    Emitted whenever the scrollbar position or range has changed.&quot;&quot;&quot;</span>
</span><span id="L-908"><a href="#L-908"><span class="linenos"> 908</span></a>
</span><span id="L-909"><a href="#L-909"><span class="linenos"> 909</span></a>    <span class="k">def</span> <span class="nf">connectSbarSignals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slot</span><span class="p">):</span>
</span><span id="L-910"><a href="#L-910"><span class="linenos"> 910</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Connect to scrollbar changed signals.</span>
</span><span id="L-911"><a href="#L-911"><span class="linenos"> 911</span></a>
</span><span id="L-912"><a href="#L-912"><span class="linenos"> 912</span></a><span class="sd">        :param slot: slot to connect scrollbar signals to.&quot;&quot;&quot;</span>
</span><span id="L-913"><a href="#L-913"><span class="linenos"> 913</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">connectSbarSignals</span><span class="p">(</span><span class="n">slot</span><span class="p">)</span>
</span><span id="L-914"><a href="#L-914"><span class="linenos"> 914</span></a>
</span><span id="L-915"><a href="#L-915"><span class="linenos"> 915</span></a>    <span class="k">def</span> <span class="nf">disconnectSbarSignals</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-916"><a href="#L-916"><span class="linenos"> 916</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">disconnectSbarSignals</span><span class="p">()</span>
</span><span id="L-917"><a href="#L-917"><span class="linenos"> 917</span></a>
</span><span id="L-918"><a href="#L-918"><span class="linenos"> 918</span></a>    <span class="nd">@property</span>
</span><span id="L-919"><a href="#L-919"><span class="linenos"> 919</span></a>    <span class="k">def</span> <span class="nf">pixmap_main_topleft</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-920"><a href="#L-920"><span class="linenos"> 920</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;The currently viewed |QPixmap| (*QPixmap*).&quot;&quot;&quot;</span>
</span><span id="L-921"><a href="#L-921"><span class="linenos"> 921</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_main_topleft</span><span class="o">.</span><span class="n">pixmap</span><span class="p">()</span>
</span><span id="L-922"><a href="#L-922"><span class="linenos"> 922</span></a>
</span><span id="L-923"><a href="#L-923"><span class="linenos"> 923</span></a>    <span class="nd">@pixmap_main_topleft</span><span class="o">.</span><span class="n">setter</span>
</span><span id="L-924"><a href="#L-924"><span class="linenos"> 924</span></a>    <span class="k">def</span> <span class="nf">pixmap_main_topleft</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pixmap_main_topleft</span><span class="p">):</span>
</span><span id="L-925"><a href="#L-925"><span class="linenos"> 925</span></a>        <span class="k">if</span> <span class="n">pixmap_main_topleft</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-926"><a href="#L-926"><span class="linenos"> 926</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_main_topleft</span><span class="o">.</span><span class="n">setPixmap</span><span class="p">(</span><span class="n">pixmap_main_topleft</span><span class="p">)</span>
</span><span id="L-927"><a href="#L-927"><span class="linenos"> 927</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_main_topleft</span><span class="o">.</span><span class="n">setTransformationMode</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">SmoothTransformation</span><span class="p">)</span>
</span><span id="L-928"><a href="#L-928"><span class="linenos"> 928</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_base_original</span> <span class="o">=</span> <span class="n">pixmap_main_topleft</span>
</span><span id="L-929"><a href="#L-929"><span class="linenos"> 929</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">set_opacity_base</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</span><span id="L-930"><a href="#L-930"><span class="linenos"> 930</span></a>
</span><span id="L-931"><a href="#L-931"><span class="linenos"> 931</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="L-932"><a href="#L-932"><span class="linenos"> 932</span></a>    <span class="k">def</span> <span class="nf">set_opacity_base</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">percent</span><span class="p">):</span>
</span><span id="L-933"><a href="#L-933"><span class="linenos"> 933</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set transparency of base image.</span>
</span><span id="L-934"><a href="#L-934"><span class="linenos"> 934</span></a><span class="sd">        </span>
</span><span id="L-935"><a href="#L-935"><span class="linenos"> 935</span></a><span class="sd">        Args:</span>
</span><span id="L-936"><a href="#L-936"><span class="linenos"> 936</span></a><span class="sd">            percent (float,int): The transparency as percent opacity, where 100 is opaque (not transparent) and 0 is transparent (0-100).</span>
</span><span id="L-937"><a href="#L-937"><span class="linenos"> 937</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-938"><a href="#L-938"><span class="linenos"> 938</span></a>        
</span><span id="L-939"><a href="#L-939"><span class="linenos"> 939</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_opacity_base</span> <span class="o">=</span> <span class="n">percent</span>
</span><span id="L-940"><a href="#L-940"><span class="linenos"> 940</span></a>
</span><span id="L-941"><a href="#L-941"><span class="linenos"> 941</span></a>        <span class="n">pixmap_to_be_transparent</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPixmap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_base_original</span><span class="o">.</span><span class="n">size</span><span class="p">())</span>
</span><span id="L-942"><a href="#L-942"><span class="linenos"> 942</span></a>        <span class="n">pixmap_to_be_transparent</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">transparent</span><span class="p">)</span>
</span><span id="L-943"><a href="#L-943"><span class="linenos"> 943</span></a>        <span class="n">painter</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPainter</span><span class="p">(</span><span class="n">pixmap_to_be_transparent</span><span class="p">)</span>
</span><span id="L-944"><a href="#L-944"><span class="linenos"> 944</span></a>        <span class="n">painter</span><span class="o">.</span><span class="n">setOpacity</span><span class="p">(</span><span class="n">percent</span><span class="o">/</span><span class="mi">100</span><span class="p">)</span>
</span><span id="L-945"><a href="#L-945"><span class="linenos"> 945</span></a>        <span class="n">painter</span><span class="o">.</span><span class="n">drawPixmap</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QPoint</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_base_original</span><span class="p">)</span>
</span><span id="L-946"><a href="#L-946"><span class="linenos"> 946</span></a>        <span class="n">painter</span><span class="o">.</span><span class="n">end</span><span class="p">()</span>
</span><span id="L-947"><a href="#L-947"><span class="linenos"> 947</span></a>
</span><span id="L-948"><a href="#L-948"><span class="linenos"> 948</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_main_topleft</span><span class="o">.</span><span class="n">setPixmap</span><span class="p">(</span><span class="n">pixmap_to_be_transparent</span><span class="p">)</span>
</span><span id="L-949"><a href="#L-949"><span class="linenos"> 949</span></a>    
</span><span id="L-950"><a href="#L-950"><span class="linenos"> 950</span></a>    <span class="nd">@property</span>
</span><span id="L-951"><a href="#L-951"><span class="linenos"> 951</span></a>    <span class="k">def</span> <span class="nf">pixmap_topright</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-952"><a href="#L-952"><span class="linenos"> 952</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;The currently viewed QPixmap of the top-right of the split.&quot;&quot;&quot;</span>
</span><span id="L-953"><a href="#L-953"><span class="linenos"> 953</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_topright</span><span class="o">.</span><span class="n">pixmap</span><span class="p">()</span>
</span><span id="L-954"><a href="#L-954"><span class="linenos"> 954</span></a>    
</span><span id="L-955"><a href="#L-955"><span class="linenos"> 955</span></a>    <span class="nd">@pixmap_topright</span><span class="o">.</span><span class="n">setter</span>
</span><span id="L-956"><a href="#L-956"><span class="linenos"> 956</span></a>    <span class="k">def</span> <span class="nf">pixmap_topright</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pixmap</span><span class="p">):</span>
</span><span id="L-957"><a href="#L-957"><span class="linenos"> 957</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_topright_original</span> <span class="o">=</span> <span class="n">pixmap</span>
</span><span id="L-958"><a href="#L-958"><span class="linenos"> 958</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_opacity_topright</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</span><span id="L-959"><a href="#L-959"><span class="linenos"> 959</span></a>    
</span><span id="L-960"><a href="#L-960"><span class="linenos"> 960</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="L-961"><a href="#L-961"><span class="linenos"> 961</span></a>    <span class="k">def</span> <span class="nf">set_opacity_topright</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">percent</span><span class="p">):</span>
</span><span id="L-962"><a href="#L-962"><span class="linenos"> 962</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set transparency of top-right of sliding overlay.</span>
</span><span id="L-963"><a href="#L-963"><span class="linenos"> 963</span></a><span class="sd">        </span>
</span><span id="L-964"><a href="#L-964"><span class="linenos"> 964</span></a><span class="sd">        Allows users to see base image underneath.</span>
</span><span id="L-965"><a href="#L-965"><span class="linenos"> 965</span></a><span class="sd">        Provide enhanced integration and comparison of images (for example, blending raking light with color).</span>
</span><span id="L-966"><a href="#L-966"><span class="linenos"> 966</span></a>
</span><span id="L-967"><a href="#L-967"><span class="linenos"> 967</span></a><span class="sd">        Args:</span>
</span><span id="L-968"><a href="#L-968"><span class="linenos"> 968</span></a><span class="sd">            percent (float,int): The transparency as percent opacity, where 100 is opaque (not transparent) and 0 is transparent (0-100).</span>
</span><span id="L-969"><a href="#L-969"><span class="linenos"> 969</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-970"><a href="#L-970"><span class="linenos"> 970</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">pixmap_topright_exists</span><span class="p">:</span>
</span><span id="L-971"><a href="#L-971"><span class="linenos"> 971</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_opacity_topright</span> <span class="o">=</span> <span class="mi">100</span>
</span><span id="L-972"><a href="#L-972"><span class="linenos"> 972</span></a>            <span class="k">return</span>
</span><span id="L-973"><a href="#L-973"><span class="linenos"> 973</span></a>        
</span><span id="L-974"><a href="#L-974"><span class="linenos"> 974</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_opacity_topright</span> <span class="o">=</span> <span class="n">percent</span>
</span><span id="L-975"><a href="#L-975"><span class="linenos"> 975</span></a>
</span><span id="L-976"><a href="#L-976"><span class="linenos"> 976</span></a>        <span class="n">pixmap_to_be_transparent</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPixmap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_topright_original</span><span class="o">.</span><span class="n">size</span><span class="p">())</span>
</span><span id="L-977"><a href="#L-977"><span class="linenos"> 977</span></a>        <span class="n">pixmap_to_be_transparent</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">transparent</span><span class="p">)</span>
</span><span id="L-978"><a href="#L-978"><span class="linenos"> 978</span></a>        <span class="n">painter</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPainter</span><span class="p">(</span><span class="n">pixmap_to_be_transparent</span><span class="p">)</span>
</span><span id="L-979"><a href="#L-979"><span class="linenos"> 979</span></a>        <span class="n">painter</span><span class="o">.</span><span class="n">setOpacity</span><span class="p">(</span><span class="n">percent</span><span class="o">/</span><span class="mi">100</span><span class="p">)</span>
</span><span id="L-980"><a href="#L-980"><span class="linenos"> 980</span></a>        <span class="n">painter</span><span class="o">.</span><span class="n">drawPixmap</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QPoint</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_topright_original</span><span class="p">)</span>
</span><span id="L-981"><a href="#L-981"><span class="linenos"> 981</span></a>        <span class="n">painter</span><span class="o">.</span><span class="n">end</span><span class="p">()</span>
</span><span id="L-982"><a href="#L-982"><span class="linenos"> 982</span></a>
</span><span id="L-983"><a href="#L-983"><span class="linenos"> 983</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_topright</span><span class="o">.</span><span class="n">setPixmap</span><span class="p">(</span><span class="n">pixmap_to_be_transparent</span><span class="p">)</span>
</span><span id="L-984"><a href="#L-984"><span class="linenos"> 984</span></a>    
</span><span id="L-985"><a href="#L-985"><span class="linenos"> 985</span></a>
</span><span id="L-986"><a href="#L-986"><span class="linenos"> 986</span></a>    <span class="nd">@property</span>
</span><span id="L-987"><a href="#L-987"><span class="linenos"> 987</span></a>    <span class="k">def</span> <span class="nf">pixmap_bottomright</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-988"><a href="#L-988"><span class="linenos"> 988</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;The currently viewed QPixmap of the bottom-right of the split.&quot;&quot;&quot;</span>
</span><span id="L-989"><a href="#L-989"><span class="linenos"> 989</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_bottomright</span><span class="o">.</span><span class="n">pixmap</span><span class="p">()</span>
</span><span id="L-990"><a href="#L-990"><span class="linenos"> 990</span></a>    
</span><span id="L-991"><a href="#L-991"><span class="linenos"> 991</span></a>    <span class="nd">@pixmap_bottomright</span><span class="o">.</span><span class="n">setter</span>
</span><span id="L-992"><a href="#L-992"><span class="linenos"> 992</span></a>    <span class="k">def</span> <span class="nf">pixmap_bottomright</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pixmap</span><span class="p">):</span>
</span><span id="L-993"><a href="#L-993"><span class="linenos"> 993</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_bottomright_original</span> <span class="o">=</span> <span class="n">pixmap</span>
</span><span id="L-994"><a href="#L-994"><span class="linenos"> 994</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_opacity_bottomright</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</span><span id="L-995"><a href="#L-995"><span class="linenos"> 995</span></a>    
</span><span id="L-996"><a href="#L-996"><span class="linenos"> 996</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="L-997"><a href="#L-997"><span class="linenos"> 997</span></a>    <span class="k">def</span> <span class="nf">set_opacity_bottomright</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">percent</span><span class="p">):</span>
</span><span id="L-998"><a href="#L-998"><span class="linenos"> 998</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set transparency of bottom-right of sliding overlay.</span>
</span><span id="L-999"><a href="#L-999"><span class="linenos"> 999</span></a>
</span><span id="L-1000"><a href="#L-1000"><span class="linenos">1000</span></a><span class="sd">        Args:</span>
</span><span id="L-1001"><a href="#L-1001"><span class="linenos">1001</span></a><span class="sd">            percent (float,int): The transparency as percent opacity, where 100 is opaque (not transparent) and 0 is transparent (0-100).</span>
</span><span id="L-1002"><a href="#L-1002"><span class="linenos">1002</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1003"><a href="#L-1003"><span class="linenos">1003</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">pixmap_bottomright_exists</span><span class="p">:</span>
</span><span id="L-1004"><a href="#L-1004"><span class="linenos">1004</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_opacity_bottomright</span> <span class="o">=</span> <span class="mi">100</span>
</span><span id="L-1005"><a href="#L-1005"><span class="linenos">1005</span></a>            <span class="k">return</span>
</span><span id="L-1006"><a href="#L-1006"><span class="linenos">1006</span></a>
</span><span id="L-1007"><a href="#L-1007"><span class="linenos">1007</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_opacity_bottomright</span> <span class="o">=</span> <span class="n">percent</span>
</span><span id="L-1008"><a href="#L-1008"><span class="linenos">1008</span></a>
</span><span id="L-1009"><a href="#L-1009"><span class="linenos">1009</span></a>        <span class="n">pixmap_to_be_transparent</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPixmap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_bottomright_original</span><span class="o">.</span><span class="n">size</span><span class="p">())</span>
</span><span id="L-1010"><a href="#L-1010"><span class="linenos">1010</span></a>        <span class="n">pixmap_to_be_transparent</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">transparent</span><span class="p">)</span>
</span><span id="L-1011"><a href="#L-1011"><span class="linenos">1011</span></a>        <span class="n">painter</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPainter</span><span class="p">(</span><span class="n">pixmap_to_be_transparent</span><span class="p">)</span>
</span><span id="L-1012"><a href="#L-1012"><span class="linenos">1012</span></a>        <span class="n">painter</span><span class="o">.</span><span class="n">setOpacity</span><span class="p">(</span><span class="n">percent</span><span class="o">/</span><span class="mi">100</span><span class="p">)</span>
</span><span id="L-1013"><a href="#L-1013"><span class="linenos">1013</span></a>        <span class="n">painter</span><span class="o">.</span><span class="n">drawPixmap</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QPoint</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_bottomright_original</span><span class="p">)</span>
</span><span id="L-1014"><a href="#L-1014"><span class="linenos">1014</span></a>        <span class="n">painter</span><span class="o">.</span><span class="n">end</span><span class="p">()</span>
</span><span id="L-1015"><a href="#L-1015"><span class="linenos">1015</span></a>
</span><span id="L-1016"><a href="#L-1016"><span class="linenos">1016</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_bottomright</span><span class="o">.</span><span class="n">setPixmap</span><span class="p">(</span><span class="n">pixmap_to_be_transparent</span><span class="p">)</span>
</span><span id="L-1017"><a href="#L-1017"><span class="linenos">1017</span></a>    
</span><span id="L-1018"><a href="#L-1018"><span class="linenos">1018</span></a>
</span><span id="L-1019"><a href="#L-1019"><span class="linenos">1019</span></a>    <span class="nd">@property</span>
</span><span id="L-1020"><a href="#L-1020"><span class="linenos">1020</span></a>    <span class="k">def</span> <span class="nf">pixmap_bottomleft</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1021"><a href="#L-1021"><span class="linenos">1021</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;The currently viewed QPixmap of the bottom-left of the split.&quot;&quot;&quot;</span>
</span><span id="L-1022"><a href="#L-1022"><span class="linenos">1022</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_bottomleft</span><span class="o">.</span><span class="n">pixmap</span><span class="p">()</span>
</span><span id="L-1023"><a href="#L-1023"><span class="linenos">1023</span></a>    
</span><span id="L-1024"><a href="#L-1024"><span class="linenos">1024</span></a>    <span class="nd">@pixmap_bottomleft</span><span class="o">.</span><span class="n">setter</span>
</span><span id="L-1025"><a href="#L-1025"><span class="linenos">1025</span></a>    <span class="k">def</span> <span class="nf">pixmap_bottomleft</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pixmap</span><span class="p">):</span>
</span><span id="L-1026"><a href="#L-1026"><span class="linenos">1026</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_bottomleft_original</span> <span class="o">=</span> <span class="n">pixmap</span>
</span><span id="L-1027"><a href="#L-1027"><span class="linenos">1027</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_opacity_bottomleft</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</span><span id="L-1028"><a href="#L-1028"><span class="linenos">1028</span></a>    
</span><span id="L-1029"><a href="#L-1029"><span class="linenos">1029</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="L-1030"><a href="#L-1030"><span class="linenos">1030</span></a>    <span class="k">def</span> <span class="nf">set_opacity_bottomleft</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">percent</span><span class="p">):</span>
</span><span id="L-1031"><a href="#L-1031"><span class="linenos">1031</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set transparency of bottom-left of sliding overlay.</span>
</span><span id="L-1032"><a href="#L-1032"><span class="linenos">1032</span></a>
</span><span id="L-1033"><a href="#L-1033"><span class="linenos">1033</span></a><span class="sd">        Args:</span>
</span><span id="L-1034"><a href="#L-1034"><span class="linenos">1034</span></a><span class="sd">            percent (float,int): The transparency as percent opacity, where 100 is opaque (not transparent) and 0 is transparent (0-100).</span>
</span><span id="L-1035"><a href="#L-1035"><span class="linenos">1035</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1036"><a href="#L-1036"><span class="linenos">1036</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">pixmap_bottomleft_exists</span><span class="p">:</span>
</span><span id="L-1037"><a href="#L-1037"><span class="linenos">1037</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_opacity_bottomleft</span> <span class="o">=</span> <span class="mi">100</span>
</span><span id="L-1038"><a href="#L-1038"><span class="linenos">1038</span></a>            <span class="k">return</span>
</span><span id="L-1039"><a href="#L-1039"><span class="linenos">1039</span></a>
</span><span id="L-1040"><a href="#L-1040"><span class="linenos">1040</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_opacity_bottomleft</span> <span class="o">=</span> <span class="n">percent</span>
</span><span id="L-1041"><a href="#L-1041"><span class="linenos">1041</span></a>
</span><span id="L-1042"><a href="#L-1042"><span class="linenos">1042</span></a>        <span class="n">pixmap_to_be_transparent</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPixmap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_bottomleft_original</span><span class="o">.</span><span class="n">size</span><span class="p">())</span>
</span><span id="L-1043"><a href="#L-1043"><span class="linenos">1043</span></a>        <span class="n">pixmap_to_be_transparent</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">transparent</span><span class="p">)</span>
</span><span id="L-1044"><a href="#L-1044"><span class="linenos">1044</span></a>        <span class="n">painter</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPainter</span><span class="p">(</span><span class="n">pixmap_to_be_transparent</span><span class="p">)</span>
</span><span id="L-1045"><a href="#L-1045"><span class="linenos">1045</span></a>        <span class="n">painter</span><span class="o">.</span><span class="n">setOpacity</span><span class="p">(</span><span class="n">percent</span><span class="o">/</span><span class="mi">100</span><span class="p">)</span>
</span><span id="L-1046"><a href="#L-1046"><span class="linenos">1046</span></a>        <span class="n">painter</span><span class="o">.</span><span class="n">drawPixmap</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QPoint</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_bottomleft_original</span><span class="p">)</span>
</span><span id="L-1047"><a href="#L-1047"><span class="linenos">1047</span></a>        <span class="n">painter</span><span class="o">.</span><span class="n">end</span><span class="p">()</span>
</span><span id="L-1048"><a href="#L-1048"><span class="linenos">1048</span></a>
</span><span id="L-1049"><a href="#L-1049"><span class="linenos">1049</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_bottomleft</span><span class="o">.</span><span class="n">setPixmap</span><span class="p">(</span><span class="n">pixmap_to_be_transparent</span><span class="p">)</span>
</span><span id="L-1050"><a href="#L-1050"><span class="linenos">1050</span></a>    
</span><span id="L-1051"><a href="#L-1051"><span class="linenos">1051</span></a>    <span class="k">def</span> <span class="nf">moveEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
</span><span id="L-1052"><a href="#L-1052"><span class="linenos">1052</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Override move event of frame.&quot;&quot;&quot;</span>
</span><span id="L-1053"><a href="#L-1053"><span class="linenos">1053</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">moveEvent</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</span><span id="L-1054"><a href="#L-1054"><span class="linenos">1054</span></a>
</span><span id="L-1055"><a href="#L-1055"><span class="linenos">1055</span></a>    <span class="k">def</span> <span class="nf">resizeEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
</span><span id="L-1056"><a href="#L-1056"><span class="linenos">1056</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Override resize event of frame to ensure scene is also resized.&quot;&quot;&quot;</span>
</span><span id="L-1057"><a href="#L-1057"><span class="linenos">1057</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_scene</span><span class="p">()</span>
</span><span id="L-1058"><a href="#L-1058"><span class="linenos">1058</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">resizeEvent</span><span class="p">(</span><span class="n">event</span><span class="p">)</span> <span class="c1"># Equivalent to QtWidgets.QFrame.resizeEvent(self, event)     </span>
</span><span id="L-1059"><a href="#L-1059"><span class="linenos">1059</span></a>        
</span><span id="L-1060"><a href="#L-1060"><span class="linenos">1060</span></a>    <span class="k">def</span> <span class="nf">resize_scene</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1061"><a href="#L-1061"><span class="linenos">1061</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Resize the scene to allow image to be panned just before the main pixmap leaves the viewport.</span>
</span><span id="L-1062"><a href="#L-1062"><span class="linenos">1062</span></a>
</span><span id="L-1063"><a href="#L-1063"><span class="linenos">1063</span></a><span class="sd">        This is needed to expand the scene so that users can pan the pixmap such that its edges are at the center of the view.</span>
</span><span id="L-1064"><a href="#L-1064"><span class="linenos">1064</span></a><span class="sd">        This changes the default behavior, which limits the scene to the bounds of the pixmap, thereby blocking users </span>
</span><span id="L-1065"><a href="#L-1065"><span class="linenos">1065</span></a><span class="sd">        from panning outside the bounds of the pixmap, which can feel abrupt and restrictive.</span>
</span><span id="L-1066"><a href="#L-1066"><span class="linenos">1066</span></a><span class="sd">        This takes care of preventing users from panning too far away from the pixmap. </span>
</span><span id="L-1067"><a href="#L-1067"><span class="linenos">1067</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1068"><a href="#L-1068"><span class="linenos">1068</span></a>        <span class="n">scene_to_viewport_factor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">zoomFactor</span>
</span><span id="L-1069"><a href="#L-1069"><span class="linenos">1069</span></a>        
</span><span id="L-1070"><a href="#L-1070"><span class="linenos">1070</span></a>        <span class="n">width_viewport_window</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">()</span>
</span><span id="L-1071"><a href="#L-1071"><span class="linenos">1071</span></a>        <span class="n">height_viewport_window</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">()</span>
</span><span id="L-1072"><a href="#L-1072"><span class="linenos">1072</span></a>
</span><span id="L-1073"><a href="#L-1073"><span class="linenos">1073</span></a>        <span class="n">peek_precent</span> <span class="o">=</span> <span class="mf">0.1</span> <span class="c1"># Percent of pixmap to be left &quot;peeking&quot; at bounds of pan</span>
</span><span id="L-1074"><a href="#L-1074"><span class="linenos">1074</span></a>        <span class="n">peek_margin_x</span> <span class="o">=</span> <span class="n">width_viewport_window</span><span class="o">*</span><span class="n">peek_precent</span> <span class="c1"># [px]</span>
</span><span id="L-1075"><a href="#L-1075"><span class="linenos">1075</span></a>        <span class="n">peek_margin_y</span> <span class="o">=</span> <span class="n">height_viewport_window</span><span class="o">*</span><span class="n">peek_precent</span>
</span><span id="L-1076"><a href="#L-1076"><span class="linenos">1076</span></a>        
</span><span id="L-1077"><a href="#L-1077"><span class="linenos">1077</span></a>        <span class="n">width_viewport</span> <span class="o">=</span> <span class="p">(</span><span class="n">width_viewport_window</span> <span class="o">-</span> <span class="n">peek_margin_x</span><span class="p">)</span><span class="o">/</span><span class="n">scene_to_viewport_factor</span> <span class="c1"># This is the size of the viewport on the screen</span>
</span><span id="L-1078"><a href="#L-1078"><span class="linenos">1078</span></a>        <span class="n">height_viewport</span> <span class="o">=</span> <span class="p">(</span><span class="n">height_viewport_window</span> <span class="o">-</span> <span class="n">peek_margin_y</span><span class="p">)</span><span class="o">/</span><span class="n">scene_to_viewport_factor</span>
</span><span id="L-1079"><a href="#L-1079"><span class="linenos">1079</span></a>        
</span><span id="L-1080"><a href="#L-1080"><span class="linenos">1080</span></a>        <span class="n">width_pixmap</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">imageWidth</span>
</span><span id="L-1081"><a href="#L-1081"><span class="linenos">1081</span></a>        <span class="n">height_pixmap</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">imageHeight</span>
</span><span id="L-1082"><a href="#L-1082"><span class="linenos">1082</span></a>        
</span><span id="L-1083"><a href="#L-1083"><span class="linenos">1083</span></a>        <span class="n">width_scene</span> <span class="o">=</span> <span class="mf">2.0</span><span class="o">*</span><span class="p">(</span><span class="n">width_viewport</span> <span class="o">+</span> <span class="n">width_pixmap</span><span class="o">/</span><span class="mf">2.0</span><span class="p">)</span> <span class="c1"># The scene spans twice the viewport plus the pixmap</span>
</span><span id="L-1084"><a href="#L-1084"><span class="linenos">1084</span></a>        <span class="n">height_scene</span> <span class="o">=</span> <span class="mf">2.0</span><span class="o">*</span><span class="p">(</span><span class="n">height_viewport</span> <span class="o">+</span> <span class="n">height_pixmap</span><span class="o">/</span><span class="mf">2.0</span><span class="p">)</span>
</span><span id="L-1085"><a href="#L-1085"><span class="linenos">1085</span></a>        
</span><span id="L-1086"><a href="#L-1086"><span class="linenos">1086</span></a>        <span class="n">scene_rect</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QRectF</span><span class="p">(</span><span class="o">-</span><span class="n">width_scene</span><span class="o">/</span><span class="mf">2.0</span> <span class="o">+</span> <span class="n">width_pixmap</span><span class="o">/</span><span class="mf">2.0</span><span class="p">,</span><span class="o">-</span><span class="n">height_scene</span><span class="o">/</span><span class="mf">2.0</span> <span class="o">+</span> <span class="n">height_pixmap</span><span class="o">/</span><span class="mf">2.0</span><span class="p">,</span><span class="n">width_scene</span><span class="p">,</span><span class="n">height_scene</span><span class="p">)</span>
</span><span id="L-1087"><a href="#L-1087"><span class="linenos">1087</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">setSceneRect</span><span class="p">(</span><span class="n">scene_rect</span><span class="p">)</span>
</span><span id="L-1088"><a href="#L-1088"><span class="linenos">1088</span></a>    
</span><span id="L-1089"><a href="#L-1089"><span class="linenos">1089</span></a>    <span class="k">def</span> <span class="nf">set_transform_mode_smooth_on</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1090"><a href="#L-1090"><span class="linenos">1090</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set transform mode to smooth (interpolate) when zoomfactor is &gt;= 1.0.&quot;&quot;&quot;</span>
</span><span id="L-1091"><a href="#L-1091"><span class="linenos">1091</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">transform_mode_smooth</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-1092"><a href="#L-1092"><span class="linenos">1092</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">set_single_transform_mode_smooth</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-1093"><a href="#L-1093"><span class="linenos">1093</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">refresh_transform_mode</span><span class="p">()</span>
</span><span id="L-1094"><a href="#L-1094"><span class="linenos">1094</span></a>            
</span><span id="L-1095"><a href="#L-1095"><span class="linenos">1095</span></a>    <span class="k">def</span> <span class="nf">set_transform_mode_smooth_off</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1096"><a href="#L-1096"><span class="linenos">1096</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set transform mode to non-smooth (non-interpolated) when zoomfactor is &gt;= 1.0.&quot;&quot;&quot;</span>
</span><span id="L-1097"><a href="#L-1097"><span class="linenos">1097</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">transform_mode_smooth</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-1098"><a href="#L-1098"><span class="linenos">1098</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">set_single_transform_mode_smooth</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</span><span id="L-1099"><a href="#L-1099"><span class="linenos">1099</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">refresh_transform_mode</span><span class="p">()</span>
</span><span id="L-1100"><a href="#L-1100"><span class="linenos">1100</span></a>
</span><span id="L-1101"><a href="#L-1101"><span class="linenos">1101</span></a>    <span class="k">def</span> <span class="nf">set_transform_mode_smooth</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">boolean</span><span class="p">):</span>
</span><span id="L-1102"><a href="#L-1102"><span class="linenos">1102</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set transform mode when zoomfactor is &gt;= 1.0.</span>
</span><span id="L-1103"><a href="#L-1103"><span class="linenos">1103</span></a>
</span><span id="L-1104"><a href="#L-1104"><span class="linenos">1104</span></a><span class="sd">        Convenience function.</span>
</span><span id="L-1105"><a href="#L-1105"><span class="linenos">1105</span></a><span class="sd">        </span>
</span><span id="L-1106"><a href="#L-1106"><span class="linenos">1106</span></a><span class="sd">        Args:</span>
</span><span id="L-1107"><a href="#L-1107"><span class="linenos">1107</span></a><span class="sd">            boolean (bool): True to smooth (interpolate); False to fast (not interpolate).</span>
</span><span id="L-1108"><a href="#L-1108"><span class="linenos">1108</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1109"><a href="#L-1109"><span class="linenos">1109</span></a>        <span class="k">if</span> <span class="n">boolean</span><span class="p">:</span>
</span><span id="L-1110"><a href="#L-1110"><span class="linenos">1110</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">set_transform_mode_smooth_on</span><span class="p">()</span>
</span><span id="L-1111"><a href="#L-1111"><span class="linenos">1111</span></a>        <span class="k">elif</span> <span class="ow">not</span> <span class="n">boolean</span><span class="p">:</span>
</span><span id="L-1112"><a href="#L-1112"><span class="linenos">1112</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">set_transform_mode_smooth_off</span><span class="p">()</span>
</span><span id="L-1113"><a href="#L-1113"><span class="linenos">1113</span></a>            
</span><span id="L-1114"><a href="#L-1114"><span class="linenos">1114</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="L-1115"><a href="#L-1115"><span class="linenos">1115</span></a>    <span class="k">def</span> <span class="nf">on_transformChanged</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1116"><a href="#L-1116"><span class="linenos">1116</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Resize scene if image transform is changed (for example, when zoomed).&quot;&quot;&quot;</span>
</span><span id="L-1117"><a href="#L-1117"><span class="linenos">1117</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_scene</span><span class="p">()</span>
</span><span id="L-1118"><a href="#L-1118"><span class="linenos">1118</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">update_split</span><span class="p">()</span>
</span><span id="L-1119"><a href="#L-1119"><span class="linenos">1119</span></a>
</span><span id="L-1120"><a href="#L-1120"><span class="linenos">1120</span></a>    <span class="nd">@property</span>
</span><span id="L-1121"><a href="#L-1121"><span class="linenos">1121</span></a>    <span class="k">def</span> <span class="nf">viewName</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1122"><a href="#L-1122"><span class="linenos">1122</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;str: The name of the SplitView.&quot;&quot;&quot;</span>
</span><span id="L-1123"><a href="#L-1123"><span class="linenos">1123</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span>
</span><span id="L-1124"><a href="#L-1124"><span class="linenos">1124</span></a>    
</span><span id="L-1125"><a href="#L-1125"><span class="linenos">1125</span></a>    <span class="nd">@viewName</span><span class="o">.</span><span class="n">setter</span>
</span><span id="L-1126"><a href="#L-1126"><span class="linenos">1126</span></a>    <span class="k">def</span> <span class="nf">viewName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
</span><span id="L-1127"><a href="#L-1127"><span class="linenos">1127</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">name</span>
</span><span id="L-1128"><a href="#L-1128"><span class="linenos">1128</span></a>
</span><span id="L-1129"><a href="#L-1129"><span class="linenos">1129</span></a>    <span class="nd">@property</span>
</span><span id="L-1130"><a href="#L-1130"><span class="linenos">1130</span></a>    <span class="k">def</span> <span class="nf">handDragging</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1131"><a href="#L-1131"><span class="linenos">1131</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;bool: The hand dragging state.&quot;&quot;&quot;</span>
</span><span id="L-1132"><a href="#L-1132"><span class="linenos">1132</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">handDragging</span>
</span><span id="L-1133"><a href="#L-1133"><span class="linenos">1133</span></a>
</span><span id="L-1134"><a href="#L-1134"><span class="linenos">1134</span></a>    <span class="nd">@property</span>
</span><span id="L-1135"><a href="#L-1135"><span class="linenos">1135</span></a>    <span class="k">def</span> <span class="nf">scrollState</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1136"><a href="#L-1136"><span class="linenos">1136</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;tuple: The percentage of scene extents</span>
</span><span id="L-1137"><a href="#L-1137"><span class="linenos">1137</span></a><span class="sd">        *(sceneWidthPercent, sceneHeightPercent)*&quot;&quot;&quot;</span>
</span><span id="L-1138"><a href="#L-1138"><span class="linenos">1138</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">scrollState</span>
</span><span id="L-1139"><a href="#L-1139"><span class="linenos">1139</span></a>
</span><span id="L-1140"><a href="#L-1140"><span class="linenos">1140</span></a>    <span class="nd">@scrollState</span><span class="o">.</span><span class="n">setter</span>
</span><span id="L-1141"><a href="#L-1141"><span class="linenos">1141</span></a>    <span class="k">def</span> <span class="nf">scrollState</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
</span><span id="L-1142"><a href="#L-1142"><span class="linenos">1142</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">scrollState</span> <span class="o">=</span> <span class="n">state</span>
</span><span id="L-1143"><a href="#L-1143"><span class="linenos">1143</span></a>
</span><span id="L-1144"><a href="#L-1144"><span class="linenos">1144</span></a>    <span class="nd">@property</span>
</span><span id="L-1145"><a href="#L-1145"><span class="linenos">1145</span></a>    <span class="k">def</span> <span class="nf">zoomFactor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1146"><a href="#L-1146"><span class="linenos">1146</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;float: The zoom scale factor.&quot;&quot;&quot;</span>
</span><span id="L-1147"><a href="#L-1147"><span class="linenos">1147</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">zoomFactor</span>
</span><span id="L-1148"><a href="#L-1148"><span class="linenos">1148</span></a>
</span><span id="L-1149"><a href="#L-1149"><span class="linenos">1149</span></a>    <span class="nd">@zoomFactor</span><span class="o">.</span><span class="n">setter</span>
</span><span id="L-1150"><a href="#L-1150"><span class="linenos">1150</span></a>    <span class="k">def</span> <span class="nf">zoomFactor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newZoomFactor</span><span class="p">):</span>
</span><span id="L-1151"><a href="#L-1151"><span class="linenos">1151</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Apply zoom to all views, taking into account the transform mode.</span>
</span><span id="L-1152"><a href="#L-1152"><span class="linenos">1152</span></a><span class="sd">        </span>
</span><span id="L-1153"><a href="#L-1153"><span class="linenos">1153</span></a><span class="sd">        Args:</span>
</span><span id="L-1154"><a href="#L-1154"><span class="linenos">1154</span></a><span class="sd">            newZoomFactor (float)</span>
</span><span id="L-1155"><a href="#L-1155"><span class="linenos">1155</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1156"><a href="#L-1156"><span class="linenos">1156</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">zoomFactor</span> <span class="o">=</span> <span class="n">newZoomFactor</span>
</span><span id="L-1157"><a href="#L-1157"><span class="linenos">1157</span></a>
</span><span id="L-1158"><a href="#L-1158"><span class="linenos">1158</span></a>        <span class="n">scale_topright</span> <span class="o">=</span> <span class="n">newZoomFactor</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_topright_zoom_adjust</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_topright</span><span class="o">.</span><span class="n">transform</span><span class="p">()</span><span class="o">.</span><span class="n">m11</span><span class="p">()</span>
</span><span id="L-1159"><a href="#L-1159"><span class="linenos">1159</span></a>        <span class="n">scale_bottomright</span> <span class="o">=</span> <span class="n">newZoomFactor</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bottomright_zoom_adjust</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomright</span><span class="o">.</span><span class="n">transform</span><span class="p">()</span><span class="o">.</span><span class="n">m11</span><span class="p">()</span>
</span><span id="L-1160"><a href="#L-1160"><span class="linenos">1160</span></a>        <span class="n">scale_bottomleft</span> <span class="o">=</span> <span class="n">newZoomFactor</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bottomleft_zoom_adjust</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomleft</span><span class="o">.</span><span class="n">transform</span><span class="p">()</span><span class="o">.</span><span class="n">m11</span><span class="p">()</span>
</span><span id="L-1161"><a href="#L-1161"><span class="linenos">1161</span></a>
</span><span id="L-1162"><a href="#L-1162"><span class="linenos">1162</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_topright</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">scale_topright</span><span class="p">,</span> <span class="n">scale_topright</span><span class="p">)</span>
</span><span id="L-1163"><a href="#L-1163"><span class="linenos">1163</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomright</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">scale_bottomright</span><span class="p">,</span> <span class="n">scale_bottomright</span><span class="p">)</span>
</span><span id="L-1164"><a href="#L-1164"><span class="linenos">1164</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomleft</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">scale_bottomleft</span><span class="p">,</span> <span class="n">scale_bottomleft</span><span class="p">)</span>
</span><span id="L-1165"><a href="#L-1165"><span class="linenos">1165</span></a>
</span><span id="L-1166"><a href="#L-1166"><span class="linenos">1166</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">refresh_transform_mode</span><span class="p">()</span>
</span><span id="L-1167"><a href="#L-1167"><span class="linenos">1167</span></a>
</span><span id="L-1168"><a href="#L-1168"><span class="linenos">1168</span></a>    <span class="k">def</span> <span class="nf">refresh_transform_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1169"><a href="#L-1169"><span class="linenos">1169</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Refresh zoom of all views, taking into account the transform mode.&quot;&quot;&quot;</span>
</span><span id="L-1170"><a href="#L-1170"><span class="linenos">1170</span></a>        <span class="n">zoomFactor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">zoomFactor</span>
</span><span id="L-1171"><a href="#L-1171"><span class="linenos">1171</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_pixmap_transform_from_scale</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_main_topleft</span><span class="p">,</span>
</span><span id="L-1172"><a href="#L-1172"><span class="linenos">1172</span></a>                                            <span class="n">zoomFactor</span><span class="p">)</span>
</span><span id="L-1173"><a href="#L-1173"><span class="linenos">1173</span></a>        
</span><span id="L-1174"><a href="#L-1174"><span class="linenos">1174</span></a>        <span class="n">scale_topright</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_topright</span><span class="o">.</span><span class="n">transform</span><span class="p">()</span><span class="o">.</span><span class="n">m11</span><span class="p">()</span>
</span><span id="L-1175"><a href="#L-1175"><span class="linenos">1175</span></a>        <span class="n">scale_bottomright</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomright</span><span class="o">.</span><span class="n">transform</span><span class="p">()</span><span class="o">.</span><span class="n">m11</span><span class="p">()</span>
</span><span id="L-1176"><a href="#L-1176"><span class="linenos">1176</span></a>        <span class="n">scale_bottomleft</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomleft</span><span class="o">.</span><span class="n">transform</span><span class="p">()</span><span class="o">.</span><span class="n">m11</span><span class="p">()</span>
</span><span id="L-1177"><a href="#L-1177"><span class="linenos">1177</span></a>
</span><span id="L-1178"><a href="#L-1178"><span class="linenos">1178</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_pixmap_transform_from_scale</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_topright</span><span class="p">,</span>
</span><span id="L-1179"><a href="#L-1179"><span class="linenos">1179</span></a>                                            <span class="n">scale_topright</span><span class="p">)</span>
</span><span id="L-1180"><a href="#L-1180"><span class="linenos">1180</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_pixmap_transform_from_scale</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_bottomright</span><span class="p">,</span>
</span><span id="L-1181"><a href="#L-1181"><span class="linenos">1181</span></a>                                            <span class="n">scale_bottomright</span><span class="p">)</span>
</span><span id="L-1182"><a href="#L-1182"><span class="linenos">1182</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_pixmap_transform_from_scale</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_bottomleft</span><span class="p">,</span>
</span><span id="L-1183"><a href="#L-1183"><span class="linenos">1183</span></a>                                            <span class="n">scale_bottomleft</span><span class="p">)</span>
</span><span id="L-1184"><a href="#L-1184"><span class="linenos">1184</span></a>
</span><span id="L-1185"><a href="#L-1185"><span class="linenos">1185</span></a>    <span class="k">def</span> <span class="nf">set_pixmap_transform_from_scale</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pixmap_item</span><span class="p">,</span> <span class="n">scale</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">):</span>
</span><span id="L-1186"><a href="#L-1186"><span class="linenos">1186</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set a given pixmap transform based on scale (zoom).&quot;&quot;&quot;</span>
</span><span id="L-1187"><a href="#L-1187"><span class="linenos">1187</span></a>
</span><span id="L-1188"><a href="#L-1188"><span class="linenos">1188</span></a>        <span class="k">if</span> <span class="p">(</span><span class="n">scale</span> <span class="o">&lt;</span> <span class="n">limit</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">transform_mode_smooth</span><span class="p">):</span>
</span><span id="L-1189"><a href="#L-1189"><span class="linenos">1189</span></a>            <span class="n">pixmap_item</span><span class="o">.</span><span class="n">setTransformationMode</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">SmoothTransformation</span><span class="p">)</span>
</span><span id="L-1190"><a href="#L-1190"><span class="linenos">1190</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-1191"><a href="#L-1191"><span class="linenos">1191</span></a>            <span class="n">pixmap_item</span><span class="o">.</span><span class="n">setTransformationMode</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">FastTransformation</span><span class="p">)</span>
</span><span id="L-1192"><a href="#L-1192"><span class="linenos">1192</span></a>
</span><span id="L-1193"><a href="#L-1193"><span class="linenos">1193</span></a>    <span class="nd">@property</span>
</span><span id="L-1194"><a href="#L-1194"><span class="linenos">1194</span></a>    <span class="k">def</span> <span class="nf">_horizontalScrollBar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1195"><a href="#L-1195"><span class="linenos">1195</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the SplitView horizontal scrollbar widget (*QScrollBar*).</span>
</span><span id="L-1196"><a href="#L-1196"><span class="linenos">1196</span></a>
</span><span id="L-1197"><a href="#L-1197"><span class="linenos">1197</span></a><span class="sd">        (Only used for debugging purposes)&quot;&quot;&quot;</span>
</span><span id="L-1198"><a href="#L-1198"><span class="linenos">1198</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">horizontalScrollBar</span><span class="p">()</span>
</span><span id="L-1199"><a href="#L-1199"><span class="linenos">1199</span></a>
</span><span id="L-1200"><a href="#L-1200"><span class="linenos">1200</span></a>    <span class="nd">@property</span>
</span><span id="L-1201"><a href="#L-1201"><span class="linenos">1201</span></a>    <span class="k">def</span> <span class="nf">_verticalScrollBar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1202"><a href="#L-1202"><span class="linenos">1202</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the SplitView vertical scrollbar widget (*QScrollBar*).</span>
</span><span id="L-1203"><a href="#L-1203"><span class="linenos">1203</span></a>
</span><span id="L-1204"><a href="#L-1204"><span class="linenos">1204</span></a><span class="sd">        (Only used for debugging purposes)&quot;&quot;&quot;</span>
</span><span id="L-1205"><a href="#L-1205"><span class="linenos">1205</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">verticalScrollBar</span><span class="p">()</span>
</span><span id="L-1206"><a href="#L-1206"><span class="linenos">1206</span></a>
</span><span id="L-1207"><a href="#L-1207"><span class="linenos">1207</span></a>    <span class="nd">@property</span>
</span><span id="L-1208"><a href="#L-1208"><span class="linenos">1208</span></a>    <span class="k">def</span> <span class="nf">_sceneRect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1209"><a href="#L-1209"><span class="linenos">1209</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the SplitView sceneRect (*QRectF*).</span>
</span><span id="L-1210"><a href="#L-1210"><span class="linenos">1210</span></a>
</span><span id="L-1211"><a href="#L-1211"><span class="linenos">1211</span></a><span class="sd">        (Only used for debugging purposes)&quot;&quot;&quot;</span>
</span><span id="L-1212"><a href="#L-1212"><span class="linenos">1212</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">sceneRect</span><span class="p">()</span>
</span><span id="L-1213"><a href="#L-1213"><span class="linenos">1213</span></a>
</span><span id="L-1214"><a href="#L-1214"><span class="linenos">1214</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="L-1215"><a href="#L-1215"><span class="linenos">1215</span></a>    <span class="k">def</span> <span class="nf">scrollToTop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1216"><a href="#L-1216"><span class="linenos">1216</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Scroll to top of image.&quot;&quot;&quot;</span>
</span><span id="L-1217"><a href="#L-1217"><span class="linenos">1217</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">scrollToTop</span><span class="p">()</span>
</span><span id="L-1218"><a href="#L-1218"><span class="linenos">1218</span></a>
</span><span id="L-1219"><a href="#L-1219"><span class="linenos">1219</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="L-1220"><a href="#L-1220"><span class="linenos">1220</span></a>    <span class="k">def</span> <span class="nf">scrollToBottom</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1221"><a href="#L-1221"><span class="linenos">1221</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Scroll to bottom of image.&quot;&quot;&quot;</span>
</span><span id="L-1222"><a href="#L-1222"><span class="linenos">1222</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">scrollToBottom</span><span class="p">()</span>
</span><span id="L-1223"><a href="#L-1223"><span class="linenos">1223</span></a>
</span><span id="L-1224"><a href="#L-1224"><span class="linenos">1224</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="L-1225"><a href="#L-1225"><span class="linenos">1225</span></a>    <span class="k">def</span> <span class="nf">scrollToBegin</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1226"><a href="#L-1226"><span class="linenos">1226</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Scroll to left side of image.&quot;&quot;&quot;</span>
</span><span id="L-1227"><a href="#L-1227"><span class="linenos">1227</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">scrollToBegin</span><span class="p">()</span>
</span><span id="L-1228"><a href="#L-1228"><span class="linenos">1228</span></a>
</span><span id="L-1229"><a href="#L-1229"><span class="linenos">1229</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="L-1230"><a href="#L-1230"><span class="linenos">1230</span></a>    <span class="k">def</span> <span class="nf">scrollToEnd</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1231"><a href="#L-1231"><span class="linenos">1231</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Scroll to right side of image.&quot;&quot;&quot;</span>
</span><span id="L-1232"><a href="#L-1232"><span class="linenos">1232</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">scrollToEnd</span><span class="p">()</span>
</span><span id="L-1233"><a href="#L-1233"><span class="linenos">1233</span></a>
</span><span id="L-1234"><a href="#L-1234"><span class="linenos">1234</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="L-1235"><a href="#L-1235"><span class="linenos">1235</span></a>    <span class="k">def</span> <span class="nf">centerView</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1236"><a href="#L-1236"><span class="linenos">1236</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Center image in view.&quot;&quot;&quot;</span>
</span><span id="L-1237"><a href="#L-1237"><span class="linenos">1237</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">centerView</span><span class="p">()</span>
</span><span id="L-1238"><a href="#L-1238"><span class="linenos">1238</span></a>
</span><span id="L-1239"><a href="#L-1239"><span class="linenos">1239</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">(</span><span class="nb">bool</span><span class="p">)</span>
</span><span id="L-1240"><a href="#L-1240"><span class="linenos">1240</span></a>    <span class="k">def</span> <span class="nf">enableScrollBars</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">enable</span><span class="p">):</span>
</span><span id="L-1241"><a href="#L-1241"><span class="linenos">1241</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set visiblility of the view&#39;s scrollbars.</span>
</span><span id="L-1242"><a href="#L-1242"><span class="linenos">1242</span></a>
</span><span id="L-1243"><a href="#L-1243"><span class="linenos">1243</span></a><span class="sd">        :param bool enable: True to enable the scrollbars &quot;&quot;&quot;</span>
</span><span id="L-1244"><a href="#L-1244"><span class="linenos">1244</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">enableScrollBars</span><span class="p">(</span><span class="n">enable</span><span class="p">)</span>
</span><span id="L-1245"><a href="#L-1245"><span class="linenos">1245</span></a>
</span><span id="L-1246"><a href="#L-1246"><span class="linenos">1246</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">(</span><span class="nb">bool</span><span class="p">)</span>
</span><span id="L-1247"><a href="#L-1247"><span class="linenos">1247</span></a>    <span class="k">def</span> <span class="nf">enableHandDrag</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">enable</span><span class="p">):</span>
</span><span id="L-1248"><a href="#L-1248"><span class="linenos">1248</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set whether dragging the view with the hand cursor is allowed.</span>
</span><span id="L-1249"><a href="#L-1249"><span class="linenos">1249</span></a>
</span><span id="L-1250"><a href="#L-1250"><span class="linenos">1250</span></a><span class="sd">        :param bool enable: True to enable hand dragging &quot;&quot;&quot;</span>
</span><span id="L-1251"><a href="#L-1251"><span class="linenos">1251</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">enableHandDrag</span><span class="p">(</span><span class="n">enable</span><span class="p">)</span>
</span><span id="L-1252"><a href="#L-1252"><span class="linenos">1252</span></a>
</span><span id="L-1253"><a href="#L-1253"><span class="linenos">1253</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="L-1254"><a href="#L-1254"><span class="linenos">1254</span></a>    <span class="k">def</span> <span class="nf">zoomIn</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1255"><a href="#L-1255"><span class="linenos">1255</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Zoom in on image.&quot;&quot;&quot;</span>
</span><span id="L-1256"><a href="#L-1256"><span class="linenos">1256</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scaleImage</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_zoomFactorDelta</span><span class="p">)</span>
</span><span id="L-1257"><a href="#L-1257"><span class="linenos">1257</span></a>
</span><span id="L-1258"><a href="#L-1258"><span class="linenos">1258</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="L-1259"><a href="#L-1259"><span class="linenos">1259</span></a>    <span class="k">def</span> <span class="nf">zoomOut</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1260"><a href="#L-1260"><span class="linenos">1260</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Zoom out on image.&quot;&quot;&quot;</span>
</span><span id="L-1261"><a href="#L-1261"><span class="linenos">1261</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scaleImage</span><span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">_zoomFactorDelta</span><span class="p">)</span>
</span><span id="L-1262"><a href="#L-1262"><span class="linenos">1262</span></a>
</span><span id="L-1263"><a href="#L-1263"><span class="linenos">1263</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="L-1264"><a href="#L-1264"><span class="linenos">1264</span></a>    <span class="k">def</span> <span class="nf">actualSize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1265"><a href="#L-1265"><span class="linenos">1265</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Change zoom to show image at actual size.</span>
</span><span id="L-1266"><a href="#L-1266"><span class="linenos">1266</span></a>
</span><span id="L-1267"><a href="#L-1267"><span class="linenos">1267</span></a><span class="sd">        (image pixel is equal to screen pixel)&quot;&quot;&quot;</span>
</span><span id="L-1268"><a href="#L-1268"><span class="linenos">1268</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scaleImage</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">combine</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="L-1269"><a href="#L-1269"><span class="linenos">1269</span></a>
</span><span id="L-1270"><a href="#L-1270"><span class="linenos">1270</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="L-1271"><a href="#L-1271"><span class="linenos">1271</span></a>    <span class="k">def</span> <span class="nf">fitToWindow</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1272"><a href="#L-1272"><span class="linenos">1272</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Fit image within view.</span>
</span><span id="L-1273"><a href="#L-1273"><span class="linenos">1273</span></a><span class="sd">            </span>
</span><span id="L-1274"><a href="#L-1274"><span class="linenos">1274</span></a><span class="sd">        If the viewport is wider than the main pixmap, then fit the pixmap to height; if the viewport is narrower, then fit the pixmap to width</span>
</span><span id="L-1275"><a href="#L-1275"><span class="linenos">1275</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1276"><a href="#L-1276"><span class="linenos">1276</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_main_topleft</span><span class="o">.</span><span class="n">pixmap</span><span class="p">():</span>
</span><span id="L-1277"><a href="#L-1277"><span class="linenos">1277</span></a>            <span class="k">return</span>
</span><span id="L-1278"><a href="#L-1278"><span class="linenos">1278</span></a>
</span><span id="L-1279"><a href="#L-1279"><span class="linenos">1279</span></a>        <span class="n">padding_margin</span> <span class="o">=</span> <span class="mi">2</span> <span class="c1"># Leaves visual gap between pixmap and border of viewport</span>
</span><span id="L-1280"><a href="#L-1280"><span class="linenos">1280</span></a>        <span class="n">viewport_rect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">viewport</span><span class="p">()</span><span class="o">.</span><span class="n">rect</span><span class="p">()</span><span class="o">.</span><span class="n">adjusted</span><span class="p">(</span><span class="n">padding_margin</span><span class="p">,</span> <span class="n">padding_margin</span><span class="p">,</span>
</span><span id="L-1281"><a href="#L-1281"><span class="linenos">1281</span></a>                                                         <span class="o">-</span><span class="n">padding_margin</span><span class="p">,</span> <span class="o">-</span><span class="n">padding_margin</span><span class="p">)</span>
</span><span id="L-1282"><a href="#L-1282"><span class="linenos">1282</span></a>        <span class="n">aspect_ratio_viewport</span> <span class="o">=</span> <span class="n">viewport_rect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">/</span><span class="n">viewport_rect</span><span class="o">.</span><span class="n">height</span><span class="p">()</span>
</span><span id="L-1283"><a href="#L-1283"><span class="linenos">1283</span></a>        <span class="n">aspect_ratio_pixmap</span>   <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">imageWidth</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">imageHeight</span>
</span><span id="L-1284"><a href="#L-1284"><span class="linenos">1284</span></a>        <span class="k">if</span> <span class="n">aspect_ratio_viewport</span> <span class="o">&gt;</span> <span class="n">aspect_ratio_pixmap</span><span class="p">:</span>
</span><span id="L-1285"><a href="#L-1285"><span class="linenos">1285</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">fitHeight</span><span class="p">()</span>
</span><span id="L-1286"><a href="#L-1286"><span class="linenos">1286</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-1287"><a href="#L-1287"><span class="linenos">1287</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">fitWidth</span><span class="p">()</span>
</span><span id="L-1288"><a href="#L-1288"><span class="linenos">1288</span></a>
</span><span id="L-1289"><a href="#L-1289"><span class="linenos">1289</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">transformChanged</span><span class="o">.</span><span class="n">emit</span><span class="p">()</span>
</span><span id="L-1290"><a href="#L-1290"><span class="linenos">1290</span></a>    
</span><span id="L-1291"><a href="#L-1291"><span class="linenos">1291</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="L-1292"><a href="#L-1292"><span class="linenos">1292</span></a>    <span class="k">def</span> <span class="nf">fitWidth</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1293"><a href="#L-1293"><span class="linenos">1293</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Fit image width to view width.&quot;&quot;&quot;</span>
</span><span id="L-1294"><a href="#L-1294"><span class="linenos">1294</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_main_topleft</span><span class="o">.</span><span class="n">pixmap</span><span class="p">():</span>
</span><span id="L-1295"><a href="#L-1295"><span class="linenos">1295</span></a>            <span class="k">return</span>
</span><span id="L-1296"><a href="#L-1296"><span class="linenos">1296</span></a>        <span class="n">padding_margin</span> <span class="o">=</span> <span class="mi">2</span>
</span><span id="L-1297"><a href="#L-1297"><span class="linenos">1297</span></a>        <span class="n">viewRect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">viewport</span><span class="p">()</span><span class="o">.</span><span class="n">rect</span><span class="p">()</span><span class="o">.</span><span class="n">adjusted</span><span class="p">(</span><span class="n">padding_margin</span><span class="p">,</span> <span class="n">padding_margin</span><span class="p">,</span>
</span><span id="L-1298"><a href="#L-1298"><span class="linenos">1298</span></a>                                                         <span class="o">-</span><span class="n">padding_margin</span><span class="p">,</span> <span class="o">-</span><span class="n">padding_margin</span><span class="p">)</span>
</span><span id="L-1299"><a href="#L-1299"><span class="linenos">1299</span></a>        <span class="n">factor</span> <span class="o">=</span> <span class="n">viewRect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">imageWidth</span>
</span><span id="L-1300"><a href="#L-1300"><span class="linenos">1300</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scaleImage</span><span class="p">(</span><span class="n">factor</span><span class="p">,</span> <span class="n">combine</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="L-1301"><a href="#L-1301"><span class="linenos">1301</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">centerView</span><span class="p">()</span>
</span><span id="L-1302"><a href="#L-1302"><span class="linenos">1302</span></a>    
</span><span id="L-1303"><a href="#L-1303"><span class="linenos">1303</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="L-1304"><a href="#L-1304"><span class="linenos">1304</span></a>    <span class="k">def</span> <span class="nf">fitHeight</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1305"><a href="#L-1305"><span class="linenos">1305</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Fit image height to view height.&quot;&quot;&quot;</span>
</span><span id="L-1306"><a href="#L-1306"><span class="linenos">1306</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_main_topleft</span><span class="o">.</span><span class="n">pixmap</span><span class="p">():</span>
</span><span id="L-1307"><a href="#L-1307"><span class="linenos">1307</span></a>            <span class="k">return</span>
</span><span id="L-1308"><a href="#L-1308"><span class="linenos">1308</span></a>        <span class="n">padding_margin</span> <span class="o">=</span> <span class="mi">2</span>
</span><span id="L-1309"><a href="#L-1309"><span class="linenos">1309</span></a>        <span class="n">viewRect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">viewport</span><span class="p">()</span><span class="o">.</span><span class="n">rect</span><span class="p">()</span><span class="o">.</span><span class="n">adjusted</span><span class="p">(</span><span class="n">padding_margin</span><span class="p">,</span> <span class="n">padding_margin</span><span class="p">,</span>
</span><span id="L-1310"><a href="#L-1310"><span class="linenos">1310</span></a>                                                         <span class="o">-</span><span class="n">padding_margin</span><span class="p">,</span> <span class="o">-</span><span class="n">padding_margin</span><span class="p">)</span>
</span><span id="L-1311"><a href="#L-1311"><span class="linenos">1311</span></a>        <span class="n">factor</span> <span class="o">=</span> <span class="n">viewRect</span><span class="o">.</span><span class="n">height</span><span class="p">()</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">imageHeight</span>
</span><span id="L-1312"><a href="#L-1312"><span class="linenos">1312</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scaleImage</span><span class="p">(</span><span class="n">factor</span><span class="p">,</span> <span class="n">combine</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="L-1313"><a href="#L-1313"><span class="linenos">1313</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">centerView</span><span class="p">()</span>
</span><span id="L-1314"><a href="#L-1314"><span class="linenos">1314</span></a>
</span><span id="L-1315"><a href="#L-1315"><span class="linenos">1315</span></a>    <span class="nd">@property</span>
</span><span id="L-1316"><a href="#L-1316"><span class="linenos">1316</span></a>    <span class="k">def</span> <span class="nf">imageWidth</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1317"><a href="#L-1317"><span class="linenos">1317</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;int: Width of base (main) image pixmap.&quot;&quot;&quot;</span>
</span><span id="L-1318"><a href="#L-1318"><span class="linenos">1318</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_main_topleft</span><span class="o">.</span><span class="n">pixmap</span><span class="p">()</span><span class="o">.</span><span class="n">width</span><span class="p">()</span>
</span><span id="L-1319"><a href="#L-1319"><span class="linenos">1319</span></a>    
</span><span id="L-1320"><a href="#L-1320"><span class="linenos">1320</span></a>    <span class="nd">@property</span>
</span><span id="L-1321"><a href="#L-1321"><span class="linenos">1321</span></a>    <span class="k">def</span> <span class="nf">imageHeight</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1322"><a href="#L-1322"><span class="linenos">1322</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;int: Height of base (main) image pixmap.&quot;&quot;&quot;</span>
</span><span id="L-1323"><a href="#L-1323"><span class="linenos">1323</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_main_topleft</span><span class="o">.</span><span class="n">pixmap</span><span class="p">()</span><span class="o">.</span><span class="n">height</span><span class="p">()</span>
</span><span id="L-1324"><a href="#L-1324"><span class="linenos">1324</span></a>
</span><span id="L-1325"><a href="#L-1325"><span class="linenos">1325</span></a>    <span class="k">def</span> <span class="nf">handleWheelNotches</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">notches</span><span class="p">):</span>
</span><span id="L-1326"><a href="#L-1326"><span class="linenos">1326</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Handle wheel notch event from underlying |QGraphicsView|.</span>
</span><span id="L-1327"><a href="#L-1327"><span class="linenos">1327</span></a>
</span><span id="L-1328"><a href="#L-1328"><span class="linenos">1328</span></a><span class="sd">        :param float notches: Mouse wheel notches&quot;&quot;&quot;</span>
</span><span id="L-1329"><a href="#L-1329"><span class="linenos">1329</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scaleImage</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_zoomFactorDelta</span> <span class="o">**</span> <span class="n">notches</span><span class="p">)</span>
</span><span id="L-1330"><a href="#L-1330"><span class="linenos">1330</span></a>
</span><span id="L-1331"><a href="#L-1331"><span class="linenos">1331</span></a>    <span class="k">def</span> <span class="nf">closeEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
</span><span id="L-1332"><a href="#L-1332"><span class="linenos">1332</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Overriden in order to disconnect scrollbar signals before</span>
</span><span id="L-1333"><a href="#L-1333"><span class="linenos">1333</span></a><span class="sd">        closing.</span>
</span><span id="L-1334"><a href="#L-1334"><span class="linenos">1334</span></a>
</span><span id="L-1335"><a href="#L-1335"><span class="linenos">1335</span></a><span class="sd">        :param QEvent event: instance of a |QEvent|</span>
</span><span id="L-1336"><a href="#L-1336"><span class="linenos">1336</span></a><span class="sd">        </span>
</span><span id="L-1337"><a href="#L-1337"><span class="linenos">1337</span></a><span class="sd">        If this isn&#39;t done Python crashes!&quot;&quot;&quot;</span>
</span><span id="L-1338"><a href="#L-1338"><span class="linenos">1338</span></a>        <span class="c1">#self.scrollChanged.disconnect() #doesn&#39;t prevent crash</span>
</span><span id="L-1339"><a href="#L-1339"><span class="linenos">1339</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">disconnectSbarSignals</span><span class="p">()</span>
</span><span id="L-1340"><a href="#L-1340"><span class="linenos">1340</span></a>        
</span><span id="L-1341"><a href="#L-1341"><span class="linenos">1341</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
</span><span id="L-1342"><a href="#L-1342"><span class="linenos">1342</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
</span><span id="L-1343"><a href="#L-1343"><span class="linenos">1343</span></a>        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_base_original</span>
</span><span id="L-1344"><a href="#L-1344"><span class="linenos">1344</span></a>        
</span><span id="L-1345"><a href="#L-1345"><span class="linenos">1345</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_topright</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
</span><span id="L-1346"><a href="#L-1346"><span class="linenos">1346</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_topright</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
</span><span id="L-1347"><a href="#L-1347"><span class="linenos">1347</span></a>        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_topright_original</span>
</span><span id="L-1348"><a href="#L-1348"><span class="linenos">1348</span></a>        
</span><span id="L-1349"><a href="#L-1349"><span class="linenos">1349</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_bottomright</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
</span><span id="L-1350"><a href="#L-1350"><span class="linenos">1350</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomright</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
</span><span id="L-1351"><a href="#L-1351"><span class="linenos">1351</span></a>        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_bottomright_original</span>
</span><span id="L-1352"><a href="#L-1352"><span class="linenos">1352</span></a>        
</span><span id="L-1353"><a href="#L-1353"><span class="linenos">1353</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_bottomleft</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
</span><span id="L-1354"><a href="#L-1354"><span class="linenos">1354</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomleft</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
</span><span id="L-1355"><a href="#L-1355"><span class="linenos">1355</span></a>        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_bottomleft_original</span>
</span><span id="L-1356"><a href="#L-1356"><span class="linenos">1356</span></a>        
</span><span id="L-1357"><a href="#L-1357"><span class="linenos">1357</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">closeEvent</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</span><span id="L-1358"><a href="#L-1358"><span class="linenos">1358</span></a>        <span class="n">gc</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
</span><span id="L-1359"><a href="#L-1359"><span class="linenos">1359</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">became_closed</span><span class="o">.</span><span class="n">emit</span><span class="p">()</span>
</span><span id="L-1360"><a href="#L-1360"><span class="linenos">1360</span></a>        
</span><span id="L-1361"><a href="#L-1361"><span class="linenos">1361</span></a>    <span class="k">def</span> <span class="nf">scaleImage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">factor</span><span class="p">,</span> <span class="n">combine</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
</span><span id="L-1362"><a href="#L-1362"><span class="linenos">1362</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Scale image by factor.</span>
</span><span id="L-1363"><a href="#L-1363"><span class="linenos">1363</span></a>
</span><span id="L-1364"><a href="#L-1364"><span class="linenos">1364</span></a><span class="sd">        :param float factor: either new :attr:`zoomFactor` or amount to scale</span>
</span><span id="L-1365"><a href="#L-1365"><span class="linenos">1365</span></a><span class="sd">                             current :attr:`zoomFactor`</span>
</span><span id="L-1366"><a href="#L-1366"><span class="linenos">1366</span></a>
</span><span id="L-1367"><a href="#L-1367"><span class="linenos">1367</span></a><span class="sd">        :param bool combine: if ``True`` scales the current</span>
</span><span id="L-1368"><a href="#L-1368"><span class="linenos">1368</span></a><span class="sd">                             :attr:`zoomFactor` by factor.  Otherwise</span>
</span><span id="L-1369"><a href="#L-1369"><span class="linenos">1369</span></a><span class="sd">                             just sets :attr:`zoomFactor` to factor&quot;&quot;&quot;</span>
</span><span id="L-1370"><a href="#L-1370"><span class="linenos">1370</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_main_topleft</span><span class="o">.</span><span class="n">pixmap</span><span class="p">():</span>
</span><span id="L-1371"><a href="#L-1371"><span class="linenos">1371</span></a>            <span class="k">return</span>
</span><span id="L-1372"><a href="#L-1372"><span class="linenos">1372</span></a>
</span><span id="L-1373"><a href="#L-1373"><span class="linenos">1373</span></a>        <span class="k">if</span> <span class="n">combine</span><span class="p">:</span>
</span><span id="L-1374"><a href="#L-1374"><span class="linenos">1374</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">zoomFactor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">zoomFactor</span> <span class="o">*</span> <span class="n">factor</span>
</span><span id="L-1375"><a href="#L-1375"><span class="linenos">1375</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-1376"><a href="#L-1376"><span class="linenos">1376</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">zoomFactor</span> <span class="o">=</span> <span class="n">factor</span>
</span><span id="L-1377"><a href="#L-1377"><span class="linenos">1377</span></a>            
</span><span id="L-1378"><a href="#L-1378"><span class="linenos">1378</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">checkTransformChanged</span><span class="p">()</span>
</span><span id="L-1379"><a href="#L-1379"><span class="linenos">1379</span></a>
</span><span id="L-1380"><a href="#L-1380"><span class="linenos">1380</span></a>    <span class="k">def</span> <span class="nf">dumpTransform</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1381"><a href="#L-1381"><span class="linenos">1381</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Dump view transform to stdout.&quot;&quot;&quot;</span>
</span><span id="L-1382"><a href="#L-1382"><span class="linenos">1382</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">dumpTransform</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">transform</span><span class="p">(),</span> <span class="s2">&quot; &quot;</span><span class="o">*</span><span class="mi">4</span><span class="p">)</span>
</span><span id="L-1383"><a href="#L-1383"><span class="linenos">1383</span></a>    
</span><span id="L-1384"><a href="#L-1384"><span class="linenos">1384</span></a>    
</span><span id="L-1385"><a href="#L-1385"><span class="linenos">1385</span></a>    <span class="k">def</span> <span class="nf">create_mouse_rect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1386"><a href="#L-1386"><span class="linenos">1386</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a red 1x1 outline at the pointer in the main scene.</span>
</span><span id="L-1387"><a href="#L-1387"><span class="linenos">1387</span></a><span class="sd">        </span>
</span><span id="L-1388"><a href="#L-1388"><span class="linenos">1388</span></a><span class="sd">        Indicates to the user the size and position of the pixel over which the mouse is hovering.</span>
</span><span id="L-1389"><a href="#L-1389"><span class="linenos">1389</span></a><span class="sd">        Helps to understand the position of individual pixels and their scale at the current zoom.</span>
</span><span id="L-1390"><a href="#L-1390"><span class="linenos">1390</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1391"><a href="#L-1391"><span class="linenos">1391</span></a>    
</span><span id="L-1392"><a href="#L-1392"><span class="linenos">1392</span></a>        <span class="n">pen</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPen</span><span class="p">()</span> 
</span><span id="L-1393"><a href="#L-1393"><span class="linenos">1393</span></a>        <span class="n">pen</span><span class="o">.</span><span class="n">setWidth</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
</span><span id="L-1394"><a href="#L-1394"><span class="linenos">1394</span></a>        <span class="n">pen</span><span class="o">.</span><span class="n">setColor</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">red</span><span class="p">)</span>
</span><span id="L-1395"><a href="#L-1395"><span class="linenos">1395</span></a>        <span class="n">pen</span><span class="o">.</span><span class="n">setCapStyle</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">SquareCap</span><span class="p">)</span>
</span><span id="L-1396"><a href="#L-1396"><span class="linenos">1396</span></a>        <span class="n">pen</span><span class="o">.</span><span class="n">setJoinStyle</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">MiterJoin</span><span class="p">)</span>
</span><span id="L-1397"><a href="#L-1397"><span class="linenos">1397</span></a>            
</span><span id="L-1398"><a href="#L-1398"><span class="linenos">1398</span></a>        <span class="n">brush</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QBrush</span><span class="p">()</span>
</span><span id="L-1399"><a href="#L-1399"><span class="linenos">1399</span></a>        <span class="n">brush</span><span class="o">.</span><span class="n">setColor</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">transparent</span><span class="p">)</span>
</span><span id="L-1400"><a href="#L-1400"><span class="linenos">1400</span></a>        
</span><span id="L-1401"><a href="#L-1401"><span class="linenos">1401</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_width</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="L-1402"><a href="#L-1402"><span class="linenos">1402</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_height</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="L-1403"><a href="#L-1403"><span class="linenos">1403</span></a>        
</span><span id="L-1404"><a href="#L-1404"><span class="linenos">1404</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_topleft</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
</span><span id="L-1405"><a href="#L-1405"><span class="linenos">1405</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_bottomright</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_width</span><span class="o">-</span><span class="mf">0.01</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_height</span><span class="o">-</span><span class="mf">0.01</span><span class="p">)</span>
</span><span id="L-1406"><a href="#L-1406"><span class="linenos">1406</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QRectF</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_topleft</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_bottomright</span><span class="p">)</span>
</span><span id="L-1407"><a href="#L-1407"><span class="linenos">1407</span></a>        
</span><span id="L-1408"><a href="#L-1408"><span class="linenos">1408</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_scene_main_topleft</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGraphicsRectItem</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect</span><span class="p">)</span> <span class="c1"># To add the same item in two scenes, you need to create two unique items</span>
</span><span id="L-1409"><a href="#L-1409"><span class="linenos">1409</span></a>        
</span><span id="L-1410"><a href="#L-1410"><span class="linenos">1410</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_scene_main_topleft</span><span class="o">.</span><span class="n">setPos</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
</span><span id="L-1411"><a href="#L-1411"><span class="linenos">1411</span></a>        
</span><span id="L-1412"><a href="#L-1412"><span class="linenos">1412</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_scene_main_topleft</span><span class="o">.</span><span class="n">setBrush</span><span class="p">(</span><span class="n">brush</span><span class="p">)</span>
</span><span id="L-1413"><a href="#L-1413"><span class="linenos">1413</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_scene_main_topleft</span><span class="o">.</span><span class="n">setPen</span><span class="p">(</span><span class="n">pen</span><span class="p">)</span>
</span><span id="L-1414"><a href="#L-1414"><span class="linenos">1414</span></a>        
</span><span id="L-1415"><a href="#L-1415"><span class="linenos">1415</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_scene_main_topleft</span><span class="p">)</span>
</span><span id="L-1416"><a href="#L-1416"><span class="linenos">1416</span></a>
</span><span id="L-1417"><a href="#L-1417"><span class="linenos">1417</span></a>    <span class="k">def</span> <span class="nf">set_mouse_rect_visible</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">boolean</span><span class="p">):</span>
</span><span id="L-1418"><a href="#L-1418"><span class="linenos">1418</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the visibilty of the red 1x1 outline at the pointer in the main scene.</span>
</span><span id="L-1419"><a href="#L-1419"><span class="linenos">1419</span></a><span class="sd">        </span>
</span><span id="L-1420"><a href="#L-1420"><span class="linenos">1420</span></a><span class="sd">        Args:</span>
</span><span id="L-1421"><a href="#L-1421"><span class="linenos">1421</span></a><span class="sd">            boolean (bool): True to show 1x1 outline; False to hide.</span>
</span><span id="L-1422"><a href="#L-1422"><span class="linenos">1422</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1423"><a href="#L-1423"><span class="linenos">1423</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_scene_main_topleft</span><span class="o">.</span><span class="n">setVisible</span><span class="p">(</span><span class="n">boolean</span><span class="p">)</span>
</span></pre></div>


            </section>
                <section id="SplitView">
                            <input id="SplitView-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">SplitView</span><wbr>(<span class="base">PyQt5.QtWidgets.QFrame</span>):

                <label class="view-source-button" for="SplitView-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView-44"><a href="#SplitView-44"><span class="linenos">  44</span></a><span class="k">class</span> <span class="nc">SplitView</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QFrame</span><span class="p">):</span>
</span><span id="SplitView-45"><a href="#SplitView-45"><span class="linenos">  45</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Image viewing widget for individual images and sliding overlays.</span>
</span><span id="SplitView-46"><a href="#SplitView-46"><span class="linenos">  46</span></a>
</span><span id="SplitView-47"><a href="#SplitView-47"><span class="linenos">  47</span></a><span class="sd">    Creates an interface with a base image as a main image located at the top left  </span>
</span><span id="SplitView-48"><a href="#SplitView-48"><span class="linenos">  48</span></a><span class="sd">    and optionally 3 other images (top-left, bottom-left, bottom-right) as a sliding overlay.</span>
</span><span id="SplitView-49"><a href="#SplitView-49"><span class="linenos">  49</span></a><span class="sd">    Supports zoom and pan.</span>
</span><span id="SplitView-50"><a href="#SplitView-50"><span class="linenos">  50</span></a><span class="sd">    Enables synchronized zoom and pan via signals.</span>
</span><span id="SplitView-51"><a href="#SplitView-51"><span class="linenos">  51</span></a><span class="sd">    Input images for a given sliding overlay must have identical resolutions to </span>
</span><span id="SplitView-52"><a href="#SplitView-52"><span class="linenos">  52</span></a><span class="sd">    function properly.</span>
</span><span id="SplitView-53"><a href="#SplitView-53"><span class="linenos">  53</span></a><span class="sd">    </span>
</span><span id="SplitView-54"><a href="#SplitView-54"><span class="linenos">  54</span></a><span class="sd">    Args:</span>
</span><span id="SplitView-55"><a href="#SplitView-55"><span class="linenos">  55</span></a><span class="sd">        pixmap (QPixmap): The main image to be viewed; the basis of the sliding overlay (main; topleft)</span>
</span><span id="SplitView-56"><a href="#SplitView-56"><span class="linenos">  56</span></a><span class="sd">        filename_main_topleft (str): The image filepath of the main image.</span>
</span><span id="SplitView-57"><a href="#SplitView-57"><span class="linenos">  57</span></a><span class="sd">        name (str): The name of the viewing widget.</span>
</span><span id="SplitView-58"><a href="#SplitView-58"><span class="linenos">  58</span></a><span class="sd">        pixmap_topright (QPixmap): The top-right image of the sliding overlay (set None to exclude).</span>
</span><span id="SplitView-59"><a href="#SplitView-59"><span class="linenos">  59</span></a><span class="sd">        pixmap_bottomleft (QPixmap): The bottom-left image of the sliding overlay (set None to exclude).</span>
</span><span id="SplitView-60"><a href="#SplitView-60"><span class="linenos">  60</span></a><span class="sd">        pixmap_bottomright (QPixmap): The bottom-right image of the sliding overlay (set None to exclude).</span>
</span><span id="SplitView-61"><a href="#SplitView-61"><span class="linenos">  61</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="SplitView-62"><a href="#SplitView-62"><span class="linenos">  62</span></a>
</span><span id="SplitView-63"><a href="#SplitView-63"><span class="linenos">  63</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pixmap_main_topleft</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">filename_main_topleft</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> 
</span><span id="SplitView-64"><a href="#SplitView-64"><span class="linenos">  64</span></a>            <span class="n">pixmap_topright</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">pixmap_bottomleft</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">pixmap_bottomright</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">transform_mode_smooth</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="SplitView-65"><a href="#SplitView-65"><span class="linenos">  65</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span><span id="SplitView-66"><a href="#SplitView-66"><span class="linenos">  66</span></a>
</span><span id="SplitView-67"><a href="#SplitView-67"><span class="linenos">  67</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">currentFile</span> <span class="o">=</span> <span class="n">filename_main_topleft</span>
</span><span id="SplitView-68"><a href="#SplitView-68"><span class="linenos">  68</span></a>
</span><span id="SplitView-69"><a href="#SplitView-69"><span class="linenos">  69</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowFlags</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">FramelessWindowHint</span><span class="p">)</span> <span class="c1"># Clean appearance</span>
</span><span id="SplitView-70"><a href="#SplitView-70"><span class="linenos">  70</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setFrameStyle</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QFrame</span><span class="o">.</span><span class="n">NoFrame</span><span class="p">)</span>
</span><span id="SplitView-71"><a href="#SplitView-71"><span class="linenos">  71</span></a>
</span><span id="SplitView-72"><a href="#SplitView-72"><span class="linenos">  72</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">viewName</span> <span class="o">=</span> <span class="n">name</span>
</span><span id="SplitView-73"><a href="#SplitView-73"><span class="linenos">  73</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">comment_position_object</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="SplitView-74"><a href="#SplitView-74"><span class="linenos">  74</span></a>
</span><span id="SplitView-75"><a href="#SplitView-75"><span class="linenos">  75</span></a>        <span class="n">pixmap_main_topleft</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pixmap_none_ify</span><span class="p">(</span><span class="n">pixmap_main_topleft</span><span class="p">)</span> <span class="c1"># Return None if given QPixmap has zero width/height or is not a QPixmap</span>
</span><span id="SplitView-76"><a href="#SplitView-76"><span class="linenos">  76</span></a>        <span class="n">pixmap_topright</span>     <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pixmap_none_ify</span><span class="p">(</span><span class="n">pixmap_topright</span><span class="p">)</span>
</span><span id="SplitView-77"><a href="#SplitView-77"><span class="linenos">  77</span></a>        <span class="n">pixmap_bottomleft</span>   <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pixmap_none_ify</span><span class="p">(</span><span class="n">pixmap_bottomleft</span><span class="p">)</span>
</span><span id="SplitView-78"><a href="#SplitView-78"><span class="linenos">  78</span></a>        <span class="n">pixmap_bottomright</span>  <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pixmap_none_ify</span><span class="p">(</span><span class="n">pixmap_bottomright</span><span class="p">)</span>
</span><span id="SplitView-79"><a href="#SplitView-79"><span class="linenos">  79</span></a>
</span><span id="SplitView-80"><a href="#SplitView-80"><span class="linenos">  80</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pixmap_topright_exists</span>     <span class="o">=</span> <span class="p">(</span><span class="n">pixmap_topright</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="c1"># Boolean for existence of pixmap is easier to check</span>
</span><span id="SplitView-81"><a href="#SplitView-81"><span class="linenos">  81</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pixmap_bottomright_exists</span>  <span class="o">=</span> <span class="p">(</span><span class="n">pixmap_bottomright</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="SplitView-82"><a href="#SplitView-82"><span class="linenos">  82</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pixmap_bottomleft_exists</span>   <span class="o">=</span> <span class="p">(</span><span class="n">pixmap_bottomleft</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="SplitView-83"><a href="#SplitView-83"><span class="linenos">  83</span></a>
</span><span id="SplitView-84"><a href="#SplitView-84"><span class="linenos">  84</span></a>        <span class="c1"># Pixmaps which do no exist should be transparent, so they are made into an empty pixmap</span>
</span><span id="SplitView-85"><a href="#SplitView-85"><span class="linenos">  85</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">pixmap_bottomright_exists</span><span class="p">:</span>
</span><span id="SplitView-86"><a href="#SplitView-86"><span class="linenos">  86</span></a>            <span class="n">pixmap_bottomright</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPixmap</span><span class="p">()</span>
</span><span id="SplitView-87"><a href="#SplitView-87"><span class="linenos">  87</span></a>
</span><span id="SplitView-88"><a href="#SplitView-88"><span class="linenos">  88</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">pixmap_topright_exists</span><span class="p">:</span>
</span><span id="SplitView-89"><a href="#SplitView-89"><span class="linenos">  89</span></a>            <span class="n">pixmap_topright</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPixmap</span><span class="p">()</span>
</span><span id="SplitView-90"><a href="#SplitView-90"><span class="linenos">  90</span></a>            
</span><span id="SplitView-91"><a href="#SplitView-91"><span class="linenos">  91</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">pixmap_bottomleft_exists</span><span class="p">:</span>
</span><span id="SplitView-92"><a href="#SplitView-92"><span class="linenos">  92</span></a>            <span class="n">pixmap_bottomleft</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPixmap</span><span class="p">()</span>
</span><span id="SplitView-93"><a href="#SplitView-93"><span class="linenos">  93</span></a>
</span><span id="SplitView-94"><a href="#SplitView-94"><span class="linenos">  94</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_zoomFactorDelta</span> <span class="o">=</span> <span class="mf">1.25</span> <span class="c1"># How much zoom for each zoom call</span>
</span><span id="SplitView-95"><a href="#SplitView-95"><span class="linenos">  95</span></a>
</span><span id="SplitView-96"><a href="#SplitView-96"><span class="linenos">  96</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">transform_mode_smooth</span> <span class="o">=</span> <span class="n">transform_mode_smooth</span>
</span><span id="SplitView-97"><a href="#SplitView-97"><span class="linenos">  97</span></a>
</span><span id="SplitView-98"><a href="#SplitView-98"><span class="linenos">  98</span></a>        <span class="c1"># Sliding overlay is based on the main pixmap view of the top-left pixmap</span>
</span><span id="SplitView-99"><a href="#SplitView-99"><span class="linenos">  99</span></a>        <span class="c1"># self._scene_main_topleft = QtWidgets.QGraphicsScene()</span>
</span><span id="SplitView-100"><a href="#SplitView-100"><span class="linenos"> 100</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span> <span class="o">=</span> <span class="n">CustomQGraphicsScene</span><span class="p">()</span>
</span><span id="SplitView-101"><a href="#SplitView-101"><span class="linenos"> 101</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span> <span class="o">=</span> <span class="n">SynchableGraphicsView</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="p">)</span>
</span><span id="SplitView-102"><a href="#SplitView-102"><span class="linenos"> 102</span></a>
</span><span id="SplitView-103"><a href="#SplitView-103"><span class="linenos"> 103</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">setInteractive</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span> <span class="c1"># Functional settings</span>
</span><span id="SplitView-104"><a href="#SplitView-104"><span class="linenos"> 104</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">setViewportUpdateMode</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGraphicsView</span><span class="o">.</span><span class="n">MinimalViewportUpdate</span><span class="p">)</span>
</span><span id="SplitView-105"><a href="#SplitView-105"><span class="linenos"> 105</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">setResizeAnchor</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGraphicsView</span><span class="o">.</span><span class="n">AnchorViewCenter</span><span class="p">)</span>
</span><span id="SplitView-106"><a href="#SplitView-106"><span class="linenos"> 106</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">setRenderHints</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QPainter</span><span class="o">.</span><span class="n">SmoothPixmapTransform</span> <span class="o">|</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPainter</span><span class="o">.</span><span class="n">Antialiasing</span><span class="p">)</span>
</span><span id="SplitView-107"><a href="#SplitView-107"><span class="linenos"> 107</span></a>
</span><span id="SplitView-108"><a href="#SplitView-108"><span class="linenos"> 108</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">changed</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sceneChanged</span><span class="p">)</span> <span class="c1"># Pass along underlying signals</span>
</span><span id="SplitView-109"><a href="#SplitView-109"><span class="linenos"> 109</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">transformChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">transformChanged</span><span class="p">)</span>
</span><span id="SplitView-110"><a href="#SplitView-110"><span class="linenos"> 110</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">transformChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_transformChanged</span><span class="p">)</span>
</span><span id="SplitView-111"><a href="#SplitView-111"><span class="linenos"> 111</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">scrollChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scrollChanged</span><span class="p">)</span>
</span><span id="SplitView-112"><a href="#SplitView-112"><span class="linenos"> 112</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">wheelNotches</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">handleWheelNotches</span><span class="p">)</span>
</span><span id="SplitView-113"><a href="#SplitView-113"><span class="linenos"> 113</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">right_click_comment</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_right_click_comment</span><span class="p">)</span>
</span><span id="SplitView-114"><a href="#SplitView-114"><span class="linenos"> 114</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">right_click_ruler</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_right_click_ruler</span><span class="p">)</span>
</span><span id="SplitView-115"><a href="#SplitView-115"><span class="linenos"> 115</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">right_click_save_all_comments</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_right_click_save_all_comments</span><span class="p">)</span>
</span><span id="SplitView-116"><a href="#SplitView-116"><span class="linenos"> 116</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">right_click_load_comments</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_right_click_load_comments</span><span class="p">)</span>
</span><span id="SplitView-117"><a href="#SplitView-117"><span class="linenos"> 117</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">right_click_relative_origin_position</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_right_click_set_relative_origin_position</span><span class="p">)</span>
</span><span id="SplitView-118"><a href="#SplitView-118"><span class="linenos"> 118</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">changed_px_per_unit</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_changed_px_per_unit</span><span class="p">)</span>
</span><span id="SplitView-119"><a href="#SplitView-119"><span class="linenos"> 119</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">right_click_single_transform_mode_smooth</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">set_transform_mode_smooth</span><span class="p">)</span>
</span><span id="SplitView-120"><a href="#SplitView-120"><span class="linenos"> 120</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">right_click_all_transform_mode_smooth</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">was_set_global_transform_mode</span><span class="p">)</span>
</span><span id="SplitView-121"><a href="#SplitView-121"><span class="linenos"> 121</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">right_click_background_color</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">set_scene_background_color</span><span class="p">)</span>
</span><span id="SplitView-122"><a href="#SplitView-122"><span class="linenos"> 122</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">right_click_background_color</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">was_set_scene_background_color</span><span class="p">)</span>
</span><span id="SplitView-123"><a href="#SplitView-123"><span class="linenos"> 123</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">right_click_sync_zoom_by</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">was_set_sync_zoom_by</span><span class="p">)</span>
</span><span id="SplitView-124"><a href="#SplitView-124"><span class="linenos"> 124</span></a>
</span><span id="SplitView-125"><a href="#SplitView-125"><span class="linenos"> 125</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_main_topleft</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGraphicsPixmapItem</span><span class="p">()</span>
</span><span id="SplitView-126"><a href="#SplitView-126"><span class="linenos"> 126</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_main_topleft</span><span class="p">)</span>
</span><span id="SplitView-127"><a href="#SplitView-127"><span class="linenos"> 127</span></a>        
</span><span id="SplitView-128"><a href="#SplitView-128"><span class="linenos"> 128</span></a>        <span class="c1"># A pseudo view directly atop the main view is needed to drive the position of the split and layout of the four pixmaps </span>
</span><span id="SplitView-129"><a href="#SplitView-129"><span class="linenos"> 129</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_layoutdriving_topleft</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGraphicsView</span><span class="p">()</span>
</span><span id="SplitView-130"><a href="#SplitView-130"><span class="linenos"> 130</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_layoutdriving_topleft</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;border: 0px; border-style: solid; background-color: rgba(0,0,0,0)&quot;</span><span class="p">)</span>
</span><span id="SplitView-131"><a href="#SplitView-131"><span class="linenos"> 131</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_layoutdriving_topleft</span><span class="o">.</span><span class="n">setAttribute</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">WA_TransparentForMouseEvents</span><span class="p">)</span>
</span><span id="SplitView-132"><a href="#SplitView-132"><span class="linenos"> 132</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_layoutdriving_topleft</span><span class="o">.</span><span class="n">setHorizontalScrollBarPolicy</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">ScrollBarAlwaysOff</span><span class="p">)</span>
</span><span id="SplitView-133"><a href="#SplitView-133"><span class="linenos"> 133</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_layoutdriving_topleft</span><span class="o">.</span><span class="n">setVerticalScrollBarPolicy</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">ScrollBarAlwaysOff</span><span class="p">)</span>
</span><span id="SplitView-134"><a href="#SplitView-134"><span class="linenos"> 134</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_layoutdriving_topleft</span><span class="o">.</span><span class="n">setResizeAnchor</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGraphicsView</span><span class="o">.</span><span class="n">AnchorUnderMouse</span><span class="p">)</span>
</span><span id="SplitView-135"><a href="#SplitView-135"><span class="linenos"> 135</span></a>        
</span><span id="SplitView-136"><a href="#SplitView-136"><span class="linenos"> 136</span></a>        <span class="c1"># Add top right pixmap view</span>
</span><span id="SplitView-137"><a href="#SplitView-137"><span class="linenos"> 137</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_topright</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGraphicsPixmapItem</span><span class="p">()</span>
</span><span id="SplitView-138"><a href="#SplitView-138"><span class="linenos"> 138</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pixmap_topright</span> <span class="o">=</span> <span class="n">pixmap_topright</span>
</span><span id="SplitView-139"><a href="#SplitView-139"><span class="linenos"> 139</span></a>        
</span><span id="SplitView-140"><a href="#SplitView-140"><span class="linenos"> 140</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_topright</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGraphicsScene</span><span class="p">()</span>
</span><span id="SplitView-141"><a href="#SplitView-141"><span class="linenos"> 141</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_topright</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_topright</span><span class="p">)</span>
</span><span id="SplitView-142"><a href="#SplitView-142"><span class="linenos"> 142</span></a>        
</span><span id="SplitView-143"><a href="#SplitView-143"><span class="linenos"> 143</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_topright</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGraphicsView</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_scene_topright</span><span class="p">)</span>
</span><span id="SplitView-144"><a href="#SplitView-144"><span class="linenos"> 144</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_topright</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;border: 0px; border-style: solid; border-color: rgba(0,0,0,0); background-color: rgba(0,0,0,0);&quot;</span><span class="p">)</span>
</span><span id="SplitView-145"><a href="#SplitView-145"><span class="linenos"> 145</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_topright</span><span class="o">.</span><span class="n">setAttribute</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">WA_TransparentForMouseEvents</span><span class="p">)</span>
</span><span id="SplitView-146"><a href="#SplitView-146"><span class="linenos"> 146</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_topright</span><span class="o">.</span><span class="n">setHorizontalScrollBarPolicy</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">ScrollBarAlwaysOff</span><span class="p">)</span>
</span><span id="SplitView-147"><a href="#SplitView-147"><span class="linenos"> 147</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_topright</span><span class="o">.</span><span class="n">setVerticalScrollBarPolicy</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">ScrollBarAlwaysOff</span><span class="p">)</span>
</span><span id="SplitView-148"><a href="#SplitView-148"><span class="linenos"> 148</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_topright</span><span class="o">.</span><span class="n">setResizeAnchor</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGraphicsView</span><span class="o">.</span><span class="n">AnchorViewCenter</span><span class="p">)</span>
</span><span id="SplitView-149"><a href="#SplitView-149"><span class="linenos"> 149</span></a>        
</span><span id="SplitView-150"><a href="#SplitView-150"><span class="linenos"> 150</span></a>        <span class="c1"># Add bottom left pixmap view</span>
</span><span id="SplitView-151"><a href="#SplitView-151"><span class="linenos"> 151</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_bottomleft</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGraphicsPixmapItem</span><span class="p">()</span>
</span><span id="SplitView-152"><a href="#SplitView-152"><span class="linenos"> 152</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pixmap_bottomleft</span> <span class="o">=</span> <span class="n">pixmap_bottomleft</span>
</span><span id="SplitView-153"><a href="#SplitView-153"><span class="linenos"> 153</span></a>        
</span><span id="SplitView-154"><a href="#SplitView-154"><span class="linenos"> 154</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_bottomleft</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGraphicsScene</span><span class="p">()</span>
</span><span id="SplitView-155"><a href="#SplitView-155"><span class="linenos"> 155</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_bottomleft</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_bottomleft</span><span class="p">)</span>
</span><span id="SplitView-156"><a href="#SplitView-156"><span class="linenos"> 156</span></a>        
</span><span id="SplitView-157"><a href="#SplitView-157"><span class="linenos"> 157</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomleft</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGraphicsView</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_scene_bottomleft</span><span class="p">)</span>
</span><span id="SplitView-158"><a href="#SplitView-158"><span class="linenos"> 158</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomleft</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;border: 0px; border-style: solid; border-color: rgba(0,0,0,0); background-color: rgba(0,0,0,0);&quot;</span><span class="p">)</span>
</span><span id="SplitView-159"><a href="#SplitView-159"><span class="linenos"> 159</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomleft</span><span class="o">.</span><span class="n">setAttribute</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">WA_TransparentForMouseEvents</span><span class="p">)</span>
</span><span id="SplitView-160"><a href="#SplitView-160"><span class="linenos"> 160</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomleft</span><span class="o">.</span><span class="n">setHorizontalScrollBarPolicy</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">ScrollBarAlwaysOff</span><span class="p">)</span>
</span><span id="SplitView-161"><a href="#SplitView-161"><span class="linenos"> 161</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomleft</span><span class="o">.</span><span class="n">setVerticalScrollBarPolicy</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">ScrollBarAlwaysOff</span><span class="p">)</span>
</span><span id="SplitView-162"><a href="#SplitView-162"><span class="linenos"> 162</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomleft</span><span class="o">.</span><span class="n">setResizeAnchor</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGraphicsView</span><span class="o">.</span><span class="n">AnchorViewCenter</span><span class="p">)</span>
</span><span id="SplitView-163"><a href="#SplitView-163"><span class="linenos"> 163</span></a>        
</span><span id="SplitView-164"><a href="#SplitView-164"><span class="linenos"> 164</span></a>        <span class="c1"># Add bottom right pixmap view</span>
</span><span id="SplitView-165"><a href="#SplitView-165"><span class="linenos"> 165</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_bottomright</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGraphicsPixmapItem</span><span class="p">()</span>
</span><span id="SplitView-166"><a href="#SplitView-166"><span class="linenos"> 166</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pixmap_bottomright</span> <span class="o">=</span> <span class="n">pixmap_bottomright</span>
</span><span id="SplitView-167"><a href="#SplitView-167"><span class="linenos"> 167</span></a>        
</span><span id="SplitView-168"><a href="#SplitView-168"><span class="linenos"> 168</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_bottomright</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGraphicsScene</span><span class="p">()</span>
</span><span id="SplitView-169"><a href="#SplitView-169"><span class="linenos"> 169</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_bottomright</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_bottomright</span><span class="p">)</span>
</span><span id="SplitView-170"><a href="#SplitView-170"><span class="linenos"> 170</span></a>        
</span><span id="SplitView-171"><a href="#SplitView-171"><span class="linenos"> 171</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomright</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGraphicsView</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_scene_bottomright</span><span class="p">)</span>
</span><span id="SplitView-172"><a href="#SplitView-172"><span class="linenos"> 172</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomright</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;border: 0px; border-style: solid; border-color: rgba(0,0,0,0); background-color: rgba(0,0,0,0);&quot;</span><span class="p">)</span>
</span><span id="SplitView-173"><a href="#SplitView-173"><span class="linenos"> 173</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomright</span><span class="o">.</span><span class="n">setAttribute</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">WA_TransparentForMouseEvents</span><span class="p">)</span>
</span><span id="SplitView-174"><a href="#SplitView-174"><span class="linenos"> 174</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomright</span><span class="o">.</span><span class="n">setHorizontalScrollBarPolicy</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">ScrollBarAlwaysOff</span><span class="p">)</span>
</span><span id="SplitView-175"><a href="#SplitView-175"><span class="linenos"> 175</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomright</span><span class="o">.</span><span class="n">setVerticalScrollBarPolicy</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">ScrollBarAlwaysOff</span><span class="p">)</span>
</span><span id="SplitView-176"><a href="#SplitView-176"><span class="linenos"> 176</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomright</span><span class="o">.</span><span class="n">setResizeAnchor</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGraphicsView</span><span class="o">.</span><span class="n">AnchorViewCenter</span><span class="p">)</span>
</span><span id="SplitView-177"><a href="#SplitView-177"><span class="linenos"> 177</span></a>
</span><span id="SplitView-178"><a href="#SplitView-178"><span class="linenos"> 178</span></a>         <span class="c1"># Make the sizes of the four views entirely dictated by the &quot;layout driving&quot; view</span>
</span><span id="SplitView-179"><a href="#SplitView-179"><span class="linenos"> 179</span></a>        <span class="n">size_policy</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QSizePolicy</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Ignored</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Ignored</span><span class="p">)</span>
</span><span id="SplitView-180"><a href="#SplitView-180"><span class="linenos"> 180</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">setSizePolicy</span><span class="p">(</span><span class="n">size_policy</span><span class="p">)</span>
</span><span id="SplitView-181"><a href="#SplitView-181"><span class="linenos"> 181</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_topright</span><span class="o">.</span><span class="n">setSizePolicy</span><span class="p">(</span><span class="n">size_policy</span><span class="p">)</span>
</span><span id="SplitView-182"><a href="#SplitView-182"><span class="linenos"> 182</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomright</span><span class="o">.</span><span class="n">setSizePolicy</span><span class="p">(</span><span class="n">size_policy</span><span class="p">)</span>
</span><span id="SplitView-183"><a href="#SplitView-183"><span class="linenos"> 183</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomleft</span><span class="o">.</span><span class="n">setSizePolicy</span><span class="p">(</span><span class="n">size_policy</span><span class="p">)</span>
</span><span id="SplitView-184"><a href="#SplitView-184"><span class="linenos"> 184</span></a>
</span><span id="SplitView-185"><a href="#SplitView-185"><span class="linenos"> 185</span></a>        <span class="c1"># By default the split is set to half the widget&#39;s size so all pixmap views are equally sized at the start</span>
</span><span id="SplitView-186"><a href="#SplitView-186"><span class="linenos"> 186</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_layoutdriving_topleft</span><span class="o">.</span><span class="n">setMaximumWidth</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">/</span><span class="mf">2.0</span><span class="p">)</span>
</span><span id="SplitView-187"><a href="#SplitView-187"><span class="linenos"> 187</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_layoutdriving_topleft</span><span class="o">.</span><span class="n">setMaximumHeight</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">()</span><span class="o">/</span><span class="mf">2.0</span><span class="p">)</span>
</span><span id="SplitView-188"><a href="#SplitView-188"><span class="linenos"> 188</span></a>        
</span><span id="SplitView-189"><a href="#SplitView-189"><span class="linenos"> 189</span></a>        <span class="k">if</span> <span class="n">pixmap_main_topleft</span><span class="p">:</span> <span class="c1"># Instantiate transform and resizing</span>
</span><span id="SplitView-190"><a href="#SplitView-190"><span class="linenos"> 190</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">pixmap_main_topleft</span> <span class="o">=</span> <span class="n">pixmap_main_topleft</span>
</span><span id="SplitView-191"><a href="#SplitView-191"><span class="linenos"> 191</span></a>        
</span><span id="SplitView-192"><a href="#SplitView-192"><span class="linenos"> 192</span></a>        <span class="c1"># SplitView layout</span>
</span><span id="SplitView-193"><a href="#SplitView-193"><span class="linenos"> 193</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_layout</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGridLayout</span><span class="p">()</span>
</span><span id="SplitView-194"><a href="#SplitView-194"><span class="linenos"> 194</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="SplitView-195"><a href="#SplitView-195"><span class="linenos"> 195</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_layout</span><span class="o">.</span><span class="n">setSpacing</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="SplitView-196"><a href="#SplitView-196"><span class="linenos"> 196</span></a>        
</span><span id="SplitView-197"><a href="#SplitView-197"><span class="linenos"> 197</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="SplitView-198"><a href="#SplitView-198"><span class="linenos"> 198</span></a>
</span><span id="SplitView-199"><a href="#SplitView-199"><span class="linenos"> 199</span></a>        <span class="c1"># Labels for the four pixmap views</span>
</span><span id="SplitView-200"><a href="#SplitView-200"><span class="linenos"> 200</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">label_main_topleft</span> <span class="o">=</span> <span class="n">FilenameLabel</span><span class="p">(</span><span class="n">visibility_based_on_text</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">belongs_to_split</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="SplitView-201"><a href="#SplitView-201"><span class="linenos"> 201</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">label_topright</span>     <span class="o">=</span> <span class="n">FilenameLabel</span><span class="p">(</span><span class="n">visibility_based_on_text</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">belongs_to_split</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="SplitView-202"><a href="#SplitView-202"><span class="linenos"> 202</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">label_bottomright</span>  <span class="o">=</span> <span class="n">FilenameLabel</span><span class="p">(</span><span class="n">visibility_based_on_text</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">belongs_to_split</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="SplitView-203"><a href="#SplitView-203"><span class="linenos"> 203</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">label_bottomleft</span>   <span class="o">=</span> <span class="n">FilenameLabel</span><span class="p">(</span><span class="n">visibility_based_on_text</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">belongs_to_split</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="SplitView-204"><a href="#SplitView-204"><span class="linenos"> 204</span></a>
</span><span id="SplitView-205"><a href="#SplitView-205"><span class="linenos"> 205</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">label_main_topleft</span><span class="o">.</span><span class="n">setAttribute</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">WA_TransparentForMouseEvents</span><span class="p">)</span>
</span><span id="SplitView-206"><a href="#SplitView-206"><span class="linenos"> 206</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">label_topright</span><span class="o">.</span><span class="n">setAttribute</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">WA_TransparentForMouseEvents</span><span class="p">)</span>
</span><span id="SplitView-207"><a href="#SplitView-207"><span class="linenos"> 207</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">label_bottomright</span><span class="o">.</span><span class="n">setAttribute</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">WA_TransparentForMouseEvents</span><span class="p">)</span>
</span><span id="SplitView-208"><a href="#SplitView-208"><span class="linenos"> 208</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">label_bottomleft</span><span class="o">.</span><span class="n">setAttribute</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">WA_TransparentForMouseEvents</span><span class="p">)</span>
</span><span id="SplitView-209"><a href="#SplitView-209"><span class="linenos"> 209</span></a>
</span><span id="SplitView-210"><a href="#SplitView-210"><span class="linenos"> 210</span></a>        <span class="c1"># Pushbutton to close the image window</span>
</span><span id="SplitView-211"><a href="#SplitView-211"><span class="linenos"> 211</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">close_pushbutton</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;×&quot;</span><span class="p">)</span>
</span><span id="SplitView-212"><a href="#SplitView-212"><span class="linenos"> 212</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">close_pushbutton</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="s2">&quot;Close image window&quot;</span><span class="p">)</span>
</span><span id="SplitView-213"><a href="#SplitView-213"><span class="linenos"> 213</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">close_pushbutton</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">was_clicked_close_pushbutton</span><span class="p">)</span>
</span><span id="SplitView-214"><a href="#SplitView-214"><span class="linenos"> 214</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">close_pushbutton_always_visible</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="SplitView-215"><a href="#SplitView-215"><span class="linenos"> 215</span></a>
</span><span id="SplitView-216"><a href="#SplitView-216"><span class="linenos"> 216</span></a>        <span class="c1"># Create deadzones along the bounds of SplitView to fix the issue of resize handles showing in QMdiArea despite windowless setting.</span>
</span><span id="SplitView-217"><a href="#SplitView-217"><span class="linenos"> 217</span></a>        <span class="c1"># An event tracker &quot;bypass&quot; is needed for each deadzone because they hide the mouse from the sliding overlay, so the mouse must be separately tracked to ensure the split is updated.</span>
</span><span id="SplitView-218"><a href="#SplitView-218"><span class="linenos"> 218</span></a>        <span class="n">px_deadzone</span> <span class="o">=</span> <span class="mi">8</span>
</span><span id="SplitView-219"><a href="#SplitView-219"><span class="linenos"> 219</span></a>
</span><span id="SplitView-220"><a href="#SplitView-220"><span class="linenos"> 220</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_top</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="SplitView-221"><a href="#SplitView-221"><span class="linenos"> 221</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_top</span><span class="o">.</span><span class="n">setFixedHeight</span><span class="p">(</span><span class="n">px_deadzone</span><span class="p">)</span>
</span><span id="SplitView-222"><a href="#SplitView-222"><span class="linenos"> 222</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_top</span><span class="o">.</span><span class="n">setSizePolicy</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Expanding</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Fixed</span><span class="p">)</span>
</span><span id="SplitView-223"><a href="#SplitView-223"><span class="linenos"> 223</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_top</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</span><span id="SplitView-224"><a href="#SplitView-224"><span class="linenos"> 224</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_top</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="SplitView-225"><a href="#SplitView-225"><span class="linenos"> 225</span></a><span class="s2">            QPushButton {</span>
</span><span id="SplitView-226"><a href="#SplitView-226"><span class="linenos"> 226</span></a><span class="s2">                color: transparent;</span>
</span><span id="SplitView-227"><a href="#SplitView-227"><span class="linenos"> 227</span></a><span class="s2">                background-color: transparent; </span>
</span><span id="SplitView-228"><a href="#SplitView-228"><span class="linenos"> 228</span></a><span class="s2">                border: 0px black;</span>
</span><span id="SplitView-229"><a href="#SplitView-229"><span class="linenos"> 229</span></a><span class="s2">            }</span>
</span><span id="SplitView-230"><a href="#SplitView-230"><span class="linenos"> 230</span></a><span class="s2">            &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="SplitView-231"><a href="#SplitView-231"><span class="linenos"> 231</span></a>        <span class="n">tracker_deadzone_top</span> <span class="o">=</span> <span class="n">EventTrackerSplitBypassDeadzone</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_top</span><span class="p">)</span>
</span><span id="SplitView-232"><a href="#SplitView-232"><span class="linenos"> 232</span></a>        <span class="n">tracker_deadzone_top</span><span class="o">.</span><span class="n">mouse_position_changed_global</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">update_split_given_global</span><span class="p">)</span>
</span><span id="SplitView-233"><a href="#SplitView-233"><span class="linenos"> 233</span></a>
</span><span id="SplitView-234"><a href="#SplitView-234"><span class="linenos"> 234</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_bottom</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="SplitView-235"><a href="#SplitView-235"><span class="linenos"> 235</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_bottom</span><span class="o">.</span><span class="n">setFixedHeight</span><span class="p">(</span><span class="n">px_deadzone</span><span class="p">)</span>
</span><span id="SplitView-236"><a href="#SplitView-236"><span class="linenos"> 236</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_bottom</span><span class="o">.</span><span class="n">setSizePolicy</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Expanding</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Fixed</span><span class="p">)</span>
</span><span id="SplitView-237"><a href="#SplitView-237"><span class="linenos"> 237</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_bottom</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</span><span id="SplitView-238"><a href="#SplitView-238"><span class="linenos"> 238</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_bottom</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="SplitView-239"><a href="#SplitView-239"><span class="linenos"> 239</span></a><span class="s2">            QPushButton {</span>
</span><span id="SplitView-240"><a href="#SplitView-240"><span class="linenos"> 240</span></a><span class="s2">                color: transparent;</span>
</span><span id="SplitView-241"><a href="#SplitView-241"><span class="linenos"> 241</span></a><span class="s2">                background-color: transparent; </span>
</span><span id="SplitView-242"><a href="#SplitView-242"><span class="linenos"> 242</span></a><span class="s2">                border: 0px black;</span>
</span><span id="SplitView-243"><a href="#SplitView-243"><span class="linenos"> 243</span></a><span class="s2">            }</span>
</span><span id="SplitView-244"><a href="#SplitView-244"><span class="linenos"> 244</span></a><span class="s2">            &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="SplitView-245"><a href="#SplitView-245"><span class="linenos"> 245</span></a>        <span class="n">tracker_deadzone_bottom</span> <span class="o">=</span> <span class="n">EventTrackerSplitBypassDeadzone</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_bottom</span><span class="p">)</span>
</span><span id="SplitView-246"><a href="#SplitView-246"><span class="linenos"> 246</span></a>        <span class="n">tracker_deadzone_bottom</span><span class="o">.</span><span class="n">mouse_position_changed_global</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">update_split_given_global</span><span class="p">)</span>
</span><span id="SplitView-247"><a href="#SplitView-247"><span class="linenos"> 247</span></a>
</span><span id="SplitView-248"><a href="#SplitView-248"><span class="linenos"> 248</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_left</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="SplitView-249"><a href="#SplitView-249"><span class="linenos"> 249</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_left</span><span class="o">.</span><span class="n">setFixedWidth</span><span class="p">(</span><span class="n">px_deadzone</span><span class="p">)</span>
</span><span id="SplitView-250"><a href="#SplitView-250"><span class="linenos"> 250</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_left</span><span class="o">.</span><span class="n">setSizePolicy</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Fixed</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Expanding</span><span class="p">)</span>
</span><span id="SplitView-251"><a href="#SplitView-251"><span class="linenos"> 251</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_left</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</span><span id="SplitView-252"><a href="#SplitView-252"><span class="linenos"> 252</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_left</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="SplitView-253"><a href="#SplitView-253"><span class="linenos"> 253</span></a><span class="s2">            QPushButton {</span>
</span><span id="SplitView-254"><a href="#SplitView-254"><span class="linenos"> 254</span></a><span class="s2">                color: transparent;</span>
</span><span id="SplitView-255"><a href="#SplitView-255"><span class="linenos"> 255</span></a><span class="s2">                background-color: transparent; </span>
</span><span id="SplitView-256"><a href="#SplitView-256"><span class="linenos"> 256</span></a><span class="s2">                border: 0px black;</span>
</span><span id="SplitView-257"><a href="#SplitView-257"><span class="linenos"> 257</span></a><span class="s2">            }</span>
</span><span id="SplitView-258"><a href="#SplitView-258"><span class="linenos"> 258</span></a><span class="s2">            &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="SplitView-259"><a href="#SplitView-259"><span class="linenos"> 259</span></a>        <span class="n">tracker_deadzone_left</span> <span class="o">=</span> <span class="n">EventTrackerSplitBypassDeadzone</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_left</span><span class="p">)</span>
</span><span id="SplitView-260"><a href="#SplitView-260"><span class="linenos"> 260</span></a>        <span class="n">tracker_deadzone_left</span><span class="o">.</span><span class="n">mouse_position_changed_global</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">update_split_given_global</span><span class="p">)</span>
</span><span id="SplitView-261"><a href="#SplitView-261"><span class="linenos"> 261</span></a>
</span><span id="SplitView-262"><a href="#SplitView-262"><span class="linenos"> 262</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_right</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="SplitView-263"><a href="#SplitView-263"><span class="linenos"> 263</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_right</span><span class="o">.</span><span class="n">setFixedWidth</span><span class="p">(</span><span class="n">px_deadzone</span><span class="p">)</span>
</span><span id="SplitView-264"><a href="#SplitView-264"><span class="linenos"> 264</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_right</span><span class="o">.</span><span class="n">setSizePolicy</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Fixed</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Expanding</span><span class="p">)</span>
</span><span id="SplitView-265"><a href="#SplitView-265"><span class="linenos"> 265</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_right</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</span><span id="SplitView-266"><a href="#SplitView-266"><span class="linenos"> 266</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_right</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="SplitView-267"><a href="#SplitView-267"><span class="linenos"> 267</span></a><span class="s2">            QPushButton {</span>
</span><span id="SplitView-268"><a href="#SplitView-268"><span class="linenos"> 268</span></a><span class="s2">                color: transparent;</span>
</span><span id="SplitView-269"><a href="#SplitView-269"><span class="linenos"> 269</span></a><span class="s2">                background-color: transparent; </span>
</span><span id="SplitView-270"><a href="#SplitView-270"><span class="linenos"> 270</span></a><span class="s2">                border: 0px black;</span>
</span><span id="SplitView-271"><a href="#SplitView-271"><span class="linenos"> 271</span></a><span class="s2">            }</span>
</span><span id="SplitView-272"><a href="#SplitView-272"><span class="linenos"> 272</span></a><span class="s2">            &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="SplitView-273"><a href="#SplitView-273"><span class="linenos"> 273</span></a>        <span class="n">tracker_deadzone_right</span> <span class="o">=</span> <span class="n">EventTrackerSplitBypassDeadzone</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_right</span><span class="p">)</span>
</span><span id="SplitView-274"><a href="#SplitView-274"><span class="linenos"> 274</span></a>        <span class="n">tracker_deadzone_right</span><span class="o">.</span><span class="n">mouse_position_changed_global</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">update_split_given_global</span><span class="p">)</span>
</span><span id="SplitView-275"><a href="#SplitView-275"><span class="linenos"> 275</span></a>
</span><span id="SplitView-276"><a href="#SplitView-276"><span class="linenos"> 276</span></a>        <span class="c1"># A frame is placed over the border of the widget to highlight it as the active subwindow in Butterfly Viewer.</span>
</span><span id="SplitView-277"><a href="#SplitView-277"><span class="linenos"> 277</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">frame_hud</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QFrame</span><span class="p">()</span>
</span><span id="SplitView-278"><a href="#SplitView-278"><span class="linenos"> 278</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">frame_hud</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;border: 0px solid transparent&quot;</span><span class="p">)</span>
</span><span id="SplitView-279"><a href="#SplitView-279"><span class="linenos"> 279</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">frame_hud</span><span class="o">.</span><span class="n">setAttribute</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">WA_TransparentForMouseEvents</span><span class="p">)</span>
</span><span id="SplitView-280"><a href="#SplitView-280"><span class="linenos"> 280</span></a>
</span><span id="SplitView-281"><a href="#SplitView-281"><span class="linenos"> 281</span></a>        <span class="c1"># Set layout</span>
</span><span id="SplitView-282"><a href="#SplitView-282"><span class="linenos"> 282</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="SplitView-283"><a href="#SplitView-283"><span class="linenos"> 283</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_view_layoutdriving_topleft</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="SplitView-284"><a href="#SplitView-284"><span class="linenos"> 284</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_view_topright</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="SplitView-285"><a href="#SplitView-285"><span class="linenos"> 285</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomleft</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="SplitView-286"><a href="#SplitView-286"><span class="linenos"> 286</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomright</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="SplitView-287"><a href="#SplitView-287"><span class="linenos"> 287</span></a>
</span><span id="SplitView-288"><a href="#SplitView-288"><span class="linenos"> 288</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_top</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignTop</span><span class="p">)</span>
</span><span id="SplitView-289"><a href="#SplitView-289"><span class="linenos"> 289</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_bottom</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignBottom</span><span class="p">)</span>
</span><span id="SplitView-290"><a href="#SplitView-290"><span class="linenos"> 290</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_left</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignLeft</span><span class="p">)</span>
</span><span id="SplitView-291"><a href="#SplitView-291"><span class="linenos"> 291</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resize_deadzone_right</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignRight</span><span class="p">)</span>
</span><span id="SplitView-292"><a href="#SplitView-292"><span class="linenos"> 292</span></a>
</span><span id="SplitView-293"><a href="#SplitView-293"><span class="linenos"> 293</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_hud</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="SplitView-294"><a href="#SplitView-294"><span class="linenos"> 294</span></a>
</span><span id="SplitView-295"><a href="#SplitView-295"><span class="linenos"> 295</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">label_main_topleft</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignTop</span> <span class="o">|</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignLeft</span><span class="p">)</span>
</span><span id="SplitView-296"><a href="#SplitView-296"><span class="linenos"> 296</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">label_topright</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignTop</span> <span class="o">|</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignRight</span><span class="p">)</span>
</span><span id="SplitView-297"><a href="#SplitView-297"><span class="linenos"> 297</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">label_bottomright</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignBottom</span> <span class="o">|</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignRight</span><span class="p">)</span>
</span><span id="SplitView-298"><a href="#SplitView-298"><span class="linenos"> 298</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">label_bottomleft</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignBottom</span> <span class="o">|</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignLeft</span><span class="p">)</span>
</span><span id="SplitView-299"><a href="#SplitView-299"><span class="linenos"> 299</span></a>
</span><span id="SplitView-300"><a href="#SplitView-300"><span class="linenos"> 300</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">close_pushbutton</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignTop</span> <span class="o">|</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignRight</span><span class="p">)</span>
</span><span id="SplitView-301"><a href="#SplitView-301"><span class="linenos"> 301</span></a>
</span><span id="SplitView-302"><a href="#SplitView-302"><span class="linenos"> 302</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_layout</span><span class="p">)</span>
</span><span id="SplitView-303"><a href="#SplitView-303"><span class="linenos"> 303</span></a>
</span><span id="SplitView-304"><a href="#SplitView-304"><span class="linenos"> 304</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_scene_background_color</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">background_color</span><span class="p">)</span>
</span><span id="SplitView-305"><a href="#SplitView-305"><span class="linenos"> 305</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;border: 0px; border-style: solid; border-color: red; background-color: rgba(0,0,0,0)&quot;</span><span class="p">)</span>
</span><span id="SplitView-306"><a href="#SplitView-306"><span class="linenos"> 306</span></a>
</span><span id="SplitView-307"><a href="#SplitView-307"><span class="linenos"> 307</span></a>        <span class="c1"># Track the mouse position to know where to set the split</span>
</span><span id="SplitView-308"><a href="#SplitView-308"><span class="linenos"> 308</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tracker</span> <span class="o">=</span> <span class="n">EventTracker</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="SplitView-309"><a href="#SplitView-309"><span class="linenos"> 309</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tracker</span><span class="o">.</span><span class="n">mouse_position_changed</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">positionChanged</span><span class="p">)</span>
</span><span id="SplitView-310"><a href="#SplitView-310"><span class="linenos"> 310</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tracker</span><span class="o">.</span><span class="n">mouse_position_changed</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_positionChanged</span><span class="p">)</span>
</span><span id="SplitView-311"><a href="#SplitView-311"><span class="linenos"> 311</span></a>        
</span><span id="SplitView-312"><a href="#SplitView-312"><span class="linenos"> 312</span></a>        <span class="c1"># Create a rectangular box the size of one pixel in the main scene to show the user the size and position of the pixel over which their mouse is hovering </span>
</span><span id="SplitView-313"><a href="#SplitView-313"><span class="linenos"> 313</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_scene_main_topleft</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="SplitView-314"><a href="#SplitView-314"><span class="linenos"> 314</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">create_mouse_rect</span><span class="p">()</span>
</span><span id="SplitView-315"><a href="#SplitView-315"><span class="linenos"> 315</span></a>
</span><span id="SplitView-316"><a href="#SplitView-316"><span class="linenos"> 316</span></a>        <span class="c1"># Allow users to lock the split and remember where the split was last set</span>
</span><span id="SplitView-317"><a href="#SplitView-317"><span class="linenos"> 317</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">split_locked</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="SplitView-318"><a href="#SplitView-318"><span class="linenos"> 318</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">last_updated_point_of_split_on_scene_main</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPoint</span><span class="p">()</span>
</span><span id="SplitView-319"><a href="#SplitView-319"><span class="linenos"> 319</span></a>
</span><span id="SplitView-320"><a href="#SplitView-320"><span class="linenos"> 320</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">enableScrollBars</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span> <span class="c1"># Clean look with no scrollbars</span>
</span><span id="SplitView-321"><a href="#SplitView-321"><span class="linenos"> 321</span></a>
</span><span id="SplitView-322"><a href="#SplitView-322"><span class="linenos"> 322</span></a>        <span class="c1"># Determine zoom adjustment to scale the non-main images now instead</span>
</span><span id="SplitView-323"><a href="#SplitView-323"><span class="linenos"> 323</span></a>        <span class="c1"># on zoom call because the sender and receivers are always the same.</span>
</span><span id="SplitView-324"><a href="#SplitView-324"><span class="linenos"> 324</span></a>        <span class="c1"># TODO: If the photostream feature (next/prev) is to be created, these </span>
</span><span id="SplitView-325"><a href="#SplitView-325"><span class="linenos"> 325</span></a>        <span class="c1"># adjustment values will need to be recalculated on each new image.</span>
</span><span id="SplitView-326"><a href="#SplitView-326"><span class="linenos"> 326</span></a>        <span class="n">sync_by</span> <span class="o">=</span> <span class="s2">&quot;box&quot;</span>
</span><span id="SplitView-327"><a href="#SplitView-327"><span class="linenos"> 327</span></a>        <span class="n">sender_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_main_topleft</span><span class="o">.</span><span class="n">pixmap</span><span class="p">()</span><span class="o">.</span><span class="n">width</span><span class="p">()</span>
</span><span id="SplitView-328"><a href="#SplitView-328"><span class="linenos"> 328</span></a>        <span class="n">sender_height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_main_topleft</span><span class="o">.</span><span class="n">pixmap</span><span class="p">()</span><span class="o">.</span><span class="n">height</span><span class="p">()</span>
</span><span id="SplitView-329"><a href="#SplitView-329"><span class="linenos"> 329</span></a>        <span class="n">sender_dimension</span> <span class="o">=</span> <span class="n">determineSyncSenderDimension</span><span class="p">(</span><span class="n">sender_width</span><span class="p">,</span>
</span><span id="SplitView-330"><a href="#SplitView-330"><span class="linenos"> 330</span></a>                                                        <span class="n">sender_height</span><span class="p">,</span>
</span><span id="SplitView-331"><a href="#SplitView-331"><span class="linenos"> 331</span></a>                                                        <span class="n">sync_by</span><span class="p">)</span>
</span><span id="SplitView-332"><a href="#SplitView-332"><span class="linenos"> 332</span></a>
</span><span id="SplitView-333"><a href="#SplitView-333"><span class="linenos"> 333</span></a>        <span class="n">topright_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_topright</span><span class="o">.</span><span class="n">pixmap</span><span class="p">()</span><span class="o">.</span><span class="n">width</span><span class="p">()</span>
</span><span id="SplitView-334"><a href="#SplitView-334"><span class="linenos"> 334</span></a>        <span class="n">topright_height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_topright</span><span class="o">.</span><span class="n">pixmap</span><span class="p">()</span><span class="o">.</span><span class="n">height</span><span class="p">()</span>
</span><span id="SplitView-335"><a href="#SplitView-335"><span class="linenos"> 335</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_topright_zoom_adjust</span> <span class="o">=</span> <span class="n">determineSyncAdjustmentFactor</span><span class="p">(</span><span class="n">sync_by</span><span class="p">,</span> <span class="n">sender_dimension</span><span class="p">,</span>
</span><span id="SplitView-336"><a href="#SplitView-336"><span class="linenos"> 336</span></a>                                                                  <span class="n">topright_width</span><span class="p">,</span>
</span><span id="SplitView-337"><a href="#SplitView-337"><span class="linenos"> 337</span></a>                                                                  <span class="n">topright_height</span><span class="p">)</span>
</span><span id="SplitView-338"><a href="#SplitView-338"><span class="linenos"> 338</span></a>        
</span><span id="SplitView-339"><a href="#SplitView-339"><span class="linenos"> 339</span></a>        <span class="n">bottomright_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_bottomright</span><span class="o">.</span><span class="n">pixmap</span><span class="p">()</span><span class="o">.</span><span class="n">width</span><span class="p">()</span>
</span><span id="SplitView-340"><a href="#SplitView-340"><span class="linenos"> 340</span></a>        <span class="n">bottomright_height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_bottomright</span><span class="o">.</span><span class="n">pixmap</span><span class="p">()</span><span class="o">.</span><span class="n">height</span><span class="p">()</span>
</span><span id="SplitView-341"><a href="#SplitView-341"><span class="linenos"> 341</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_bottomright_zoom_adjust</span> <span class="o">=</span> <span class="n">determineSyncAdjustmentFactor</span><span class="p">(</span><span class="n">sync_by</span><span class="p">,</span> <span class="n">sender_dimension</span><span class="p">,</span>
</span><span id="SplitView-342"><a href="#SplitView-342"><span class="linenos"> 342</span></a>                                                                      <span class="n">bottomright_width</span><span class="p">,</span>
</span><span id="SplitView-343"><a href="#SplitView-343"><span class="linenos"> 343</span></a>                                                                      <span class="n">bottomright_height</span><span class="p">)</span>
</span><span id="SplitView-344"><a href="#SplitView-344"><span class="linenos"> 344</span></a>        
</span><span id="SplitView-345"><a href="#SplitView-345"><span class="linenos"> 345</span></a>        <span class="n">bottomleft_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_bottomleft</span><span class="o">.</span><span class="n">pixmap</span><span class="p">()</span><span class="o">.</span><span class="n">width</span><span class="p">()</span>
</span><span id="SplitView-346"><a href="#SplitView-346"><span class="linenos"> 346</span></a>        <span class="n">bottomleft_height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_bottomleft</span><span class="o">.</span><span class="n">pixmap</span><span class="p">()</span><span class="o">.</span><span class="n">height</span><span class="p">()</span>
</span><span id="SplitView-347"><a href="#SplitView-347"><span class="linenos"> 347</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_bottomleft_zoom_adjust</span> <span class="o">=</span> <span class="n">determineSyncAdjustmentFactor</span><span class="p">(</span><span class="n">sync_by</span><span class="p">,</span> <span class="n">sender_dimension</span><span class="p">,</span>
</span><span id="SplitView-348"><a href="#SplitView-348"><span class="linenos"> 348</span></a>                                                                     <span class="n">bottomleft_width</span><span class="p">,</span>
</span><span id="SplitView-349"><a href="#SplitView-349"><span class="linenos"> 349</span></a>                                                                     <span class="n">bottomleft_height</span><span class="p">)</span>
</span><span id="SplitView-350"><a href="#SplitView-350"><span class="linenos"> 350</span></a>
</span><span id="SplitView-351"><a href="#SplitView-351"><span class="linenos"> 351</span></a>    <span class="nd">@property</span>
</span><span id="SplitView-352"><a href="#SplitView-352"><span class="linenos"> 352</span></a>    <span class="k">def</span> <span class="nf">currentFile</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView-353"><a href="#SplitView-353"><span class="linenos"> 353</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;str: Filepath of base image (filename_main_topleft).&quot;&quot;&quot;</span>
</span><span id="SplitView-354"><a href="#SplitView-354"><span class="linenos"> 354</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_currentFile</span>
</span><span id="SplitView-355"><a href="#SplitView-355"><span class="linenos"> 355</span></a>
</span><span id="SplitView-356"><a href="#SplitView-356"><span class="linenos"> 356</span></a>    <span class="nd">@currentFile</span><span class="o">.</span><span class="n">setter</span>
</span><span id="SplitView-357"><a href="#SplitView-357"><span class="linenos"> 357</span></a>    <span class="k">def</span> <span class="nf">currentFile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename_main_topleft</span><span class="p">):</span>
</span><span id="SplitView-358"><a href="#SplitView-358"><span class="linenos"> 358</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_currentFile</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QFileInfo</span><span class="p">(</span><span class="n">filename_main_topleft</span><span class="p">)</span><span class="o">.</span><span class="n">canonicalFilePath</span><span class="p">()</span>
</span><span id="SplitView-359"><a href="#SplitView-359"><span class="linenos"> 359</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_isUntitled</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="SplitView-360"><a href="#SplitView-360"><span class="linenos"> 360</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">userFriendlyCurrentFile</span><span class="p">)</span>
</span><span id="SplitView-361"><a href="#SplitView-361"><span class="linenos"> 361</span></a>
</span><span id="SplitView-362"><a href="#SplitView-362"><span class="linenos"> 362</span></a>    <span class="nd">@property</span>
</span><span id="SplitView-363"><a href="#SplitView-363"><span class="linenos"> 363</span></a>    <span class="k">def</span> <span class="nf">userFriendlyCurrentFile</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView-364"><a href="#SplitView-364"><span class="linenos"> 364</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;str: Filename of base image.&quot;&quot;&quot;</span>
</span><span id="SplitView-365"><a href="#SplitView-365"><span class="linenos"> 365</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">currentFile</span><span class="p">:</span>
</span><span id="SplitView-366"><a href="#SplitView-366"><span class="linenos"> 366</span></a>            <span class="k">return</span> <span class="n">strippedName</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">currentFile</span><span class="p">)</span>
</span><span id="SplitView-367"><a href="#SplitView-367"><span class="linenos"> 367</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="SplitView-368"><a href="#SplitView-368"><span class="linenos"> 368</span></a>            <span class="k">return</span> <span class="s2">&quot;&quot;</span>
</span><span id="SplitView-369"><a href="#SplitView-369"><span class="linenos"> 369</span></a>    
</span><span id="SplitView-370"><a href="#SplitView-370"><span class="linenos"> 370</span></a>    <span class="k">def</span> <span class="nf">set_close_pushbutton_always_visible</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">boolean</span><span class="p">):</span>
</span><span id="SplitView-371"><a href="#SplitView-371"><span class="linenos"> 371</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Enable/disable the always-on visiblilty of the close X of the view.</span>
</span><span id="SplitView-372"><a href="#SplitView-372"><span class="linenos"> 372</span></a><span class="sd">        </span>
</span><span id="SplitView-373"><a href="#SplitView-373"><span class="linenos"> 373</span></a><span class="sd">        Arg:</span>
</span><span id="SplitView-374"><a href="#SplitView-374"><span class="linenos"> 374</span></a><span class="sd">            boolean (bool): True to show the close X always; False to hide unless mouse hovers over.</span>
</span><span id="SplitView-375"><a href="#SplitView-375"><span class="linenos"> 375</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView-376"><a href="#SplitView-376"><span class="linenos"> 376</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">close_pushbutton_always_visible</span> <span class="o">=</span> <span class="n">boolean</span>
</span><span id="SplitView-377"><a href="#SplitView-377"><span class="linenos"> 377</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">refresh_close_pushbutton_stylesheet</span><span class="p">()</span>
</span><span id="SplitView-378"><a href="#SplitView-378"><span class="linenos"> 378</span></a>            
</span><span id="SplitView-379"><a href="#SplitView-379"><span class="linenos"> 379</span></a>    <span class="k">def</span> <span class="nf">refresh_close_pushbutton_stylesheet</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView-380"><a href="#SplitView-380"><span class="linenos"> 380</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Refresh stylesheet of close pushbutton based on background color and visibility.&quot;&quot;&quot;</span>
</span><span id="SplitView-381"><a href="#SplitView-381"><span class="linenos"> 381</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">close_pushbutton</span><span class="p">:</span>
</span><span id="SplitView-382"><a href="#SplitView-382"><span class="linenos"> 382</span></a>            <span class="k">return</span>
</span><span id="SplitView-383"><a href="#SplitView-383"><span class="linenos"> 383</span></a>        <span class="n">always_visible</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">close_pushbutton_always_visible</span>
</span><span id="SplitView-384"><a href="#SplitView-384"><span class="linenos"> 384</span></a>        <span class="n">background_rgb</span> <span class="o">=</span>  <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">background_rgb</span>
</span><span id="SplitView-385"><a href="#SplitView-385"><span class="linenos"> 385</span></a>        <span class="n">avg_background_rgb</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">background_rgb</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">background_rgb</span><span class="p">)</span>
</span><span id="SplitView-386"><a href="#SplitView-386"><span class="linenos"> 386</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">always_visible</span><span class="p">:</span> <span class="c1"># Hide unless hovered</span>
</span><span id="SplitView-387"><a href="#SplitView-387"><span class="linenos"> 387</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">close_pushbutton</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="SplitView-388"><a href="#SplitView-388"><span class="linenos"> 388</span></a><span class="s2">                QPushButton {</span>
</span><span id="SplitView-389"><a href="#SplitView-389"><span class="linenos"> 389</span></a><span class="s2">                    width: 1.8em;</span>
</span><span id="SplitView-390"><a href="#SplitView-390"><span class="linenos"> 390</span></a><span class="s2">                    height: 1.8em;</span>
</span><span id="SplitView-391"><a href="#SplitView-391"><span class="linenos"> 391</span></a><span class="s2">                    color: transparent;</span>
</span><span id="SplitView-392"><a href="#SplitView-392"><span class="linenos"> 392</span></a><span class="s2">                    background-color: rgba(223, 0, 0, 0); </span>
</span><span id="SplitView-393"><a href="#SplitView-393"><span class="linenos"> 393</span></a><span class="s2">                    font-weight: bold;</span>
</span><span id="SplitView-394"><a href="#SplitView-394"><span class="linenos"> 394</span></a><span class="s2">                    border-width: 0px;</span>
</span><span id="SplitView-395"><a href="#SplitView-395"><span class="linenos"> 395</span></a><span class="s2">                    border-style: solid;</span>
</span><span id="SplitView-396"><a href="#SplitView-396"><span class="linenos"> 396</span></a><span class="s2">                    border-color: transparent;</span>
</span><span id="SplitView-397"><a href="#SplitView-397"><span class="linenos"> 397</span></a><span class="s2">                    font-size: 10pt;</span>
</span><span id="SplitView-398"><a href="#SplitView-398"><span class="linenos"> 398</span></a><span class="s2">                }</span>
</span><span id="SplitView-399"><a href="#SplitView-399"><span class="linenos"> 399</span></a><span class="s2">                QPushButton:hover {</span>
</span><span id="SplitView-400"><a href="#SplitView-400"><span class="linenos"> 400</span></a><span class="s2">                    color: white;</span>
</span><span id="SplitView-401"><a href="#SplitView-401"><span class="linenos"> 401</span></a><span class="s2">                    background-color: rgba(223, 0, 0, 223);</span>
</span><span id="SplitView-402"><a href="#SplitView-402"><span class="linenos"> 402</span></a><span class="s2">                }</span>
</span><span id="SplitView-403"><a href="#SplitView-403"><span class="linenos"> 403</span></a><span class="s2">                QPushButton:pressed {</span>
</span><span id="SplitView-404"><a href="#SplitView-404"><span class="linenos"> 404</span></a><span class="s2">                    color: white;</span>
</span><span id="SplitView-405"><a href="#SplitView-405"><span class="linenos"> 405</span></a><span class="s2">                    background-color: rgba(255, 0, 0, 255);</span>
</span><span id="SplitView-406"><a href="#SplitView-406"><span class="linenos"> 406</span></a><span class="s2">                }</span>
</span><span id="SplitView-407"><a href="#SplitView-407"><span class="linenos"> 407</span></a><span class="s2">                &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="SplitView-408"><a href="#SplitView-408"><span class="linenos"> 408</span></a>        <span class="k">else</span><span class="p">:</span> <span class="c1"># Always visible</span>
</span><span id="SplitView-409"><a href="#SplitView-409"><span class="linenos"> 409</span></a>            <span class="k">if</span> <span class="n">avg_background_rgb</span> <span class="o">&gt;=</span> <span class="mi">223</span><span class="p">:</span> <span class="c1"># Unhovered is black X on light background</span>
</span><span id="SplitView-410"><a href="#SplitView-410"><span class="linenos"> 410</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">close_pushbutton</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="SplitView-411"><a href="#SplitView-411"><span class="linenos"> 411</span></a><span class="s2">                    QPushButton {</span>
</span><span id="SplitView-412"><a href="#SplitView-412"><span class="linenos"> 412</span></a><span class="s2">                        width: 1.8em;</span>
</span><span id="SplitView-413"><a href="#SplitView-413"><span class="linenos"> 413</span></a><span class="s2">                        height: 1.8em;</span>
</span><span id="SplitView-414"><a href="#SplitView-414"><span class="linenos"> 414</span></a><span class="s2">                        color: black;</span>
</span><span id="SplitView-415"><a href="#SplitView-415"><span class="linenos"> 415</span></a><span class="s2">                        background-color: rgba(223, 0, 0, 0); </span>
</span><span id="SplitView-416"><a href="#SplitView-416"><span class="linenos"> 416</span></a><span class="s2">                        font-weight: bold;</span>
</span><span id="SplitView-417"><a href="#SplitView-417"><span class="linenos"> 417</span></a><span class="s2">                        border-width: 0px;</span>
</span><span id="SplitView-418"><a href="#SplitView-418"><span class="linenos"> 418</span></a><span class="s2">                        border-style: solid;</span>
</span><span id="SplitView-419"><a href="#SplitView-419"><span class="linenos"> 419</span></a><span class="s2">                        border-color: transparent;</span>
</span><span id="SplitView-420"><a href="#SplitView-420"><span class="linenos"> 420</span></a><span class="s2">                        font-size: 10pt;</span>
</span><span id="SplitView-421"><a href="#SplitView-421"><span class="linenos"> 421</span></a><span class="s2">                    }</span>
</span><span id="SplitView-422"><a href="#SplitView-422"><span class="linenos"> 422</span></a><span class="s2">                    QPushButton:hover {</span>
</span><span id="SplitView-423"><a href="#SplitView-423"><span class="linenos"> 423</span></a><span class="s2">                        color: white;</span>
</span><span id="SplitView-424"><a href="#SplitView-424"><span class="linenos"> 424</span></a><span class="s2">                        background-color: rgba(223, 0, 0, 223);</span>
</span><span id="SplitView-425"><a href="#SplitView-425"><span class="linenos"> 425</span></a><span class="s2">                    }</span>
</span><span id="SplitView-426"><a href="#SplitView-426"><span class="linenos"> 426</span></a><span class="s2">                    QPushButton:pressed {</span>
</span><span id="SplitView-427"><a href="#SplitView-427"><span class="linenos"> 427</span></a><span class="s2">                        color: white;</span>
</span><span id="SplitView-428"><a href="#SplitView-428"><span class="linenos"> 428</span></a><span class="s2">                        background-color: rgba(255, 0, 0, 255);</span>
</span><span id="SplitView-429"><a href="#SplitView-429"><span class="linenos"> 429</span></a><span class="s2">                    }</span>
</span><span id="SplitView-430"><a href="#SplitView-430"><span class="linenos"> 430</span></a><span class="s2">                    &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="SplitView-431"><a href="#SplitView-431"><span class="linenos"> 431</span></a>            <span class="k">else</span><span class="p">:</span> <span class="c1"># Unhovered is white X on dark background</span>
</span><span id="SplitView-432"><a href="#SplitView-432"><span class="linenos"> 432</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">close_pushbutton</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="SplitView-433"><a href="#SplitView-433"><span class="linenos"> 433</span></a><span class="s2">                    QPushButton {</span>
</span><span id="SplitView-434"><a href="#SplitView-434"><span class="linenos"> 434</span></a><span class="s2">                        width: 1.8em;</span>
</span><span id="SplitView-435"><a href="#SplitView-435"><span class="linenos"> 435</span></a><span class="s2">                        height: 1.8em;</span>
</span><span id="SplitView-436"><a href="#SplitView-436"><span class="linenos"> 436</span></a><span class="s2">                        color: white;</span>
</span><span id="SplitView-437"><a href="#SplitView-437"><span class="linenos"> 437</span></a><span class="s2">                        background-color: rgba(223, 0, 0, 0); </span>
</span><span id="SplitView-438"><a href="#SplitView-438"><span class="linenos"> 438</span></a><span class="s2">                        font-weight: bold;</span>
</span><span id="SplitView-439"><a href="#SplitView-439"><span class="linenos"> 439</span></a><span class="s2">                        border-width: 0px;</span>
</span><span id="SplitView-440"><a href="#SplitView-440"><span class="linenos"> 440</span></a><span class="s2">                        border-style: solid;</span>
</span><span id="SplitView-441"><a href="#SplitView-441"><span class="linenos"> 441</span></a><span class="s2">                        border-color: transparent;</span>
</span><span id="SplitView-442"><a href="#SplitView-442"><span class="linenos"> 442</span></a><span class="s2">                        font-size: 10pt;</span>
</span><span id="SplitView-443"><a href="#SplitView-443"><span class="linenos"> 443</span></a><span class="s2">                    }</span>
</span><span id="SplitView-444"><a href="#SplitView-444"><span class="linenos"> 444</span></a><span class="s2">                    QPushButton:hover {</span>
</span><span id="SplitView-445"><a href="#SplitView-445"><span class="linenos"> 445</span></a><span class="s2">                        color: white;</span>
</span><span id="SplitView-446"><a href="#SplitView-446"><span class="linenos"> 446</span></a><span class="s2">                        background-color: rgba(223, 0, 0, 223);</span>
</span><span id="SplitView-447"><a href="#SplitView-447"><span class="linenos"> 447</span></a><span class="s2">                    }</span>
</span><span id="SplitView-448"><a href="#SplitView-448"><span class="linenos"> 448</span></a><span class="s2">                    QPushButton:pressed {</span>
</span><span id="SplitView-449"><a href="#SplitView-449"><span class="linenos"> 449</span></a><span class="s2">                        color: white;</span>
</span><span id="SplitView-450"><a href="#SplitView-450"><span class="linenos"> 450</span></a><span class="s2">                        background-color: rgba(255, 0, 0, 255);</span>
</span><span id="SplitView-451"><a href="#SplitView-451"><span class="linenos"> 451</span></a><span class="s2">                    }</span>
</span><span id="SplitView-452"><a href="#SplitView-452"><span class="linenos"> 452</span></a><span class="s2">                    &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="SplitView-453"><a href="#SplitView-453"><span class="linenos"> 453</span></a>            
</span><span id="SplitView-454"><a href="#SplitView-454"><span class="linenos"> 454</span></a>        
</span><span id="SplitView-455"><a href="#SplitView-455"><span class="linenos"> 455</span></a>    <span class="k">def</span> <span class="nf">set_scene_background</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">brush</span><span class="p">):</span>
</span><span id="SplitView-456"><a href="#SplitView-456"><span class="linenos"> 456</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set scene background color with QBrush.</span>
</span><span id="SplitView-457"><a href="#SplitView-457"><span class="linenos"> 457</span></a><span class="sd">        </span>
</span><span id="SplitView-458"><a href="#SplitView-458"><span class="linenos"> 458</span></a><span class="sd">        Args:</span>
</span><span id="SplitView-459"><a href="#SplitView-459"><span class="linenos"> 459</span></a><span class="sd">            brush (QBrush)</span>
</span><span id="SplitView-460"><a href="#SplitView-460"><span class="linenos"> 460</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView-461"><a href="#SplitView-461"><span class="linenos"> 461</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="p">:</span>
</span><span id="SplitView-462"><a href="#SplitView-462"><span class="linenos"> 462</span></a>            <span class="k">return</span>
</span><span id="SplitView-463"><a href="#SplitView-463"><span class="linenos"> 463</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">setBackgroundBrush</span><span class="p">(</span><span class="n">brush</span><span class="p">)</span>
</span><span id="SplitView-464"><a href="#SplitView-464"><span class="linenos"> 464</span></a>
</span><span id="SplitView-465"><a href="#SplitView-465"><span class="linenos"> 465</span></a>    <span class="k">def</span> <span class="nf">set_scene_background_color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">color</span><span class="p">:</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="SplitView-466"><a href="#SplitView-466"><span class="linenos"> 466</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set scene background color with color list.</span>
</span><span id="SplitView-467"><a href="#SplitView-467"><span class="linenos"> 467</span></a>
</span><span id="SplitView-468"><a href="#SplitView-468"><span class="linenos"> 468</span></a><span class="sd">        The init for CustomQGraphicsScene contains the ground truth for selectable background colors.</span>
</span><span id="SplitView-469"><a href="#SplitView-469"><span class="linenos"> 469</span></a><span class="sd">        </span>
</span><span id="SplitView-470"><a href="#SplitView-470"><span class="linenos"> 470</span></a><span class="sd">        Args:</span>
</span><span id="SplitView-471"><a href="#SplitView-471"><span class="linenos"> 471</span></a><span class="sd">            color (list): Descriptor string and RGB int values. Example: [&quot;White&quot;, 255, 255, 255].</span>
</span><span id="SplitView-472"><a href="#SplitView-472"><span class="linenos"> 472</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView-473"><a href="#SplitView-473"><span class="linenos"> 473</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="p">:</span>
</span><span id="SplitView-474"><a href="#SplitView-474"><span class="linenos"> 474</span></a>            <span class="k">return</span>
</span><span id="SplitView-475"><a href="#SplitView-475"><span class="linenos"> 475</span></a>        <span class="n">rgb</span> <span class="o">=</span> <span class="n">color</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
</span><span id="SplitView-476"><a href="#SplitView-476"><span class="linenos"> 476</span></a>        <span class="n">rgb_clamp</span> <span class="o">=</span> <span class="p">[</span><span class="nb">max</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span> <span class="k">for</span> <span class="n">channel</span> <span class="ow">in</span> <span class="n">rgb</span><span class="p">]</span>
</span><span id="SplitView-477"><a href="#SplitView-477"><span class="linenos"> 477</span></a>        <span class="n">brush</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QColor</span><span class="p">(</span><span class="n">rgb_clamp</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">rgb_clamp</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">rgb_clamp</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</span><span id="SplitView-478"><a href="#SplitView-478"><span class="linenos"> 478</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_scene_background</span><span class="p">(</span><span class="n">brush</span><span class="p">)</span>
</span><span id="SplitView-479"><a href="#SplitView-479"><span class="linenos"> 479</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">background_color</span> <span class="o">=</span> <span class="n">color</span>
</span><span id="SplitView-480"><a href="#SplitView-480"><span class="linenos"> 480</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">refresh_close_pushbutton_stylesheet</span><span class="p">()</span>
</span><span id="SplitView-481"><a href="#SplitView-481"><span class="linenos"> 481</span></a>
</span><span id="SplitView-482"><a href="#SplitView-482"><span class="linenos"> 482</span></a>    <span class="k">def</span> <span class="nf">update_sync_zoom_by</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">by</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="SplitView-483"><a href="#SplitView-483"><span class="linenos"> 483</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;[str] Update right-click menu of sync zoom by.&quot;&quot;&quot;</span>
</span><span id="SplitView-484"><a href="#SplitView-484"><span class="linenos"> 484</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">sync_zoom_by</span> <span class="o">=</span> <span class="n">by</span>
</span><span id="SplitView-485"><a href="#SplitView-485"><span class="linenos"> 485</span></a>    
</span><span id="SplitView-486"><a href="#SplitView-486"><span class="linenos"> 486</span></a>    <span class="k">def</span> <span class="nf">pixmap_none_ify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pixmap</span><span class="p">):</span>
</span><span id="SplitView-487"><a href="#SplitView-487"><span class="linenos"> 487</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return None if pixmap has no pixels.</span>
</span><span id="SplitView-488"><a href="#SplitView-488"><span class="linenos"> 488</span></a><span class="sd">        </span>
</span><span id="SplitView-489"><a href="#SplitView-489"><span class="linenos"> 489</span></a><span class="sd">        Args:</span>
</span><span id="SplitView-490"><a href="#SplitView-490"><span class="linenos"> 490</span></a><span class="sd">            pixmap (QPixmap)</span>
</span><span id="SplitView-491"><a href="#SplitView-491"><span class="linenos"> 491</span></a>
</span><span id="SplitView-492"><a href="#SplitView-492"><span class="linenos"> 492</span></a><span class="sd">        Returns:</span>
</span><span id="SplitView-493"><a href="#SplitView-493"><span class="linenos"> 493</span></a><span class="sd">            None if pixmap has no pixels; same pixmap if it has pixels</span>
</span><span id="SplitView-494"><a href="#SplitView-494"><span class="linenos"> 494</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView-495"><a href="#SplitView-495"><span class="linenos"> 495</span></a>        <span class="k">if</span> <span class="n">pixmap</span><span class="p">:</span>
</span><span id="SplitView-496"><a href="#SplitView-496"><span class="linenos"> 496</span></a>            <span class="k">if</span> <span class="n">pixmap</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">==</span><span class="mi">0</span> <span class="ow">or</span> <span class="n">pixmap</span><span class="o">.</span><span class="n">height</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
</span><span id="SplitView-497"><a href="#SplitView-497"><span class="linenos"> 497</span></a>                <span class="k">return</span> <span class="kc">None</span>
</span><span id="SplitView-498"><a href="#SplitView-498"><span class="linenos"> 498</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="SplitView-499"><a href="#SplitView-499"><span class="linenos"> 499</span></a>                <span class="k">return</span> <span class="n">pixmap</span>
</span><span id="SplitView-500"><a href="#SplitView-500"><span class="linenos"> 500</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="SplitView-501"><a href="#SplitView-501"><span class="linenos"> 501</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="SplitView-502"><a href="#SplitView-502"><span class="linenos"> 502</span></a>    
</span><span id="SplitView-503"><a href="#SplitView-503"><span class="linenos"> 503</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QPoint</span><span class="p">)</span>
</span><span id="SplitView-504"><a href="#SplitView-504"><span class="linenos"> 504</span></a>    <span class="k">def</span> <span class="nf">on_positionChanged</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos</span><span class="p">):</span>
</span><span id="SplitView-505"><a href="#SplitView-505"><span class="linenos"> 505</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Update the position of the split and the 1x1 pixel rectangle.</span>
</span><span id="SplitView-506"><a href="#SplitView-506"><span class="linenos"> 506</span></a>
</span><span id="SplitView-507"><a href="#SplitView-507"><span class="linenos"> 507</span></a><span class="sd">        Triggered when mouse is moved.</span>
</span><span id="SplitView-508"><a href="#SplitView-508"><span class="linenos"> 508</span></a><span class="sd">        </span>
</span><span id="SplitView-509"><a href="#SplitView-509"><span class="linenos"> 509</span></a><span class="sd">        Args:</span>
</span><span id="SplitView-510"><a href="#SplitView-510"><span class="linenos"> 510</span></a><span class="sd">            pos (QPoint): The position of the mouse relative to widget.</span>
</span><span id="SplitView-511"><a href="#SplitView-511"><span class="linenos"> 511</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView-512"><a href="#SplitView-512"><span class="linenos"> 512</span></a>        <span class="n">point_of_mouse_on_widget</span> <span class="o">=</span> <span class="n">pos</span>
</span><span id="SplitView-513"><a href="#SplitView-513"><span class="linenos"> 513</span></a>        
</span><span id="SplitView-514"><a href="#SplitView-514"><span class="linenos"> 514</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">update_split</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="p">)</span>
</span><span id="SplitView-515"><a href="#SplitView-515"><span class="linenos"> 515</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">update_mouse_rect</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="p">)</span>
</span><span id="SplitView-516"><a href="#SplitView-516"><span class="linenos"> 516</span></a>
</span><span id="SplitView-517"><a href="#SplitView-517"><span class="linenos"> 517</span></a>    <span class="k">def</span> <span class="nf">set_split</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x_percent</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">y_percent</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">ignore_lock</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">percent_of_visible</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="SplitView-518"><a href="#SplitView-518"><span class="linenos"> 518</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the position of the split with x and y as proportion of base image&#39;s resolution.</span>
</span><span id="SplitView-519"><a href="#SplitView-519"><span class="linenos"> 519</span></a>
</span><span id="SplitView-520"><a href="#SplitView-520"><span class="linenos"> 520</span></a><span class="sd">        Sets split position using a proportion of x and y (by default of entire main pixmap; can be set to proportion of visible pixmap).</span>
</span><span id="SplitView-521"><a href="#SplitView-521"><span class="linenos"> 521</span></a><span class="sd">        Top left is x=0, y=0; bottom right is x=1, y=1.</span>
</span><span id="SplitView-522"><a href="#SplitView-522"><span class="linenos"> 522</span></a><span class="sd">        This is needed to position the split without mouse movement from user (for example, to preview the effect of the transparency sliders in Butterfly Viewer)</span>
</span><span id="SplitView-523"><a href="#SplitView-523"><span class="linenos"> 523</span></a><span class="sd">        </span>
</span><span id="SplitView-524"><a href="#SplitView-524"><span class="linenos"> 524</span></a><span class="sd">        Args:</span>
</span><span id="SplitView-525"><a href="#SplitView-525"><span class="linenos"> 525</span></a><span class="sd">            x_percent (float): The position of the split as a proportion (0-1) of the base image&#39;s horizontal resolution.</span>
</span><span id="SplitView-526"><a href="#SplitView-526"><span class="linenos"> 526</span></a><span class="sd">            y_percent (float): The position of the split as a proportion (0-1) of the base image&#39;s vertical resolution.</span>
</span><span id="SplitView-527"><a href="#SplitView-527"><span class="linenos"> 527</span></a><span class="sd">            ignore_lock (bool): True to ignore the lock status of the split; False to adhere.</span>
</span><span id="SplitView-528"><a href="#SplitView-528"><span class="linenos"> 528</span></a><span class="sd">            percent_of_visible (bool): True to set split as proportion of visible area; False as proportion of the full image resolution.</span>
</span><span id="SplitView-529"><a href="#SplitView-529"><span class="linenos"> 529</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView-530"><a href="#SplitView-530"><span class="linenos"> 530</span></a>        <span class="k">if</span> <span class="n">percent_of_visible</span><span class="p">:</span>
</span><span id="SplitView-531"><a href="#SplitView-531"><span class="linenos"> 531</span></a>            <span class="n">x</span> <span class="o">=</span> <span class="n">x_percent</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">()</span>
</span><span id="SplitView-532"><a href="#SplitView-532"><span class="linenos"> 532</span></a>            <span class="n">y</span> <span class="o">=</span> <span class="n">y_percent</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">()</span>
</span><span id="SplitView-533"><a href="#SplitView-533"><span class="linenos"> 533</span></a>            <span class="n">point_of_split_on_widget</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPoint</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</span><span id="SplitView-534"><a href="#SplitView-534"><span class="linenos"> 534</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="SplitView-535"><a href="#SplitView-535"><span class="linenos"> 535</span></a>            <span class="n">width_pixmap_main_topleft</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">imageWidth</span>
</span><span id="SplitView-536"><a href="#SplitView-536"><span class="linenos"> 536</span></a>            <span class="n">height_pixmap_main_topleft</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">imageHeight</span>
</span><span id="SplitView-537"><a href="#SplitView-537"><span class="linenos"> 537</span></a>
</span><span id="SplitView-538"><a href="#SplitView-538"><span class="linenos"> 538</span></a>            <span class="n">x</span> <span class="o">=</span> <span class="n">x_percent</span><span class="o">*</span><span class="n">width_pixmap_main_topleft</span>
</span><span id="SplitView-539"><a href="#SplitView-539"><span class="linenos"> 539</span></a>            <span class="n">y</span> <span class="o">=</span> <span class="n">y_percent</span><span class="o">*</span><span class="n">height_pixmap_main_topleft</span>
</span><span id="SplitView-540"><a href="#SplitView-540"><span class="linenos"> 540</span></a>
</span><span id="SplitView-541"><a href="#SplitView-541"><span class="linenos"> 541</span></a>            <span class="n">point_of_split_on_scene</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
</span><span id="SplitView-542"><a href="#SplitView-542"><span class="linenos"> 542</span></a>
</span><span id="SplitView-543"><a href="#SplitView-543"><span class="linenos"> 543</span></a>            <span class="n">point_of_split_on_widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapFromScene</span><span class="p">(</span><span class="n">point_of_split_on_scene</span><span class="p">)</span>
</span><span id="SplitView-544"><a href="#SplitView-544"><span class="linenos"> 544</span></a>
</span><span id="SplitView-545"><a href="#SplitView-545"><span class="linenos"> 545</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">update_split</span><span class="p">(</span><span class="n">point_of_split_on_widget</span><span class="p">,</span> <span class="n">ignore_lock</span><span class="o">=</span><span class="n">ignore_lock</span><span class="p">)</span>
</span><span id="SplitView-546"><a href="#SplitView-546"><span class="linenos"> 546</span></a>        
</span><span id="SplitView-547"><a href="#SplitView-547"><span class="linenos"> 547</span></a>    <span class="k">def</span> <span class="nf">update_split</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">pos_is_global</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ignore_lock</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span> 
</span><span id="SplitView-548"><a href="#SplitView-548"><span class="linenos"> 548</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Update the position of the split with mouse position.</span>
</span><span id="SplitView-549"><a href="#SplitView-549"><span class="linenos"> 549</span></a><span class="sd">        </span>
</span><span id="SplitView-550"><a href="#SplitView-550"><span class="linenos"> 550</span></a><span class="sd">        Args:</span>
</span><span id="SplitView-551"><a href="#SplitView-551"><span class="linenos"> 551</span></a><span class="sd">            pos (QPoint): Position of the mouse.</span>
</span><span id="SplitView-552"><a href="#SplitView-552"><span class="linenos"> 552</span></a><span class="sd">            pos_is_global (bool): True if given mouse position is relative to MdiChild; False if global position.</span>
</span><span id="SplitView-553"><a href="#SplitView-553"><span class="linenos"> 553</span></a><span class="sd">            ignore_lock (bool): True to ignore (bypass) the status of the split lock.</span>
</span><span id="SplitView-554"><a href="#SplitView-554"><span class="linenos"> 554</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView-555"><a href="#SplitView-555"><span class="linenos"> 555</span></a>        <span class="k">if</span> <span class="n">pos</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span> <span class="c1"># Get position of the split from the mouse&#39;s global coordinates (can be slow!)</span>
</span><span id="SplitView-556"><a href="#SplitView-556"><span class="linenos"> 556</span></a>            <span class="n">point_of_cursor_global</span>      <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QCursor</span><span class="o">.</span><span class="n">pos</span><span class="p">()</span>
</span><span id="SplitView-557"><a href="#SplitView-557"><span class="linenos"> 557</span></a>            <span class="n">point_of_mouse_on_widget</span>    <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapFromGlobal</span><span class="p">(</span><span class="n">point_of_cursor_global</span><span class="p">)</span>
</span><span id="SplitView-558"><a href="#SplitView-558"><span class="linenos"> 558</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="SplitView-559"><a href="#SplitView-559"><span class="linenos"> 559</span></a>            <span class="k">if</span> <span class="n">pos_is_global</span><span class="p">:</span>
</span><span id="SplitView-560"><a href="#SplitView-560"><span class="linenos"> 560</span></a>                <span class="n">point_of_mouse_on_widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapFromGlobal</span><span class="p">(</span><span class="n">pos</span><span class="p">)</span>
</span><span id="SplitView-561"><a href="#SplitView-561"><span class="linenos"> 561</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="SplitView-562"><a href="#SplitView-562"><span class="linenos"> 562</span></a>                <span class="n">point_of_mouse_on_widget</span> <span class="o">=</span> <span class="n">pos</span>
</span><span id="SplitView-563"><a href="#SplitView-563"><span class="linenos"> 563</span></a>
</span><span id="SplitView-564"><a href="#SplitView-564"><span class="linenos"> 564</span></a>        <span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">setX</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">x</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># Offset +1 needed to have mouse cursor be hovering over the main scene (e.g., to allow manipulation of graphics item)</span>
</span><span id="SplitView-565"><a href="#SplitView-565"><span class="linenos"> 565</span></a>        <span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">setY</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">y</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
</span><span id="SplitView-566"><a href="#SplitView-566"><span class="linenos"> 566</span></a>
</span><span id="SplitView-567"><a href="#SplitView-567"><span class="linenos"> 567</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">last_updated_point_of_split_on_scene_main</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapToScene</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span> <span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">y</span><span class="p">())</span>
</span><span id="SplitView-568"><a href="#SplitView-568"><span class="linenos"> 568</span></a>        
</span><span id="SplitView-569"><a href="#SplitView-569"><span class="linenos"> 569</span></a>        <span class="n">point_of_bottom_right_on_widget</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">())</span>
</span><span id="SplitView-570"><a href="#SplitView-570"><span class="linenos"> 570</span></a>        
</span><span id="SplitView-571"><a href="#SplitView-571"><span class="linenos"> 571</span></a>        <span class="n">point_of_widget_origin_on_scene_main</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapToScene</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
</span><span id="SplitView-572"><a href="#SplitView-572"><span class="linenos"> 572</span></a>
</span><span id="SplitView-573"><a href="#SplitView-573"><span class="linenos"> 573</span></a>        <span class="n">point_of_split_on_scene_main</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapToScene</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span><span class="mi">0</span><span class="p">),</span><span class="nb">max</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">y</span><span class="p">(),</span><span class="mi">0</span><span class="p">))</span>
</span><span id="SplitView-574"><a href="#SplitView-574"><span class="linenos"> 574</span></a>        <span class="n">point_of_bottom_right_on_scene_main</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapToScene</span><span class="p">(</span><span class="n">point_of_bottom_right_on_widget</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span> <span class="n">point_of_bottom_right_on_widget</span><span class="o">.</span><span class="n">y</span><span class="p">())</span>
</span><span id="SplitView-575"><a href="#SplitView-575"><span class="linenos"> 575</span></a>        
</span><span id="SplitView-576"><a href="#SplitView-576"><span class="linenos"> 576</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_layoutdriving_topleft</span><span class="o">.</span><span class="n">setMaximumWidth</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span><span class="mi">0</span><span class="p">))</span>
</span><span id="SplitView-577"><a href="#SplitView-577"><span class="linenos"> 577</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_layoutdriving_topleft</span><span class="o">.</span><span class="n">setMaximumHeight</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">y</span><span class="p">(),</span><span class="mi">0</span><span class="p">))</span>
</span><span id="SplitView-578"><a href="#SplitView-578"><span class="linenos"> 578</span></a>        
</span><span id="SplitView-579"><a href="#SplitView-579"><span class="linenos"> 579</span></a>        <span class="n">render_buffer</span> <span class="o">=</span> <span class="mi">100</span> <span class="c1"># Needed to prevent slight pixel offset of the sliding overlays when zoomed-out below ~0.5x</span>
</span><span id="SplitView-580"><a href="#SplitView-580"><span class="linenos"> 580</span></a>
</span><span id="SplitView-581"><a href="#SplitView-581"><span class="linenos"> 581</span></a>        <span class="n">scale_topright</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">_topright_zoom_adjust</span>  <span class="c1"># Needed to scale images to the same relative size as the main image</span>
</span><span id="SplitView-582"><a href="#SplitView-582"><span class="linenos"> 582</span></a>        <span class="n">scale_bottomright</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">_bottomright_zoom_adjust</span>
</span><span id="SplitView-583"><a href="#SplitView-583"><span class="linenos"> 583</span></a>        <span class="n">scale_bottomleft</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">_bottomleft_zoom_adjust</span>
</span><span id="SplitView-584"><a href="#SplitView-584"><span class="linenos"> 584</span></a>    
</span><span id="SplitView-585"><a href="#SplitView-585"><span class="linenos"> 585</span></a>        <span class="n">top_left_of_scene_topright</span>          <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">point_of_split_on_scene_main</span><span class="o">.</span><span class="n">x</span><span class="p">()</span><span class="o">*</span><span class="n">scale_topright</span><span class="p">,</span> <span class="n">point_of_widget_origin_on_scene_main</span><span class="o">.</span><span class="n">y</span><span class="p">()</span><span class="o">*</span><span class="n">scale_topright</span><span class="p">)</span>
</span><span id="SplitView-586"><a href="#SplitView-586"><span class="linenos"> 586</span></a>        <span class="n">bottom_right_of_scene_topright</span>      <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">point_of_bottom_right_on_scene_main</span><span class="o">.</span><span class="n">x</span><span class="p">()</span><span class="o">*</span><span class="n">scale_topright</span> <span class="o">+</span> <span class="n">render_buffer</span><span class="p">,</span> <span class="n">point_of_split_on_scene_main</span><span class="o">.</span><span class="n">y</span><span class="p">()</span><span class="o">*</span><span class="n">scale_topright</span> <span class="o">+</span> <span class="n">render_buffer</span><span class="p">)</span>
</span><span id="SplitView-587"><a href="#SplitView-587"><span class="linenos"> 587</span></a>        
</span><span id="SplitView-588"><a href="#SplitView-588"><span class="linenos"> 588</span></a>        <span class="n">top_left_of_scene_bottomright</span>       <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">point_of_split_on_scene_main</span><span class="o">.</span><span class="n">x</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomright</span><span class="p">,</span> <span class="n">point_of_split_on_scene_main</span><span class="o">.</span><span class="n">y</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomright</span><span class="p">)</span>
</span><span id="SplitView-589"><a href="#SplitView-589"><span class="linenos"> 589</span></a>        <span class="n">bottom_right_of_scene_bottomright</span>   <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">point_of_bottom_right_on_scene_main</span><span class="o">.</span><span class="n">x</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomright</span> <span class="o">+</span> <span class="n">render_buffer</span><span class="p">,</span> <span class="n">point_of_bottom_right_on_scene_main</span><span class="o">.</span><span class="n">y</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomright</span> <span class="o">+</span> <span class="n">render_buffer</span><span class="p">)</span>
</span><span id="SplitView-590"><a href="#SplitView-590"><span class="linenos"> 590</span></a>        
</span><span id="SplitView-591"><a href="#SplitView-591"><span class="linenos"> 591</span></a>        <span class="n">top_left_of_scene_bottomleft</span>        <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">point_of_widget_origin_on_scene_main</span><span class="o">.</span><span class="n">x</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomleft</span><span class="p">,</span> <span class="n">point_of_split_on_scene_main</span><span class="o">.</span><span class="n">y</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomleft</span><span class="p">)</span>
</span><span id="SplitView-592"><a href="#SplitView-592"><span class="linenos"> 592</span></a>        <span class="n">bottom_right_of_scene_bottomleft</span>    <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">point_of_split_on_scene_main</span><span class="o">.</span><span class="n">x</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomleft</span> <span class="o">+</span> <span class="n">render_buffer</span><span class="p">,</span> <span class="n">point_of_bottom_right_on_scene_main</span><span class="o">.</span><span class="n">y</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomleft</span> <span class="o">+</span> <span class="n">render_buffer</span><span class="p">)</span>
</span><span id="SplitView-593"><a href="#SplitView-593"><span class="linenos"> 593</span></a>        
</span><span id="SplitView-594"><a href="#SplitView-594"><span class="linenos"> 594</span></a>        <span class="n">rect_of_scene_topright</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QRectF</span><span class="p">(</span><span class="n">top_left_of_scene_topright</span><span class="p">,</span> <span class="n">bottom_right_of_scene_topright</span><span class="p">)</span>
</span><span id="SplitView-595"><a href="#SplitView-595"><span class="linenos"> 595</span></a>        <span class="n">rect_of_scene_bottomright</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QRectF</span><span class="p">(</span><span class="n">top_left_of_scene_bottomright</span><span class="p">,</span> <span class="n">bottom_right_of_scene_bottomright</span><span class="p">)</span>
</span><span id="SplitView-596"><a href="#SplitView-596"><span class="linenos"> 596</span></a>        <span class="n">rect_of_scene_bottomleft</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QRectF</span><span class="p">(</span><span class="n">top_left_of_scene_bottomleft</span><span class="p">,</span> <span class="n">bottom_right_of_scene_bottomleft</span><span class="p">)</span>
</span><span id="SplitView-597"><a href="#SplitView-597"><span class="linenos"> 597</span></a>        
</span><span id="SplitView-598"><a href="#SplitView-598"><span class="linenos"> 598</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_topright</span><span class="o">.</span><span class="n">setSceneRect</span><span class="p">(</span><span class="n">rect_of_scene_topright</span><span class="p">)</span>
</span><span id="SplitView-599"><a href="#SplitView-599"><span class="linenos"> 599</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomright</span><span class="o">.</span><span class="n">setSceneRect</span><span class="p">(</span><span class="n">rect_of_scene_bottomright</span><span class="p">)</span>
</span><span id="SplitView-600"><a href="#SplitView-600"><span class="linenos"> 600</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomleft</span><span class="o">.</span><span class="n">setSceneRect</span><span class="p">(</span><span class="n">rect_of_scene_bottomleft</span><span class="p">)</span>
</span><span id="SplitView-601"><a href="#SplitView-601"><span class="linenos"> 601</span></a>        
</span><span id="SplitView-602"><a href="#SplitView-602"><span class="linenos"> 602</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_topright</span><span class="o">.</span><span class="n">centerOn</span><span class="p">(</span><span class="n">top_left_of_scene_topright</span><span class="p">)</span>
</span><span id="SplitView-603"><a href="#SplitView-603"><span class="linenos"> 603</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomright</span><span class="o">.</span><span class="n">centerOn</span><span class="p">(</span><span class="n">top_left_of_scene_bottomright</span><span class="p">)</span>
</span><span id="SplitView-604"><a href="#SplitView-604"><span class="linenos"> 604</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomleft</span><span class="o">.</span><span class="n">centerOn</span><span class="p">(</span><span class="n">top_left_of_scene_bottomleft</span><span class="p">)</span>
</span><span id="SplitView-605"><a href="#SplitView-605"><span class="linenos"> 605</span></a>
</span><span id="SplitView-606"><a href="#SplitView-606"><span class="linenos"> 606</span></a>    <span class="k">def</span> <span class="nf">refresh_split_based_on_last_updated_point_of_split_on_scene_main</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> 
</span><span id="SplitView-607"><a href="#SplitView-607"><span class="linenos"> 607</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Refresh the position of the split using the previously recorded split location.</span>
</span><span id="SplitView-608"><a href="#SplitView-608"><span class="linenos"> 608</span></a><span class="sd">        </span>
</span><span id="SplitView-609"><a href="#SplitView-609"><span class="linenos"> 609</span></a><span class="sd">        This is needed to maintain the position of the split during synchronized zooming and panning.</span>
</span><span id="SplitView-610"><a href="#SplitView-610"><span class="linenos"> 610</span></a><span class="sd">        &quot;&quot;&quot;</span> 
</span><span id="SplitView-611"><a href="#SplitView-611"><span class="linenos"> 611</span></a>        <span class="n">point_of_mouse_on_widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapFromScene</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">last_updated_point_of_split_on_scene_main</span><span class="p">)</span>
</span><span id="SplitView-612"><a href="#SplitView-612"><span class="linenos"> 612</span></a>        
</span><span id="SplitView-613"><a href="#SplitView-613"><span class="linenos"> 613</span></a>        <span class="n">point_of_bottom_right_on_widget</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">())</span>
</span><span id="SplitView-614"><a href="#SplitView-614"><span class="linenos"> 614</span></a>        
</span><span id="SplitView-615"><a href="#SplitView-615"><span class="linenos"> 615</span></a>        <span class="n">point_of_widget_origin_on_scene_main</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapToScene</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
</span><span id="SplitView-616"><a href="#SplitView-616"><span class="linenos"> 616</span></a>        <span class="n">point_of_split_on_scene_main</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapToScene</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span><span class="mi">0</span><span class="p">),</span><span class="nb">max</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">y</span><span class="p">(),</span><span class="mi">0</span><span class="p">))</span>
</span><span id="SplitView-617"><a href="#SplitView-617"><span class="linenos"> 617</span></a>        <span class="n">point_of_bottom_right_on_scene_main</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapToScene</span><span class="p">(</span><span class="n">point_of_bottom_right_on_widget</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span> <span class="n">point_of_bottom_right_on_widget</span><span class="o">.</span><span class="n">y</span><span class="p">())</span>
</span><span id="SplitView-618"><a href="#SplitView-618"><span class="linenos"> 618</span></a>
</span><span id="SplitView-619"><a href="#SplitView-619"><span class="linenos"> 619</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_layoutdriving_topleft</span><span class="o">.</span><span class="n">setMaximumWidth</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span><span class="mi">0</span><span class="p">))</span>
</span><span id="SplitView-620"><a href="#SplitView-620"><span class="linenos"> 620</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_layoutdriving_topleft</span><span class="o">.</span><span class="n">setMaximumHeight</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">y</span><span class="p">(),</span><span class="mi">0</span><span class="p">))</span>
</span><span id="SplitView-621"><a href="#SplitView-621"><span class="linenos"> 621</span></a>        
</span><span id="SplitView-622"><a href="#SplitView-622"><span class="linenos"> 622</span></a>        <span class="n">render_buffer</span> <span class="o">=</span> <span class="mi">100</span> <span class="c1"># Needed to prevent slight pixel offset of the sliding overlays when zoomed-out below ~0.5x</span>
</span><span id="SplitView-623"><a href="#SplitView-623"><span class="linenos"> 623</span></a>
</span><span id="SplitView-624"><a href="#SplitView-624"><span class="linenos"> 624</span></a>        <span class="n">scale_topright</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">_topright_zoom_adjust</span>  <span class="c1"># Needed to scale images to the same relative size as the main image</span>
</span><span id="SplitView-625"><a href="#SplitView-625"><span class="linenos"> 625</span></a>        <span class="n">scale_bottomright</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">_bottomright_zoom_adjust</span>
</span><span id="SplitView-626"><a href="#SplitView-626"><span class="linenos"> 626</span></a>        <span class="n">scale_bottomleft</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">_bottomleft_zoom_adjust</span>
</span><span id="SplitView-627"><a href="#SplitView-627"><span class="linenos"> 627</span></a>    
</span><span id="SplitView-628"><a href="#SplitView-628"><span class="linenos"> 628</span></a>        <span class="n">top_left_of_scene_topright</span>          <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">point_of_split_on_scene_main</span><span class="o">.</span><span class="n">x</span><span class="p">()</span><span class="o">*</span><span class="n">scale_topright</span><span class="p">,</span> <span class="n">point_of_widget_origin_on_scene_main</span><span class="o">.</span><span class="n">y</span><span class="p">()</span><span class="o">*</span><span class="n">scale_topright</span><span class="p">)</span>
</span><span id="SplitView-629"><a href="#SplitView-629"><span class="linenos"> 629</span></a>        <span class="n">bottom_right_of_scene_topright</span>      <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">point_of_bottom_right_on_scene_main</span><span class="o">.</span><span class="n">x</span><span class="p">()</span><span class="o">*</span><span class="n">scale_topright</span> <span class="o">+</span> <span class="n">render_buffer</span><span class="p">,</span> <span class="n">point_of_split_on_scene_main</span><span class="o">.</span><span class="n">y</span><span class="p">()</span><span class="o">*</span><span class="n">scale_topright</span> <span class="o">+</span> <span class="n">render_buffer</span><span class="p">)</span>
</span><span id="SplitView-630"><a href="#SplitView-630"><span class="linenos"> 630</span></a>        
</span><span id="SplitView-631"><a href="#SplitView-631"><span class="linenos"> 631</span></a>        <span class="n">top_left_of_scene_bottomright</span>       <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">point_of_split_on_scene_main</span><span class="o">.</span><span class="n">x</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomright</span><span class="p">,</span> <span class="n">point_of_split_on_scene_main</span><span class="o">.</span><span class="n">y</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomright</span><span class="p">)</span>
</span><span id="SplitView-632"><a href="#SplitView-632"><span class="linenos"> 632</span></a>        <span class="n">bottom_right_of_scene_bottomright</span>   <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">point_of_bottom_right_on_scene_main</span><span class="o">.</span><span class="n">x</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomright</span> <span class="o">+</span> <span class="n">render_buffer</span><span class="p">,</span> <span class="n">point_of_bottom_right_on_scene_main</span><span class="o">.</span><span class="n">y</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomright</span> <span class="o">+</span> <span class="n">render_buffer</span><span class="p">)</span>
</span><span id="SplitView-633"><a href="#SplitView-633"><span class="linenos"> 633</span></a>        
</span><span id="SplitView-634"><a href="#SplitView-634"><span class="linenos"> 634</span></a>        <span class="n">top_left_of_scene_bottomleft</span>        <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">point_of_widget_origin_on_scene_main</span><span class="o">.</span><span class="n">x</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomleft</span><span class="p">,</span> <span class="n">point_of_split_on_scene_main</span><span class="o">.</span><span class="n">y</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomleft</span><span class="p">)</span>
</span><span id="SplitView-635"><a href="#SplitView-635"><span class="linenos"> 635</span></a>        <span class="n">bottom_right_of_scene_bottomleft</span>    <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">point_of_split_on_scene_main</span><span class="o">.</span><span class="n">x</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomleft</span> <span class="o">+</span> <span class="n">render_buffer</span><span class="p">,</span> <span class="n">point_of_bottom_right_on_scene_main</span><span class="o">.</span><span class="n">y</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomleft</span> <span class="o">+</span> <span class="n">render_buffer</span><span class="p">)</span>
</span><span id="SplitView-636"><a href="#SplitView-636"><span class="linenos"> 636</span></a>        
</span><span id="SplitView-637"><a href="#SplitView-637"><span class="linenos"> 637</span></a>        <span class="n">rect_of_scene_topright</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QRectF</span><span class="p">(</span><span class="n">top_left_of_scene_topright</span><span class="p">,</span> <span class="n">bottom_right_of_scene_topright</span><span class="p">)</span>
</span><span id="SplitView-638"><a href="#SplitView-638"><span class="linenos"> 638</span></a>        <span class="n">rect_of_scene_bottomright</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QRectF</span><span class="p">(</span><span class="n">top_left_of_scene_bottomright</span><span class="p">,</span> <span class="n">bottom_right_of_scene_bottomright</span><span class="p">)</span>
</span><span id="SplitView-639"><a href="#SplitView-639"><span class="linenos"> 639</span></a>        <span class="n">rect_of_scene_bottomleft</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QRectF</span><span class="p">(</span><span class="n">top_left_of_scene_bottomleft</span><span class="p">,</span> <span class="n">bottom_right_of_scene_bottomleft</span><span class="p">)</span>
</span><span id="SplitView-640"><a href="#SplitView-640"><span class="linenos"> 640</span></a>        
</span><span id="SplitView-641"><a href="#SplitView-641"><span class="linenos"> 641</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_topright</span><span class="o">.</span><span class="n">setSceneRect</span><span class="p">(</span><span class="n">rect_of_scene_topright</span><span class="p">)</span>
</span><span id="SplitView-642"><a href="#SplitView-642"><span class="linenos"> 642</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomright</span><span class="o">.</span><span class="n">setSceneRect</span><span class="p">(</span><span class="n">rect_of_scene_bottomright</span><span class="p">)</span>
</span><span id="SplitView-643"><a href="#SplitView-643"><span class="linenos"> 643</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomleft</span><span class="o">.</span><span class="n">setSceneRect</span><span class="p">(</span><span class="n">rect_of_scene_bottomleft</span><span class="p">)</span>
</span><span id="SplitView-644"><a href="#SplitView-644"><span class="linenos"> 644</span></a>        
</span><span id="SplitView-645"><a href="#SplitView-645"><span class="linenos"> 645</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_topright</span><span class="o">.</span><span class="n">centerOn</span><span class="p">(</span><span class="n">top_left_of_scene_topright</span><span class="p">)</span>
</span><span id="SplitView-646"><a href="#SplitView-646"><span class="linenos"> 646</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomright</span><span class="o">.</span><span class="n">centerOn</span><span class="p">(</span><span class="n">top_left_of_scene_bottomright</span><span class="p">)</span>
</span><span id="SplitView-647"><a href="#SplitView-647"><span class="linenos"> 647</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomleft</span><span class="o">.</span><span class="n">centerOn</span><span class="p">(</span><span class="n">top_left_of_scene_bottomleft</span><span class="p">)</span>
</span><span id="SplitView-648"><a href="#SplitView-648"><span class="linenos"> 648</span></a>    
</span><span id="SplitView-649"><a href="#SplitView-649"><span class="linenos"> 649</span></a>    <span class="k">def</span> <span class="nf">update_split_given_global</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos_global</span><span class="p">):</span>
</span><span id="SplitView-650"><a href="#SplitView-650"><span class="linenos"> 650</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Update the position of the split based on given global mouse position.</span>
</span><span id="SplitView-651"><a href="#SplitView-651"><span class="linenos"> 651</span></a>
</span><span id="SplitView-652"><a href="#SplitView-652"><span class="linenos"> 652</span></a><span class="sd">        Convenience function.</span>
</span><span id="SplitView-653"><a href="#SplitView-653"><span class="linenos"> 653</span></a>
</span><span id="SplitView-654"><a href="#SplitView-654"><span class="linenos"> 654</span></a><span class="sd">        Args:</span>
</span><span id="SplitView-655"><a href="#SplitView-655"><span class="linenos"> 655</span></a><span class="sd">            pos_global (QPoint): The position of the mouse in global coordinates.</span>
</span><span id="SplitView-656"><a href="#SplitView-656"><span class="linenos"> 656</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView-657"><a href="#SplitView-657"><span class="linenos"> 657</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">update_split</span><span class="p">(</span><span class="n">pos</span> <span class="o">=</span> <span class="n">pos_global</span><span class="p">,</span> <span class="n">pos_is_global</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="SplitView-658"><a href="#SplitView-658"><span class="linenos"> 658</span></a>
</span><span id="SplitView-659"><a href="#SplitView-659"><span class="linenos"> 659</span></a>
</span><span id="SplitView-660"><a href="#SplitView-660"><span class="linenos"> 660</span></a>    <span class="k">def</span> <span class="nf">on_right_click_comment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scene_pos</span><span class="p">):</span>
</span><span id="SplitView-661"><a href="#SplitView-661"><span class="linenos"> 661</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Create an editable and movable comment on the scene of the main view at the given scene position.</span>
</span><span id="SplitView-662"><a href="#SplitView-662"><span class="linenos"> 662</span></a>
</span><span id="SplitView-663"><a href="#SplitView-663"><span class="linenos"> 663</span></a><span class="sd">        Args:</span>
</span><span id="SplitView-664"><a href="#SplitView-664"><span class="linenos"> 664</span></a><span class="sd">            pos (QPointF): position of the comment datum on the scene.</span>
</span><span id="SplitView-665"><a href="#SplitView-665"><span class="linenos"> 665</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView-666"><a href="#SplitView-666"><span class="linenos"> 666</span></a>        <span class="n">pos_on_scene</span> <span class="o">=</span> <span class="n">scene_pos</span>
</span><span id="SplitView-667"><a href="#SplitView-667"><span class="linenos"> 667</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">CommentItem</span><span class="p">(</span><span class="n">initial_scene_pos</span><span class="o">=</span><span class="n">pos_on_scene</span><span class="p">,</span> <span class="n">set_cursor_on_creation</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</span><span id="SplitView-668"><a href="#SplitView-668"><span class="linenos"> 668</span></a>
</span><span id="SplitView-669"><a href="#SplitView-669"><span class="linenos"> 669</span></a>    <span class="k">def</span> <span class="nf">on_right_click_ruler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scene_pos</span><span class="p">,</span> <span class="n">relative_origin_position</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;px&quot;</span><span class="p">,</span> <span class="n">px_per_unit</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">update_px_per_unit_on_existing</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="SplitView-670"><a href="#SplitView-670"><span class="linenos"> 670</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a movable ruler on the scene of the main view at the given scene position.</span>
</span><span id="SplitView-671"><a href="#SplitView-671"><span class="linenos"> 671</span></a>
</span><span id="SplitView-672"><a href="#SplitView-672"><span class="linenos"> 672</span></a><span class="sd">        Args:</span>
</span><span id="SplitView-673"><a href="#SplitView-673"><span class="linenos"> 673</span></a><span class="sd">            scene_pos (QPointF): The position of the ruler center on the scene.</span>
</span><span id="SplitView-674"><a href="#SplitView-674"><span class="linenos"> 674</span></a><span class="sd">            relative_origin_position (str): The position of the origin for coordinate system (&quot;topleft&quot; or &quot;bottomleft&quot;).</span>
</span><span id="SplitView-675"><a href="#SplitView-675"><span class="linenos"> 675</span></a><span class="sd">            unit (str): The text for labeling units of ruler values.</span>
</span><span id="SplitView-676"><a href="#SplitView-676"><span class="linenos"> 676</span></a><span class="sd">            px_per_unit (float): The conversion for pixels to units. For example, 10 means 10 pixels-per-unit, meaning the ruler value will show 1 when measuring 10 pixels.</span>
</span><span id="SplitView-677"><a href="#SplitView-677"><span class="linenos"> 677</span></a><span class="sd">            update_px_per_unit_on_existing (bool): False always. (Legacy from past versions; future work should remove.</span>
</span><span id="SplitView-678"><a href="#SplitView-678"><span class="linenos"> 678</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView-679"><a href="#SplitView-679"><span class="linenos"> 679</span></a>        <span class="n">placement_factor</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span>
</span><span id="SplitView-680"><a href="#SplitView-680"><span class="linenos"> 680</span></a>        <span class="n">px_per_unit</span> <span class="o">=</span> <span class="n">px_per_unit</span>
</span><span id="SplitView-681"><a href="#SplitView-681"><span class="linenos"> 681</span></a>        <span class="n">relative_origin_position</span> <span class="o">=</span> <span class="n">relative_origin_position</span>
</span><span id="SplitView-682"><a href="#SplitView-682"><span class="linenos"> 682</span></a>
</span><span id="SplitView-683"><a href="#SplitView-683"><span class="linenos"> 683</span></a>        <span class="n">widget_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">()</span>
</span><span id="SplitView-684"><a href="#SplitView-684"><span class="linenos"> 684</span></a>        <span class="n">widget_height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">()</span>
</span><span id="SplitView-685"><a href="#SplitView-685"><span class="linenos"> 685</span></a>
</span><span id="SplitView-686"><a href="#SplitView-686"><span class="linenos"> 686</span></a>        <span class="n">pos_p1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapToScene</span><span class="p">(</span><span class="n">widget_width</span><span class="o">*</span><span class="n">placement_factor</span><span class="p">,</span> <span class="n">widget_height</span><span class="o">*</span><span class="n">placement_factor</span><span class="p">)</span>
</span><span id="SplitView-687"><a href="#SplitView-687"><span class="linenos"> 687</span></a>        <span class="n">pos_p2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapToScene</span><span class="p">(</span><span class="n">widget_width</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">placement_factor</span><span class="p">),</span> <span class="n">widget_height</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">placement_factor</span><span class="p">))</span>
</span><span id="SplitView-688"><a href="#SplitView-688"><span class="linenos"> 688</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">RulerItem</span><span class="p">(</span><span class="n">unit</span><span class="o">=</span><span class="n">unit</span><span class="p">,</span> <span class="n">px_per_mm</span><span class="o">=</span><span class="n">px_per_unit</span><span class="p">,</span> <span class="n">initial_pos_p1</span><span class="o">=</span><span class="n">pos_p1</span><span class="p">,</span> <span class="n">initial_pos_p2</span><span class="o">=</span><span class="n">pos_p2</span><span class="p">,</span> <span class="n">relative_origin_position</span><span class="o">=</span><span class="n">relative_origin_position</span><span class="p">))</span>
</span><span id="SplitView-689"><a href="#SplitView-689"><span class="linenos"> 689</span></a>
</span><span id="SplitView-690"><a href="#SplitView-690"><span class="linenos"> 690</span></a>    <span class="k">def</span> <span class="nf">on_changed_px_per_unit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">unit</span><span class="p">,</span> <span class="n">px_per_unit</span><span class="p">):</span>
</span><span id="SplitView-691"><a href="#SplitView-691"><span class="linenos"> 691</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Update the units and pixel-per-unit conversions of all rulers in main scene.</span>
</span><span id="SplitView-692"><a href="#SplitView-692"><span class="linenos"> 692</span></a>
</span><span id="SplitView-693"><a href="#SplitView-693"><span class="linenos"> 693</span></a><span class="sd">        Args:</span>
</span><span id="SplitView-694"><a href="#SplitView-694"><span class="linenos"> 694</span></a><span class="sd">            unit (str): The text for labeling units of ruler values.</span>
</span><span id="SplitView-695"><a href="#SplitView-695"><span class="linenos"> 695</span></a><span class="sd">            px_per_unit (float): The conversion for pixels to units. For example, 10 means 10 pixels-per-unit, meaning the ruler value will show 1 when measuring 10 pixels.</span>
</span><span id="SplitView-696"><a href="#SplitView-696"><span class="linenos"> 696</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView-697"><a href="#SplitView-697"><span class="linenos"> 697</span></a>        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="SplitView-698"><a href="#SplitView-698"><span class="linenos"> 698</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">RulerItem</span><span class="p">):</span>
</span><span id="SplitView-699"><a href="#SplitView-699"><span class="linenos"> 699</span></a>                <span class="n">item</span><span class="o">.</span><span class="n">set_and_refresh_px_per_unit</span><span class="p">(</span><span class="n">px_per_unit</span><span class="p">)</span>
</span><span id="SplitView-700"><a href="#SplitView-700"><span class="linenos"> 700</span></a>
</span><span id="SplitView-701"><a href="#SplitView-701"><span class="linenos"> 701</span></a>    <span class="k">def</span> <span class="nf">on_right_click_save_all_comments</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView-702"><a href="#SplitView-702"><span class="linenos"> 702</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Open a dialog window for user to save all existing comments on the main scene to .csv.</span>
</span><span id="SplitView-703"><a href="#SplitView-703"><span class="linenos"> 703</span></a><span class="sd">        </span>
</span><span id="SplitView-704"><a href="#SplitView-704"><span class="linenos"> 704</span></a><span class="sd">        Triggered from right-click menu on view.</span>
</span><span id="SplitView-705"><a href="#SplitView-705"><span class="linenos"> 705</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView-706"><a href="#SplitView-706"><span class="linenos"> 706</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">display_loading_grayout</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;Selecting folder and name for saving all comments in current view...&quot;</span><span class="p">,</span> <span class="n">pseudo_load_time</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="SplitView-707"><a href="#SplitView-707"><span class="linenos"> 707</span></a>
</span><span id="SplitView-708"><a href="#SplitView-708"><span class="linenos"> 708</span></a>        <span class="n">style</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="SplitView-709"><a href="#SplitView-709"><span class="linenos"> 709</span></a>        <span class="n">x</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="SplitView-710"><a href="#SplitView-710"><span class="linenos"> 710</span></a>        <span class="n">y</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="SplitView-711"><a href="#SplitView-711"><span class="linenos"> 711</span></a>        <span class="n">color</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="SplitView-712"><a href="#SplitView-712"><span class="linenos"> 712</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="SplitView-713"><a href="#SplitView-713"><span class="linenos"> 713</span></a>        <span class="n">i</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
</span><span id="SplitView-714"><a href="#SplitView-714"><span class="linenos"> 714</span></a>        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="SplitView-715"><a href="#SplitView-715"><span class="linenos"> 715</span></a>            
</span><span id="SplitView-716"><a href="#SplitView-716"><span class="linenos"> 716</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">CommentItem</span><span class="p">):</span>
</span><span id="SplitView-717"><a href="#SplitView-717"><span class="linenos"> 717</span></a>                <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="SplitView-718"><a href="#SplitView-718"><span class="linenos"> 718</span></a>                
</span><span id="SplitView-719"><a href="#SplitView-719"><span class="linenos"> 719</span></a>                <span class="n">comment_pos</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">get_scene_pos</span><span class="p">()</span>
</span><span id="SplitView-720"><a href="#SplitView-720"><span class="linenos"> 720</span></a>                <span class="n">comment_color</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">get_color</span><span class="p">()</span>
</span><span id="SplitView-721"><a href="#SplitView-721"><span class="linenos"> 721</span></a>                <span class="n">comment_string</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">get_comment_text_str</span><span class="p">()</span>
</span><span id="SplitView-722"><a href="#SplitView-722"><span class="linenos"> 722</span></a>
</span><span id="SplitView-723"><a href="#SplitView-723"><span class="linenos"> 723</span></a>                <span class="n">style</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;plain text&quot;</span><span class="p">)</span>
</span><span id="SplitView-724"><a href="#SplitView-724"><span class="linenos"> 724</span></a>                <span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">comment_pos</span><span class="o">.</span><span class="n">x</span><span class="p">())</span>
</span><span id="SplitView-725"><a href="#SplitView-725"><span class="linenos"> 725</span></a>                <span class="n">y</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">comment_pos</span><span class="o">.</span><span class="n">y</span><span class="p">())</span>
</span><span id="SplitView-726"><a href="#SplitView-726"><span class="linenos"> 726</span></a>                <span class="n">color</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">comment_color</span><span class="p">)</span>
</span><span id="SplitView-727"><a href="#SplitView-727"><span class="linenos"> 727</span></a>                <span class="n">string</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">comment_string</span><span class="p">)</span>
</span><span id="SplitView-728"><a href="#SplitView-728"><span class="linenos"> 728</span></a>
</span><span id="SplitView-729"><a href="#SplitView-729"><span class="linenos"> 729</span></a>
</span><span id="SplitView-730"><a href="#SplitView-730"><span class="linenos"> 730</span></a>        <span class="n">folderpath</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="SplitView-731"><a href="#SplitView-731"><span class="linenos"> 731</span></a>        <span class="n">filepath_mainview</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">currentFile</span>
</span><span id="SplitView-732"><a href="#SplitView-732"><span class="linenos"> 732</span></a>
</span><span id="SplitView-733"><a href="#SplitView-733"><span class="linenos"> 733</span></a>        <span class="k">if</span> <span class="n">filepath_mainview</span><span class="p">:</span>
</span><span id="SplitView-734"><a href="#SplitView-734"><span class="linenos"> 734</span></a>            <span class="n">folderpath</span> <span class="o">=</span> <span class="n">filepath_mainview</span>
</span><span id="SplitView-735"><a href="#SplitView-735"><span class="linenos"> 735</span></a>            <span class="n">folderpath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">folderpath</span><span class="p">)</span>
</span><span id="SplitView-736"><a href="#SplitView-736"><span class="linenos"> 736</span></a>            <span class="n">folderpath</span> <span class="o">=</span> <span class="n">folderpath</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span>
</span><span id="SplitView-737"><a href="#SplitView-737"><span class="linenos"> 737</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="SplitView-738"><a href="#SplitView-738"><span class="linenos"> 738</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">display_loading_grayout</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="n">pseudo_load_time</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="SplitView-739"><a href="#SplitView-739"><span class="linenos"> 739</span></a>            <span class="k">return</span>
</span><span id="SplitView-740"><a href="#SplitView-740"><span class="linenos"> 740</span></a>        
</span><span id="SplitView-741"><a href="#SplitView-741"><span class="linenos"> 741</span></a>        <span class="n">header</span> <span class="o">=</span> <span class="p">[[</span><span class="s2">&quot;Butterfly Viewer&quot;</span><span class="p">],</span>
</span><span id="SplitView-742"><a href="#SplitView-742"><span class="linenos"> 742</span></a>                  <span class="p">[</span><span class="s2">&quot;1.0&quot;</span><span class="p">],</span>
</span><span id="SplitView-743"><a href="#SplitView-743"><span class="linenos"> 743</span></a>                  <span class="p">[</span><span class="s2">&quot;comments&quot;</span><span class="p">],</span>
</span><span id="SplitView-744"><a href="#SplitView-744"><span class="linenos"> 744</span></a>                  <span class="p">[</span><span class="s2">&quot;no details&quot;</span><span class="p">],</span>
</span><span id="SplitView-745"><a href="#SplitView-745"><span class="linenos"> 745</span></a>                  <span class="p">[</span><span class="s2">&quot;origin&quot;</span><span class="p">],</span>
</span><span id="SplitView-746"><a href="#SplitView-746"><span class="linenos"> 746</span></a>                  <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">filepath_mainview</span><span class="p">)],</span>
</span><span id="SplitView-747"><a href="#SplitView-747"><span class="linenos"> 747</span></a>                  <span class="p">[</span><span class="s2">&quot;Style&quot;</span><span class="p">,</span> <span class="s2">&quot;Image x&quot;</span><span class="p">,</span> <span class="s2">&quot;Image y&quot;</span><span class="p">,</span> <span class="s2">&quot;Appearance&quot;</span><span class="p">,</span> <span class="s2">&quot;String&quot;</span><span class="p">]]</span>
</span><span id="SplitView-748"><a href="#SplitView-748"><span class="linenos"> 748</span></a>
</span><span id="SplitView-749"><a href="#SplitView-749"><span class="linenos"> 749</span></a>        <span class="n">date_and_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1"> %H%M%S&#39;</span><span class="p">)</span> <span class="c1"># Sets the default filename with date and time </span>
</span><span id="SplitView-750"><a href="#SplitView-750"><span class="linenos"> 750</span></a>        <span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;Untitled comments&quot;</span> <span class="o">+</span> <span class="s2">&quot; - &quot;</span> <span class="o">+</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">filepath_mainview</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot; - &quot;</span> <span class="o">+</span> <span class="n">date_and_time</span> <span class="o">+</span> <span class="s2">&quot;.csv&quot;</span>
</span><span id="SplitView-751"><a href="#SplitView-751"><span class="linenos"> 751</span></a>        <span class="n">name_filters</span> <span class="o">=</span> <span class="s2">&quot;CSV (*.csv)&quot;</span> <span class="c1"># Allows users to select filetype of screenshot</span>
</span><span id="SplitView-752"><a href="#SplitView-752"><span class="linenos"> 752</span></a>        
</span><span id="SplitView-753"><a href="#SplitView-753"><span class="linenos"> 753</span></a>        <span class="n">filepath</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QFileDialog</span><span class="o">.</span><span class="n">getSaveFileName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Save all comments of current view to .csv&quot;</span><span class="p">,</span> <span class="n">folderpath</span><span class="o">+</span><span class="n">filename</span><span class="p">,</span> <span class="n">name_filters</span><span class="p">)</span>
</span><span id="SplitView-754"><a href="#SplitView-754"><span class="linenos"> 754</span></a>
</span><span id="SplitView-755"><a href="#SplitView-755"><span class="linenos"> 755</span></a>        <span class="k">if</span> <span class="n">filepath</span><span class="p">:</span>
</span><span id="SplitView-756"><a href="#SplitView-756"><span class="linenos"> 756</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">display_loading_grayout</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;Saving all comments of current view to .csv...&quot;</span><span class="p">)</span>
</span><span id="SplitView-757"><a href="#SplitView-757"><span class="linenos"> 757</span></a>
</span><span id="SplitView-758"><a href="#SplitView-758"><span class="linenos"> 758</span></a>            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">csv_file</span><span class="p">:</span>
</span><span id="SplitView-759"><a href="#SplitView-759"><span class="linenos"> 759</span></a>                <span class="n">csv_writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">writer</span><span class="p">(</span><span class="n">csv_file</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s2">&quot;|&quot;</span><span class="p">)</span>
</span><span id="SplitView-760"><a href="#SplitView-760"><span class="linenos"> 760</span></a>                <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">header</span><span class="p">:</span>
</span><span id="SplitView-761"><a href="#SplitView-761"><span class="linenos"> 761</span></a>                    <span class="n">csv_writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
</span><span id="SplitView-762"><a href="#SplitView-762"><span class="linenos"> 762</span></a>                <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">style</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="n">string</span><span class="p">):</span>
</span><span id="SplitView-763"><a href="#SplitView-763"><span class="linenos"> 763</span></a>                    <span class="n">csv_writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
</span><span id="SplitView-764"><a href="#SplitView-764"><span class="linenos"> 764</span></a>
</span><span id="SplitView-765"><a href="#SplitView-765"><span class="linenos"> 765</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">display_loading_grayout</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</span><span id="SplitView-766"><a href="#SplitView-766"><span class="linenos"> 766</span></a>
</span><span id="SplitView-767"><a href="#SplitView-767"><span class="linenos"> 767</span></a>
</span><span id="SplitView-768"><a href="#SplitView-768"><span class="linenos"> 768</span></a>    <span class="k">def</span> <span class="nf">on_right_click_load_comments</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView-769"><a href="#SplitView-769"><span class="linenos"> 769</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Open a dialog window for user to load comments to the main scene via .csv as saved previously.</span>
</span><span id="SplitView-770"><a href="#SplitView-770"><span class="linenos"> 770</span></a><span class="sd">        </span>
</span><span id="SplitView-771"><a href="#SplitView-771"><span class="linenos"> 771</span></a><span class="sd">        Triggered from right-click menu on view.</span>
</span><span id="SplitView-772"><a href="#SplitView-772"><span class="linenos"> 772</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView-773"><a href="#SplitView-773"><span class="linenos"> 773</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">display_loading_grayout</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;Selecting comment file (.csv) to load into current view...&quot;</span><span class="p">,</span> <span class="n">pseudo_load_time</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="SplitView-774"><a href="#SplitView-774"><span class="linenos"> 774</span></a>
</span><span id="SplitView-775"><a href="#SplitView-775"><span class="linenos"> 775</span></a>        <span class="n">folderpath</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="SplitView-776"><a href="#SplitView-776"><span class="linenos"> 776</span></a>        <span class="n">filepath_mainview</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">currentFile</span>
</span><span id="SplitView-777"><a href="#SplitView-777"><span class="linenos"> 777</span></a>
</span><span id="SplitView-778"><a href="#SplitView-778"><span class="linenos"> 778</span></a>        <span class="k">if</span> <span class="n">filepath_mainview</span><span class="p">:</span>
</span><span id="SplitView-779"><a href="#SplitView-779"><span class="linenos"> 779</span></a>            <span class="n">folderpath</span> <span class="o">=</span> <span class="n">filepath_mainview</span>
</span><span id="SplitView-780"><a href="#SplitView-780"><span class="linenos"> 780</span></a>            <span class="n">folderpath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">folderpath</span><span class="p">)</span>
</span><span id="SplitView-781"><a href="#SplitView-781"><span class="linenos"> 781</span></a>            <span class="c1"># folderpath = folderpath + &quot;\\&quot;</span>
</span><span id="SplitView-782"><a href="#SplitView-782"><span class="linenos"> 782</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="SplitView-783"><a href="#SplitView-783"><span class="linenos"> 783</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">display_loading_grayout</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="n">pseudo_load_time</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="SplitView-784"><a href="#SplitView-784"><span class="linenos"> 784</span></a>            <span class="k">return</span>
</span><span id="SplitView-785"><a href="#SplitView-785"><span class="linenos"> 785</span></a>
</span><span id="SplitView-786"><a href="#SplitView-786"><span class="linenos"> 786</span></a>        <span class="n">filename</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QFileDialog</span><span class="o">.</span><span class="n">getOpenFileName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Select comment file (.csv) to load into current view&quot;</span><span class="p">,</span> <span class="n">folderpath</span><span class="p">,</span> <span class="s2">&quot;Comma-Separated Value File (*.csv)&quot;</span><span class="p">)</span>
</span><span id="SplitView-787"><a href="#SplitView-787"><span class="linenos"> 787</span></a>
</span><span id="SplitView-788"><a href="#SplitView-788"><span class="linenos"> 788</span></a>        <span class="k">if</span> <span class="n">filename</span><span class="p">:</span>
</span><span id="SplitView-789"><a href="#SplitView-789"><span class="linenos"> 789</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">display_loading_grayout</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;Loading comments from selected .csv into current view...&quot;</span><span class="p">)</span>
</span><span id="SplitView-790"><a href="#SplitView-790"><span class="linenos"> 790</span></a>
</span><span id="SplitView-791"><a href="#SplitView-791"><span class="linenos"> 791</span></a>            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">csv_file</span><span class="p">:</span>
</span><span id="SplitView-792"><a href="#SplitView-792"><span class="linenos"> 792</span></a>                <span class="n">csv_reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">csv_file</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s2">&quot;|&quot;</span><span class="p">)</span>
</span><span id="SplitView-793"><a href="#SplitView-793"><span class="linenos"> 793</span></a>                <span class="n">csv_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">csv_reader</span><span class="p">)</span>
</span><span id="SplitView-794"><a href="#SplitView-794"><span class="linenos"> 794</span></a>
</span><span id="SplitView-795"><a href="#SplitView-795"><span class="linenos"> 795</span></a>                <span class="n">i</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="SplitView-796"><a href="#SplitView-796"><span class="linenos"> 796</span></a>
</span><span id="SplitView-797"><a href="#SplitView-797"><span class="linenos"> 797</span></a>                <span class="k">try</span><span class="p">:</span>
</span><span id="SplitView-798"><a href="#SplitView-798"><span class="linenos"> 798</span></a>                    <span class="n">i</span> <span class="o">=</span> <span class="n">csv_list</span><span class="o">.</span><span class="n">index</span><span class="p">([</span><span class="s2">&quot;Style&quot;</span><span class="p">,</span> <span class="s2">&quot;Image x&quot;</span><span class="p">,</span> <span class="s2">&quot;Image y&quot;</span><span class="p">,</span> <span class="s2">&quot;Appearance&quot;</span><span class="p">,</span> <span class="s2">&quot;String&quot;</span><span class="p">])</span>
</span><span id="SplitView-799"><a href="#SplitView-799"><span class="linenos"> 799</span></a>                <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
</span><span id="SplitView-800"><a href="#SplitView-800"><span class="linenos"> 800</span></a>                    <span class="n">box_type</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Warning</span>
</span><span id="SplitView-801"><a href="#SplitView-801"><span class="linenos"> 801</span></a>                    <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Invalid .csv comment file&quot;</span>
</span><span id="SplitView-802"><a href="#SplitView-802"><span class="linenos"> 802</span></a>                    <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;The selected .csv comment file does not have a format accepted by this app.&quot;</span>
</span><span id="SplitView-803"><a href="#SplitView-803"><span class="linenos"> 803</span></a>                    <span class="n">box_buttons</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Close</span>
</span><span id="SplitView-804"><a href="#SplitView-804"><span class="linenos"> 804</span></a>                    <span class="n">box</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="p">(</span><span class="n">box_type</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">box_buttons</span><span class="p">)</span>
</span><span id="SplitView-805"><a href="#SplitView-805"><span class="linenos"> 805</span></a>                    <span class="n">box</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
</span><span id="SplitView-806"><a href="#SplitView-806"><span class="linenos"> 806</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="SplitView-807"><a href="#SplitView-807"><span class="linenos"> 807</span></a>                    <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span> <span class="c1"># Move to first comment item</span>
</span><span id="SplitView-808"><a href="#SplitView-808"><span class="linenos"> 808</span></a>                    <span class="n">no_comments</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="SplitView-809"><a href="#SplitView-809"><span class="linenos"> 809</span></a>                    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">csv_list</span><span class="p">[</span><span class="n">i</span><span class="p">:]:</span>
</span><span id="SplitView-810"><a href="#SplitView-810"><span class="linenos"> 810</span></a>                        <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;plain text&quot;</span><span class="p">:</span>
</span><span id="SplitView-811"><a href="#SplitView-811"><span class="linenos"> 811</span></a>                            <span class="n">no_comments</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="SplitView-812"><a href="#SplitView-812"><span class="linenos"> 812</span></a>                            <span class="n">comment_x</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="SplitView-813"><a href="#SplitView-813"><span class="linenos"> 813</span></a>                            <span class="n">comment_y</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</span><span id="SplitView-814"><a href="#SplitView-814"><span class="linenos"> 814</span></a>                            <span class="n">comment_color</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
</span><span id="SplitView-815"><a href="#SplitView-815"><span class="linenos"> 815</span></a>                            <span class="n">comment_string</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
</span><span id="SplitView-816"><a href="#SplitView-816"><span class="linenos"> 816</span></a>                            <span class="n">comment_pos</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">comment_x</span><span class="p">,</span> <span class="n">comment_y</span><span class="p">)</span>
</span><span id="SplitView-817"><a href="#SplitView-817"><span class="linenos"> 817</span></a>                            <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">CommentItem</span><span class="p">(</span><span class="n">initial_scene_pos</span><span class="o">=</span><span class="n">comment_pos</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">comment_color</span><span class="p">,</span> <span class="n">comment_text</span><span class="o">=</span><span class="n">comment_string</span><span class="p">,</span> <span class="n">set_cursor_on_creation</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</span><span id="SplitView-818"><a href="#SplitView-818"><span class="linenos"> 818</span></a>                    <span class="k">if</span> <span class="n">no_comments</span><span class="p">:</span>
</span><span id="SplitView-819"><a href="#SplitView-819"><span class="linenos"> 819</span></a>                        <span class="n">box_type</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Warning</span>
</span><span id="SplitView-820"><a href="#SplitView-820"><span class="linenos"> 820</span></a>                        <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;No comments in .csv&quot;</span>
</span><span id="SplitView-821"><a href="#SplitView-821"><span class="linenos"> 821</span></a>                        <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;No comments found in the selected .csv comment file.&quot;</span>
</span><span id="SplitView-822"><a href="#SplitView-822"><span class="linenos"> 822</span></a>                        <span class="n">box_buttons</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Close</span>
</span><span id="SplitView-823"><a href="#SplitView-823"><span class="linenos"> 823</span></a>                        <span class="n">box</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="p">(</span><span class="n">box_type</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">box_buttons</span><span class="p">)</span>
</span><span id="SplitView-824"><a href="#SplitView-824"><span class="linenos"> 824</span></a>                        <span class="n">box</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
</span><span id="SplitView-825"><a href="#SplitView-825"><span class="linenos"> 825</span></a>                    
</span><span id="SplitView-826"><a href="#SplitView-826"><span class="linenos"> 826</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">display_loading_grayout</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</span><span id="SplitView-827"><a href="#SplitView-827"><span class="linenos"> 827</span></a>
</span><span id="SplitView-828"><a href="#SplitView-828"><span class="linenos"> 828</span></a>    <span class="k">def</span> <span class="nf">on_right_click_set_relative_origin_position</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">string</span><span class="p">):</span>
</span><span id="SplitView-829"><a href="#SplitView-829"><span class="linenos"> 829</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set orientation of the coordinate system for rulers by positioning the relative origin.</span>
</span><span id="SplitView-830"><a href="#SplitView-830"><span class="linenos"> 830</span></a>
</span><span id="SplitView-831"><a href="#SplitView-831"><span class="linenos"> 831</span></a><span class="sd">        Allows users to switch the coordinate orientation:</span>
</span><span id="SplitView-832"><a href="#SplitView-832"><span class="linenos"> 832</span></a><span class="sd">            &quot;bottomleft&quot; for Cartesian-style (positive X right, positive Y up)</span>
</span><span id="SplitView-833"><a href="#SplitView-833"><span class="linenos"> 833</span></a><span class="sd">            topleft&quot; for image-style (positive X right, positive Y down)</span>
</span><span id="SplitView-834"><a href="#SplitView-834"><span class="linenos"> 834</span></a>
</span><span id="SplitView-835"><a href="#SplitView-835"><span class="linenos"> 835</span></a><span class="sd">        Args:</span>
</span><span id="SplitView-836"><a href="#SplitView-836"><span class="linenos"> 836</span></a><span class="sd">            relative_origin_position (str): The position of the origin for coordinate system (&quot;topleft&quot; or &quot;bottomleft&quot;).</span>
</span><span id="SplitView-837"><a href="#SplitView-837"><span class="linenos"> 837</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView-838"><a href="#SplitView-838"><span class="linenos"> 838</span></a>        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="SplitView-839"><a href="#SplitView-839"><span class="linenos"> 839</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">RulerItem</span><span class="p">):</span>
</span><span id="SplitView-840"><a href="#SplitView-840"><span class="linenos"> 840</span></a>                <span class="n">item</span><span class="o">.</span><span class="n">set_and_refresh_relative_origin_position</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
</span><span id="SplitView-841"><a href="#SplitView-841"><span class="linenos"> 841</span></a>
</span><span id="SplitView-842"><a href="#SplitView-842"><span class="linenos"> 842</span></a>    <span class="k">def</span> <span class="nf">display_loading_grayout</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">boolean</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Loading...&quot;</span><span class="p">,</span> <span class="n">pseudo_load_time</span><span class="o">=</span><span class="mf">0.2</span><span class="p">):</span>
</span><span id="SplitView-843"><a href="#SplitView-843"><span class="linenos"> 843</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Emit signal for showing/hiding a grayout screen to indicate loading sequences.</span>
</span><span id="SplitView-844"><a href="#SplitView-844"><span class="linenos"> 844</span></a>
</span><span id="SplitView-845"><a href="#SplitView-845"><span class="linenos"> 845</span></a><span class="sd">        Args:</span>
</span><span id="SplitView-846"><a href="#SplitView-846"><span class="linenos"> 846</span></a><span class="sd">            boolean (bool): True to show grayout; False to hide.</span>
</span><span id="SplitView-847"><a href="#SplitView-847"><span class="linenos"> 847</span></a><span class="sd">            text (str): The text to show on the grayout.</span>
</span><span id="SplitView-848"><a href="#SplitView-848"><span class="linenos"> 848</span></a><span class="sd">            pseudo_load_time (float): The delay (in seconds) to hide the grayout to give user feeling of action.</span>
</span><span id="SplitView-849"><a href="#SplitView-849"><span class="linenos"> 849</span></a><span class="sd">        &quot;&quot;&quot;</span> 
</span><span id="SplitView-850"><a href="#SplitView-850"><span class="linenos"> 850</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">signal_display_loading_grayout</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">pseudo_load_time</span><span class="p">)</span>
</span><span id="SplitView-851"><a href="#SplitView-851"><span class="linenos"> 851</span></a>        
</span><span id="SplitView-852"><a href="#SplitView-852"><span class="linenos"> 852</span></a>    <span class="k">def</span> <span class="nf">update_mouse_rect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="SplitView-853"><a href="#SplitView-853"><span class="linenos"> 853</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Update the position of red 1x1 outline at the pointer in the main scene.</span>
</span><span id="SplitView-854"><a href="#SplitView-854"><span class="linenos"> 854</span></a>
</span><span id="SplitView-855"><a href="#SplitView-855"><span class="linenos"> 855</span></a><span class="sd">        Args:</span>
</span><span id="SplitView-856"><a href="#SplitView-856"><span class="linenos"> 856</span></a><span class="sd">            pos (QPoint): The position of the mouse on the widget. Set to None to make the function determine the position using the mouse global coordinates.</span>
</span><span id="SplitView-857"><a href="#SplitView-857"><span class="linenos"> 857</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView-858"><a href="#SplitView-858"><span class="linenos"> 858</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_scene_main_topleft</span><span class="p">:</span>
</span><span id="SplitView-859"><a href="#SplitView-859"><span class="linenos"> 859</span></a>            <span class="k">return</span>
</span><span id="SplitView-860"><a href="#SplitView-860"><span class="linenos"> 860</span></a>    
</span><span id="SplitView-861"><a href="#SplitView-861"><span class="linenos"> 861</span></a>        <span class="k">if</span> <span class="n">pos</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span> <span class="c1"># Get position of split on main scene by directly pulling mouse global coordinates</span>
</span><span id="SplitView-862"><a href="#SplitView-862"><span class="linenos"> 862</span></a>            <span class="n">point_of_cursor_global</span>      <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QCursor</span><span class="o">.</span><span class="n">pos</span><span class="p">()</span>
</span><span id="SplitView-863"><a href="#SplitView-863"><span class="linenos"> 863</span></a>            <span class="n">point_of_mouse_on_widget</span>    <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapFromGlobal</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QCursor</span><span class="o">.</span><span class="n">pos</span><span class="p">())</span>
</span><span id="SplitView-864"><a href="#SplitView-864"><span class="linenos"> 864</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="SplitView-865"><a href="#SplitView-865"><span class="linenos"> 865</span></a>            <span class="n">point_of_mouse_on_widget</span> <span class="o">=</span> <span class="n">pos</span>
</span><span id="SplitView-866"><a href="#SplitView-866"><span class="linenos"> 866</span></a>    
</span><span id="SplitView-867"><a href="#SplitView-867"><span class="linenos"> 867</span></a>        <span class="n">mouse_rect_pos_origin</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapToScene</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span><span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">y</span><span class="p">())</span>
</span><span id="SplitView-868"><a href="#SplitView-868"><span class="linenos"> 868</span></a>        <span class="n">mouse_rect_pos_origin</span><span class="o">.</span><span class="n">setX</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">mouse_rect_pos_origin</span><span class="o">.</span><span class="n">x</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_width</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
</span><span id="SplitView-869"><a href="#SplitView-869"><span class="linenos"> 869</span></a>        <span class="n">mouse_rect_pos_origin</span><span class="o">.</span><span class="n">setY</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">mouse_rect_pos_origin</span><span class="o">.</span><span class="n">y</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_height</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
</span><span id="SplitView-870"><a href="#SplitView-870"><span class="linenos"> 870</span></a>        
</span><span id="SplitView-871"><a href="#SplitView-871"><span class="linenos"> 871</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_scene_main_topleft</span><span class="o">.</span><span class="n">setPos</span><span class="p">(</span><span class="n">mouse_rect_pos_origin</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span> <span class="n">mouse_rect_pos_origin</span><span class="o">.</span><span class="n">y</span><span class="p">())</span>
</span><span id="SplitView-872"><a href="#SplitView-872"><span class="linenos"> 872</span></a>    
</span><span id="SplitView-873"><a href="#SplitView-873"><span class="linenos"> 873</span></a>    <span class="c1"># Signals</span>
</span><span id="SplitView-874"><a href="#SplitView-874"><span class="linenos"> 874</span></a>    <span class="n">signal_display_loading_grayout</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">pyqtSignal</span><span class="p">(</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
</span><span id="SplitView-875"><a href="#SplitView-875"><span class="linenos"> 875</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Emitted when comments are being saved or loaded.&quot;&quot;&quot;</span>
</span><span id="SplitView-876"><a href="#SplitView-876"><span class="linenos"> 876</span></a>
</span><span id="SplitView-877"><a href="#SplitView-877"><span class="linenos"> 877</span></a>    <span class="n">became_closed</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">pyqtSignal</span><span class="p">()</span>
</span><span id="SplitView-878"><a href="#SplitView-878"><span class="linenos"> 878</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Emitted when SplitView is closed.&quot;&quot;&quot;</span>
</span><span id="SplitView-879"><a href="#SplitView-879"><span class="linenos"> 879</span></a>
</span><span id="SplitView-880"><a href="#SplitView-880"><span class="linenos"> 880</span></a>    <span class="n">was_clicked_close_pushbutton</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">pyqtSignal</span><span class="p">()</span>
</span><span id="SplitView-881"><a href="#SplitView-881"><span class="linenos"> 881</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Emitted when close pushbutton is clicked (pressed+released).&quot;&quot;&quot;</span>
</span><span id="SplitView-882"><a href="#SplitView-882"><span class="linenos"> 882</span></a>
</span><span id="SplitView-883"><a href="#SplitView-883"><span class="linenos"> 883</span></a>    <span class="n">was_set_global_transform_mode</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">pyqtSignal</span><span class="p">(</span><span class="nb">bool</span><span class="p">)</span>
</span><span id="SplitView-884"><a href="#SplitView-884"><span class="linenos"> 884</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Emitted when transform mode is set for all views in right-click menu (passes it along).&quot;&quot;&quot;</span>
</span><span id="SplitView-885"><a href="#SplitView-885"><span class="linenos"> 885</span></a>
</span><span id="SplitView-886"><a href="#SplitView-886"><span class="linenos"> 886</span></a>    <span class="n">was_set_scene_background_color</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">pyqtSignal</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
</span><span id="SplitView-887"><a href="#SplitView-887"><span class="linenos"> 887</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Emitted when background color is set in right-click menu (passes it along).&quot;&quot;&quot;</span>
</span><span id="SplitView-888"><a href="#SplitView-888"><span class="linenos"> 888</span></a>
</span><span id="SplitView-889"><a href="#SplitView-889"><span class="linenos"> 889</span></a>    <span class="n">was_set_sync_zoom_by</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">pyqtSignal</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
</span><span id="SplitView-890"><a href="#SplitView-890"><span class="linenos"> 890</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Emitted when sync zoom option is set in right-click menu (passes it along).&quot;&quot;&quot;</span>
</span><span id="SplitView-891"><a href="#SplitView-891"><span class="linenos"> 891</span></a>
</span><span id="SplitView-892"><a href="#SplitView-892"><span class="linenos"> 892</span></a>    <span class="n">positionChanged</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">pyqtSignal</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QPoint</span><span class="p">)</span>
</span><span id="SplitView-893"><a href="#SplitView-893"><span class="linenos"> 893</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Emitted when mouse changes position.&quot;&quot;&quot;</span>
</span><span id="SplitView-894"><a href="#SplitView-894"><span class="linenos"> 894</span></a>
</span><span id="SplitView-895"><a href="#SplitView-895"><span class="linenos"> 895</span></a>    <span class="n">sceneChanged</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">pyqtSignal</span><span class="p">(</span><span class="s1">&#39;QList&lt;QRectF&gt;&#39;</span><span class="p">)</span>
</span><span id="SplitView-896"><a href="#SplitView-896"><span class="linenos"> 896</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Scene Changed **Signal**.</span>
</span><span id="SplitView-897"><a href="#SplitView-897"><span class="linenos"> 897</span></a>
</span><span id="SplitView-898"><a href="#SplitView-898"><span class="linenos"> 898</span></a><span class="sd">    Emitted whenever the |QGraphicsScene| content changes.&quot;&quot;&quot;</span>
</span><span id="SplitView-899"><a href="#SplitView-899"><span class="linenos"> 899</span></a>    
</span><span id="SplitView-900"><a href="#SplitView-900"><span class="linenos"> 900</span></a>    <span class="n">transformChanged</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">pyqtSignal</span><span class="p">()</span>
</span><span id="SplitView-901"><a href="#SplitView-901"><span class="linenos"> 901</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Transformed Changed **Signal**.</span>
</span><span id="SplitView-902"><a href="#SplitView-902"><span class="linenos"> 902</span></a>
</span><span id="SplitView-903"><a href="#SplitView-903"><span class="linenos"> 903</span></a><span class="sd">    Emitted whenever the |QGraphicsView| Transform matrix has been changed.&quot;&quot;&quot;</span>
</span><span id="SplitView-904"><a href="#SplitView-904"><span class="linenos"> 904</span></a>
</span><span id="SplitView-905"><a href="#SplitView-905"><span class="linenos"> 905</span></a>    <span class="n">scrollChanged</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">pyqtSignal</span><span class="p">()</span>
</span><span id="SplitView-906"><a href="#SplitView-906"><span class="linenos"> 906</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Scroll Changed **Signal**.</span>
</span><span id="SplitView-907"><a href="#SplitView-907"><span class="linenos"> 907</span></a>
</span><span id="SplitView-908"><a href="#SplitView-908"><span class="linenos"> 908</span></a><span class="sd">    Emitted whenever the scrollbar position or range has changed.&quot;&quot;&quot;</span>
</span><span id="SplitView-909"><a href="#SplitView-909"><span class="linenos"> 909</span></a>
</span><span id="SplitView-910"><a href="#SplitView-910"><span class="linenos"> 910</span></a>    <span class="k">def</span> <span class="nf">connectSbarSignals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slot</span><span class="p">):</span>
</span><span id="SplitView-911"><a href="#SplitView-911"><span class="linenos"> 911</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Connect to scrollbar changed signals.</span>
</span><span id="SplitView-912"><a href="#SplitView-912"><span class="linenos"> 912</span></a>
</span><span id="SplitView-913"><a href="#SplitView-913"><span class="linenos"> 913</span></a><span class="sd">        :param slot: slot to connect scrollbar signals to.&quot;&quot;&quot;</span>
</span><span id="SplitView-914"><a href="#SplitView-914"><span class="linenos"> 914</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">connectSbarSignals</span><span class="p">(</span><span class="n">slot</span><span class="p">)</span>
</span><span id="SplitView-915"><a href="#SplitView-915"><span class="linenos"> 915</span></a>
</span><span id="SplitView-916"><a href="#SplitView-916"><span class="linenos"> 916</span></a>    <span class="k">def</span> <span class="nf">disconnectSbarSignals</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView-917"><a href="#SplitView-917"><span class="linenos"> 917</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">disconnectSbarSignals</span><span class="p">()</span>
</span><span id="SplitView-918"><a href="#SplitView-918"><span class="linenos"> 918</span></a>
</span><span id="SplitView-919"><a href="#SplitView-919"><span class="linenos"> 919</span></a>    <span class="nd">@property</span>
</span><span id="SplitView-920"><a href="#SplitView-920"><span class="linenos"> 920</span></a>    <span class="k">def</span> <span class="nf">pixmap_main_topleft</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView-921"><a href="#SplitView-921"><span class="linenos"> 921</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;The currently viewed |QPixmap| (*QPixmap*).&quot;&quot;&quot;</span>
</span><span id="SplitView-922"><a href="#SplitView-922"><span class="linenos"> 922</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_main_topleft</span><span class="o">.</span><span class="n">pixmap</span><span class="p">()</span>
</span><span id="SplitView-923"><a href="#SplitView-923"><span class="linenos"> 923</span></a>
</span><span id="SplitView-924"><a href="#SplitView-924"><span class="linenos"> 924</span></a>    <span class="nd">@pixmap_main_topleft</span><span class="o">.</span><span class="n">setter</span>
</span><span id="SplitView-925"><a href="#SplitView-925"><span class="linenos"> 925</span></a>    <span class="k">def</span> <span class="nf">pixmap_main_topleft</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pixmap_main_topleft</span><span class="p">):</span>
</span><span id="SplitView-926"><a href="#SplitView-926"><span class="linenos"> 926</span></a>        <span class="k">if</span> <span class="n">pixmap_main_topleft</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="SplitView-927"><a href="#SplitView-927"><span class="linenos"> 927</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_main_topleft</span><span class="o">.</span><span class="n">setPixmap</span><span class="p">(</span><span class="n">pixmap_main_topleft</span><span class="p">)</span>
</span><span id="SplitView-928"><a href="#SplitView-928"><span class="linenos"> 928</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_main_topleft</span><span class="o">.</span><span class="n">setTransformationMode</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">SmoothTransformation</span><span class="p">)</span>
</span><span id="SplitView-929"><a href="#SplitView-929"><span class="linenos"> 929</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_base_original</span> <span class="o">=</span> <span class="n">pixmap_main_topleft</span>
</span><span id="SplitView-930"><a href="#SplitView-930"><span class="linenos"> 930</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">set_opacity_base</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</span><span id="SplitView-931"><a href="#SplitView-931"><span class="linenos"> 931</span></a>
</span><span id="SplitView-932"><a href="#SplitView-932"><span class="linenos"> 932</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="SplitView-933"><a href="#SplitView-933"><span class="linenos"> 933</span></a>    <span class="k">def</span> <span class="nf">set_opacity_base</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">percent</span><span class="p">):</span>
</span><span id="SplitView-934"><a href="#SplitView-934"><span class="linenos"> 934</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set transparency of base image.</span>
</span><span id="SplitView-935"><a href="#SplitView-935"><span class="linenos"> 935</span></a><span class="sd">        </span>
</span><span id="SplitView-936"><a href="#SplitView-936"><span class="linenos"> 936</span></a><span class="sd">        Args:</span>
</span><span id="SplitView-937"><a href="#SplitView-937"><span class="linenos"> 937</span></a><span class="sd">            percent (float,int): The transparency as percent opacity, where 100 is opaque (not transparent) and 0 is transparent (0-100).</span>
</span><span id="SplitView-938"><a href="#SplitView-938"><span class="linenos"> 938</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView-939"><a href="#SplitView-939"><span class="linenos"> 939</span></a>        
</span><span id="SplitView-940"><a href="#SplitView-940"><span class="linenos"> 940</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_opacity_base</span> <span class="o">=</span> <span class="n">percent</span>
</span><span id="SplitView-941"><a href="#SplitView-941"><span class="linenos"> 941</span></a>
</span><span id="SplitView-942"><a href="#SplitView-942"><span class="linenos"> 942</span></a>        <span class="n">pixmap_to_be_transparent</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPixmap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_base_original</span><span class="o">.</span><span class="n">size</span><span class="p">())</span>
</span><span id="SplitView-943"><a href="#SplitView-943"><span class="linenos"> 943</span></a>        <span class="n">pixmap_to_be_transparent</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">transparent</span><span class="p">)</span>
</span><span id="SplitView-944"><a href="#SplitView-944"><span class="linenos"> 944</span></a>        <span class="n">painter</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPainter</span><span class="p">(</span><span class="n">pixmap_to_be_transparent</span><span class="p">)</span>
</span><span id="SplitView-945"><a href="#SplitView-945"><span class="linenos"> 945</span></a>        <span class="n">painter</span><span class="o">.</span><span class="n">setOpacity</span><span class="p">(</span><span class="n">percent</span><span class="o">/</span><span class="mi">100</span><span class="p">)</span>
</span><span id="SplitView-946"><a href="#SplitView-946"><span class="linenos"> 946</span></a>        <span class="n">painter</span><span class="o">.</span><span class="n">drawPixmap</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QPoint</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_base_original</span><span class="p">)</span>
</span><span id="SplitView-947"><a href="#SplitView-947"><span class="linenos"> 947</span></a>        <span class="n">painter</span><span class="o">.</span><span class="n">end</span><span class="p">()</span>
</span><span id="SplitView-948"><a href="#SplitView-948"><span class="linenos"> 948</span></a>
</span><span id="SplitView-949"><a href="#SplitView-949"><span class="linenos"> 949</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_main_topleft</span><span class="o">.</span><span class="n">setPixmap</span><span class="p">(</span><span class="n">pixmap_to_be_transparent</span><span class="p">)</span>
</span><span id="SplitView-950"><a href="#SplitView-950"><span class="linenos"> 950</span></a>    
</span><span id="SplitView-951"><a href="#SplitView-951"><span class="linenos"> 951</span></a>    <span class="nd">@property</span>
</span><span id="SplitView-952"><a href="#SplitView-952"><span class="linenos"> 952</span></a>    <span class="k">def</span> <span class="nf">pixmap_topright</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView-953"><a href="#SplitView-953"><span class="linenos"> 953</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;The currently viewed QPixmap of the top-right of the split.&quot;&quot;&quot;</span>
</span><span id="SplitView-954"><a href="#SplitView-954"><span class="linenos"> 954</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_topright</span><span class="o">.</span><span class="n">pixmap</span><span class="p">()</span>
</span><span id="SplitView-955"><a href="#SplitView-955"><span class="linenos"> 955</span></a>    
</span><span id="SplitView-956"><a href="#SplitView-956"><span class="linenos"> 956</span></a>    <span class="nd">@pixmap_topright</span><span class="o">.</span><span class="n">setter</span>
</span><span id="SplitView-957"><a href="#SplitView-957"><span class="linenos"> 957</span></a>    <span class="k">def</span> <span class="nf">pixmap_topright</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pixmap</span><span class="p">):</span>
</span><span id="SplitView-958"><a href="#SplitView-958"><span class="linenos"> 958</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_topright_original</span> <span class="o">=</span> <span class="n">pixmap</span>
</span><span id="SplitView-959"><a href="#SplitView-959"><span class="linenos"> 959</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_opacity_topright</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</span><span id="SplitView-960"><a href="#SplitView-960"><span class="linenos"> 960</span></a>    
</span><span id="SplitView-961"><a href="#SplitView-961"><span class="linenos"> 961</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="SplitView-962"><a href="#SplitView-962"><span class="linenos"> 962</span></a>    <span class="k">def</span> <span class="nf">set_opacity_topright</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">percent</span><span class="p">):</span>
</span><span id="SplitView-963"><a href="#SplitView-963"><span class="linenos"> 963</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set transparency of top-right of sliding overlay.</span>
</span><span id="SplitView-964"><a href="#SplitView-964"><span class="linenos"> 964</span></a><span class="sd">        </span>
</span><span id="SplitView-965"><a href="#SplitView-965"><span class="linenos"> 965</span></a><span class="sd">        Allows users to see base image underneath.</span>
</span><span id="SplitView-966"><a href="#SplitView-966"><span class="linenos"> 966</span></a><span class="sd">        Provide enhanced integration and comparison of images (for example, blending raking light with color).</span>
</span><span id="SplitView-967"><a href="#SplitView-967"><span class="linenos"> 967</span></a>
</span><span id="SplitView-968"><a href="#SplitView-968"><span class="linenos"> 968</span></a><span class="sd">        Args:</span>
</span><span id="SplitView-969"><a href="#SplitView-969"><span class="linenos"> 969</span></a><span class="sd">            percent (float,int): The transparency as percent opacity, where 100 is opaque (not transparent) and 0 is transparent (0-100).</span>
</span><span id="SplitView-970"><a href="#SplitView-970"><span class="linenos"> 970</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView-971"><a href="#SplitView-971"><span class="linenos"> 971</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">pixmap_topright_exists</span><span class="p">:</span>
</span><span id="SplitView-972"><a href="#SplitView-972"><span class="linenos"> 972</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_opacity_topright</span> <span class="o">=</span> <span class="mi">100</span>
</span><span id="SplitView-973"><a href="#SplitView-973"><span class="linenos"> 973</span></a>            <span class="k">return</span>
</span><span id="SplitView-974"><a href="#SplitView-974"><span class="linenos"> 974</span></a>        
</span><span id="SplitView-975"><a href="#SplitView-975"><span class="linenos"> 975</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_opacity_topright</span> <span class="o">=</span> <span class="n">percent</span>
</span><span id="SplitView-976"><a href="#SplitView-976"><span class="linenos"> 976</span></a>
</span><span id="SplitView-977"><a href="#SplitView-977"><span class="linenos"> 977</span></a>        <span class="n">pixmap_to_be_transparent</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPixmap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_topright_original</span><span class="o">.</span><span class="n">size</span><span class="p">())</span>
</span><span id="SplitView-978"><a href="#SplitView-978"><span class="linenos"> 978</span></a>        <span class="n">pixmap_to_be_transparent</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">transparent</span><span class="p">)</span>
</span><span id="SplitView-979"><a href="#SplitView-979"><span class="linenos"> 979</span></a>        <span class="n">painter</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPainter</span><span class="p">(</span><span class="n">pixmap_to_be_transparent</span><span class="p">)</span>
</span><span id="SplitView-980"><a href="#SplitView-980"><span class="linenos"> 980</span></a>        <span class="n">painter</span><span class="o">.</span><span class="n">setOpacity</span><span class="p">(</span><span class="n">percent</span><span class="o">/</span><span class="mi">100</span><span class="p">)</span>
</span><span id="SplitView-981"><a href="#SplitView-981"><span class="linenos"> 981</span></a>        <span class="n">painter</span><span class="o">.</span><span class="n">drawPixmap</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QPoint</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_topright_original</span><span class="p">)</span>
</span><span id="SplitView-982"><a href="#SplitView-982"><span class="linenos"> 982</span></a>        <span class="n">painter</span><span class="o">.</span><span class="n">end</span><span class="p">()</span>
</span><span id="SplitView-983"><a href="#SplitView-983"><span class="linenos"> 983</span></a>
</span><span id="SplitView-984"><a href="#SplitView-984"><span class="linenos"> 984</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_topright</span><span class="o">.</span><span class="n">setPixmap</span><span class="p">(</span><span class="n">pixmap_to_be_transparent</span><span class="p">)</span>
</span><span id="SplitView-985"><a href="#SplitView-985"><span class="linenos"> 985</span></a>    
</span><span id="SplitView-986"><a href="#SplitView-986"><span class="linenos"> 986</span></a>
</span><span id="SplitView-987"><a href="#SplitView-987"><span class="linenos"> 987</span></a>    <span class="nd">@property</span>
</span><span id="SplitView-988"><a href="#SplitView-988"><span class="linenos"> 988</span></a>    <span class="k">def</span> <span class="nf">pixmap_bottomright</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView-989"><a href="#SplitView-989"><span class="linenos"> 989</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;The currently viewed QPixmap of the bottom-right of the split.&quot;&quot;&quot;</span>
</span><span id="SplitView-990"><a href="#SplitView-990"><span class="linenos"> 990</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_bottomright</span><span class="o">.</span><span class="n">pixmap</span><span class="p">()</span>
</span><span id="SplitView-991"><a href="#SplitView-991"><span class="linenos"> 991</span></a>    
</span><span id="SplitView-992"><a href="#SplitView-992"><span class="linenos"> 992</span></a>    <span class="nd">@pixmap_bottomright</span><span class="o">.</span><span class="n">setter</span>
</span><span id="SplitView-993"><a href="#SplitView-993"><span class="linenos"> 993</span></a>    <span class="k">def</span> <span class="nf">pixmap_bottomright</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pixmap</span><span class="p">):</span>
</span><span id="SplitView-994"><a href="#SplitView-994"><span class="linenos"> 994</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_bottomright_original</span> <span class="o">=</span> <span class="n">pixmap</span>
</span><span id="SplitView-995"><a href="#SplitView-995"><span class="linenos"> 995</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_opacity_bottomright</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</span><span id="SplitView-996"><a href="#SplitView-996"><span class="linenos"> 996</span></a>    
</span><span id="SplitView-997"><a href="#SplitView-997"><span class="linenos"> 997</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="SplitView-998"><a href="#SplitView-998"><span class="linenos"> 998</span></a>    <span class="k">def</span> <span class="nf">set_opacity_bottomright</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">percent</span><span class="p">):</span>
</span><span id="SplitView-999"><a href="#SplitView-999"><span class="linenos"> 999</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set transparency of bottom-right of sliding overlay.</span>
</span><span id="SplitView-1000"><a href="#SplitView-1000"><span class="linenos">1000</span></a>
</span><span id="SplitView-1001"><a href="#SplitView-1001"><span class="linenos">1001</span></a><span class="sd">        Args:</span>
</span><span id="SplitView-1002"><a href="#SplitView-1002"><span class="linenos">1002</span></a><span class="sd">            percent (float,int): The transparency as percent opacity, where 100 is opaque (not transparent) and 0 is transparent (0-100).</span>
</span><span id="SplitView-1003"><a href="#SplitView-1003"><span class="linenos">1003</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView-1004"><a href="#SplitView-1004"><span class="linenos">1004</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">pixmap_bottomright_exists</span><span class="p">:</span>
</span><span id="SplitView-1005"><a href="#SplitView-1005"><span class="linenos">1005</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_opacity_bottomright</span> <span class="o">=</span> <span class="mi">100</span>
</span><span id="SplitView-1006"><a href="#SplitView-1006"><span class="linenos">1006</span></a>            <span class="k">return</span>
</span><span id="SplitView-1007"><a href="#SplitView-1007"><span class="linenos">1007</span></a>
</span><span id="SplitView-1008"><a href="#SplitView-1008"><span class="linenos">1008</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_opacity_bottomright</span> <span class="o">=</span> <span class="n">percent</span>
</span><span id="SplitView-1009"><a href="#SplitView-1009"><span class="linenos">1009</span></a>
</span><span id="SplitView-1010"><a href="#SplitView-1010"><span class="linenos">1010</span></a>        <span class="n">pixmap_to_be_transparent</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPixmap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_bottomright_original</span><span class="o">.</span><span class="n">size</span><span class="p">())</span>
</span><span id="SplitView-1011"><a href="#SplitView-1011"><span class="linenos">1011</span></a>        <span class="n">pixmap_to_be_transparent</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">transparent</span><span class="p">)</span>
</span><span id="SplitView-1012"><a href="#SplitView-1012"><span class="linenos">1012</span></a>        <span class="n">painter</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPainter</span><span class="p">(</span><span class="n">pixmap_to_be_transparent</span><span class="p">)</span>
</span><span id="SplitView-1013"><a href="#SplitView-1013"><span class="linenos">1013</span></a>        <span class="n">painter</span><span class="o">.</span><span class="n">setOpacity</span><span class="p">(</span><span class="n">percent</span><span class="o">/</span><span class="mi">100</span><span class="p">)</span>
</span><span id="SplitView-1014"><a href="#SplitView-1014"><span class="linenos">1014</span></a>        <span class="n">painter</span><span class="o">.</span><span class="n">drawPixmap</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QPoint</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_bottomright_original</span><span class="p">)</span>
</span><span id="SplitView-1015"><a href="#SplitView-1015"><span class="linenos">1015</span></a>        <span class="n">painter</span><span class="o">.</span><span class="n">end</span><span class="p">()</span>
</span><span id="SplitView-1016"><a href="#SplitView-1016"><span class="linenos">1016</span></a>
</span><span id="SplitView-1017"><a href="#SplitView-1017"><span class="linenos">1017</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_bottomright</span><span class="o">.</span><span class="n">setPixmap</span><span class="p">(</span><span class="n">pixmap_to_be_transparent</span><span class="p">)</span>
</span><span id="SplitView-1018"><a href="#SplitView-1018"><span class="linenos">1018</span></a>    
</span><span id="SplitView-1019"><a href="#SplitView-1019"><span class="linenos">1019</span></a>
</span><span id="SplitView-1020"><a href="#SplitView-1020"><span class="linenos">1020</span></a>    <span class="nd">@property</span>
</span><span id="SplitView-1021"><a href="#SplitView-1021"><span class="linenos">1021</span></a>    <span class="k">def</span> <span class="nf">pixmap_bottomleft</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView-1022"><a href="#SplitView-1022"><span class="linenos">1022</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;The currently viewed QPixmap of the bottom-left of the split.&quot;&quot;&quot;</span>
</span><span id="SplitView-1023"><a href="#SplitView-1023"><span class="linenos">1023</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_bottomleft</span><span class="o">.</span><span class="n">pixmap</span><span class="p">()</span>
</span><span id="SplitView-1024"><a href="#SplitView-1024"><span class="linenos">1024</span></a>    
</span><span id="SplitView-1025"><a href="#SplitView-1025"><span class="linenos">1025</span></a>    <span class="nd">@pixmap_bottomleft</span><span class="o">.</span><span class="n">setter</span>
</span><span id="SplitView-1026"><a href="#SplitView-1026"><span class="linenos">1026</span></a>    <span class="k">def</span> <span class="nf">pixmap_bottomleft</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pixmap</span><span class="p">):</span>
</span><span id="SplitView-1027"><a href="#SplitView-1027"><span class="linenos">1027</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_bottomleft_original</span> <span class="o">=</span> <span class="n">pixmap</span>
</span><span id="SplitView-1028"><a href="#SplitView-1028"><span class="linenos">1028</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_opacity_bottomleft</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</span><span id="SplitView-1029"><a href="#SplitView-1029"><span class="linenos">1029</span></a>    
</span><span id="SplitView-1030"><a href="#SplitView-1030"><span class="linenos">1030</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="SplitView-1031"><a href="#SplitView-1031"><span class="linenos">1031</span></a>    <span class="k">def</span> <span class="nf">set_opacity_bottomleft</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">percent</span><span class="p">):</span>
</span><span id="SplitView-1032"><a href="#SplitView-1032"><span class="linenos">1032</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set transparency of bottom-left of sliding overlay.</span>
</span><span id="SplitView-1033"><a href="#SplitView-1033"><span class="linenos">1033</span></a>
</span><span id="SplitView-1034"><a href="#SplitView-1034"><span class="linenos">1034</span></a><span class="sd">        Args:</span>
</span><span id="SplitView-1035"><a href="#SplitView-1035"><span class="linenos">1035</span></a><span class="sd">            percent (float,int): The transparency as percent opacity, where 100 is opaque (not transparent) and 0 is transparent (0-100).</span>
</span><span id="SplitView-1036"><a href="#SplitView-1036"><span class="linenos">1036</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView-1037"><a href="#SplitView-1037"><span class="linenos">1037</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">pixmap_bottomleft_exists</span><span class="p">:</span>
</span><span id="SplitView-1038"><a href="#SplitView-1038"><span class="linenos">1038</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_opacity_bottomleft</span> <span class="o">=</span> <span class="mi">100</span>
</span><span id="SplitView-1039"><a href="#SplitView-1039"><span class="linenos">1039</span></a>            <span class="k">return</span>
</span><span id="SplitView-1040"><a href="#SplitView-1040"><span class="linenos">1040</span></a>
</span><span id="SplitView-1041"><a href="#SplitView-1041"><span class="linenos">1041</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_opacity_bottomleft</span> <span class="o">=</span> <span class="n">percent</span>
</span><span id="SplitView-1042"><a href="#SplitView-1042"><span class="linenos">1042</span></a>
</span><span id="SplitView-1043"><a href="#SplitView-1043"><span class="linenos">1043</span></a>        <span class="n">pixmap_to_be_transparent</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPixmap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_bottomleft_original</span><span class="o">.</span><span class="n">size</span><span class="p">())</span>
</span><span id="SplitView-1044"><a href="#SplitView-1044"><span class="linenos">1044</span></a>        <span class="n">pixmap_to_be_transparent</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">transparent</span><span class="p">)</span>
</span><span id="SplitView-1045"><a href="#SplitView-1045"><span class="linenos">1045</span></a>        <span class="n">painter</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPainter</span><span class="p">(</span><span class="n">pixmap_to_be_transparent</span><span class="p">)</span>
</span><span id="SplitView-1046"><a href="#SplitView-1046"><span class="linenos">1046</span></a>        <span class="n">painter</span><span class="o">.</span><span class="n">setOpacity</span><span class="p">(</span><span class="n">percent</span><span class="o">/</span><span class="mi">100</span><span class="p">)</span>
</span><span id="SplitView-1047"><a href="#SplitView-1047"><span class="linenos">1047</span></a>        <span class="n">painter</span><span class="o">.</span><span class="n">drawPixmap</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QPoint</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_bottomleft_original</span><span class="p">)</span>
</span><span id="SplitView-1048"><a href="#SplitView-1048"><span class="linenos">1048</span></a>        <span class="n">painter</span><span class="o">.</span><span class="n">end</span><span class="p">()</span>
</span><span id="SplitView-1049"><a href="#SplitView-1049"><span class="linenos">1049</span></a>
</span><span id="SplitView-1050"><a href="#SplitView-1050"><span class="linenos">1050</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_bottomleft</span><span class="o">.</span><span class="n">setPixmap</span><span class="p">(</span><span class="n">pixmap_to_be_transparent</span><span class="p">)</span>
</span><span id="SplitView-1051"><a href="#SplitView-1051"><span class="linenos">1051</span></a>    
</span><span id="SplitView-1052"><a href="#SplitView-1052"><span class="linenos">1052</span></a>    <span class="k">def</span> <span class="nf">moveEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
</span><span id="SplitView-1053"><a href="#SplitView-1053"><span class="linenos">1053</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Override move event of frame.&quot;&quot;&quot;</span>
</span><span id="SplitView-1054"><a href="#SplitView-1054"><span class="linenos">1054</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">moveEvent</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</span><span id="SplitView-1055"><a href="#SplitView-1055"><span class="linenos">1055</span></a>
</span><span id="SplitView-1056"><a href="#SplitView-1056"><span class="linenos">1056</span></a>    <span class="k">def</span> <span class="nf">resizeEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
</span><span id="SplitView-1057"><a href="#SplitView-1057"><span class="linenos">1057</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Override resize event of frame to ensure scene is also resized.&quot;&quot;&quot;</span>
</span><span id="SplitView-1058"><a href="#SplitView-1058"><span class="linenos">1058</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_scene</span><span class="p">()</span>
</span><span id="SplitView-1059"><a href="#SplitView-1059"><span class="linenos">1059</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">resizeEvent</span><span class="p">(</span><span class="n">event</span><span class="p">)</span> <span class="c1"># Equivalent to QtWidgets.QFrame.resizeEvent(self, event)     </span>
</span><span id="SplitView-1060"><a href="#SplitView-1060"><span class="linenos">1060</span></a>        
</span><span id="SplitView-1061"><a href="#SplitView-1061"><span class="linenos">1061</span></a>    <span class="k">def</span> <span class="nf">resize_scene</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView-1062"><a href="#SplitView-1062"><span class="linenos">1062</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Resize the scene to allow image to be panned just before the main pixmap leaves the viewport.</span>
</span><span id="SplitView-1063"><a href="#SplitView-1063"><span class="linenos">1063</span></a>
</span><span id="SplitView-1064"><a href="#SplitView-1064"><span class="linenos">1064</span></a><span class="sd">        This is needed to expand the scene so that users can pan the pixmap such that its edges are at the center of the view.</span>
</span><span id="SplitView-1065"><a href="#SplitView-1065"><span class="linenos">1065</span></a><span class="sd">        This changes the default behavior, which limits the scene to the bounds of the pixmap, thereby blocking users </span>
</span><span id="SplitView-1066"><a href="#SplitView-1066"><span class="linenos">1066</span></a><span class="sd">        from panning outside the bounds of the pixmap, which can feel abrupt and restrictive.</span>
</span><span id="SplitView-1067"><a href="#SplitView-1067"><span class="linenos">1067</span></a><span class="sd">        This takes care of preventing users from panning too far away from the pixmap. </span>
</span><span id="SplitView-1068"><a href="#SplitView-1068"><span class="linenos">1068</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView-1069"><a href="#SplitView-1069"><span class="linenos">1069</span></a>        <span class="n">scene_to_viewport_factor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">zoomFactor</span>
</span><span id="SplitView-1070"><a href="#SplitView-1070"><span class="linenos">1070</span></a>        
</span><span id="SplitView-1071"><a href="#SplitView-1071"><span class="linenos">1071</span></a>        <span class="n">width_viewport_window</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">()</span>
</span><span id="SplitView-1072"><a href="#SplitView-1072"><span class="linenos">1072</span></a>        <span class="n">height_viewport_window</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">()</span>
</span><span id="SplitView-1073"><a href="#SplitView-1073"><span class="linenos">1073</span></a>
</span><span id="SplitView-1074"><a href="#SplitView-1074"><span class="linenos">1074</span></a>        <span class="n">peek_precent</span> <span class="o">=</span> <span class="mf">0.1</span> <span class="c1"># Percent of pixmap to be left &quot;peeking&quot; at bounds of pan</span>
</span><span id="SplitView-1075"><a href="#SplitView-1075"><span class="linenos">1075</span></a>        <span class="n">peek_margin_x</span> <span class="o">=</span> <span class="n">width_viewport_window</span><span class="o">*</span><span class="n">peek_precent</span> <span class="c1"># [px]</span>
</span><span id="SplitView-1076"><a href="#SplitView-1076"><span class="linenos">1076</span></a>        <span class="n">peek_margin_y</span> <span class="o">=</span> <span class="n">height_viewport_window</span><span class="o">*</span><span class="n">peek_precent</span>
</span><span id="SplitView-1077"><a href="#SplitView-1077"><span class="linenos">1077</span></a>        
</span><span id="SplitView-1078"><a href="#SplitView-1078"><span class="linenos">1078</span></a>        <span class="n">width_viewport</span> <span class="o">=</span> <span class="p">(</span><span class="n">width_viewport_window</span> <span class="o">-</span> <span class="n">peek_margin_x</span><span class="p">)</span><span class="o">/</span><span class="n">scene_to_viewport_factor</span> <span class="c1"># This is the size of the viewport on the screen</span>
</span><span id="SplitView-1079"><a href="#SplitView-1079"><span class="linenos">1079</span></a>        <span class="n">height_viewport</span> <span class="o">=</span> <span class="p">(</span><span class="n">height_viewport_window</span> <span class="o">-</span> <span class="n">peek_margin_y</span><span class="p">)</span><span class="o">/</span><span class="n">scene_to_viewport_factor</span>
</span><span id="SplitView-1080"><a href="#SplitView-1080"><span class="linenos">1080</span></a>        
</span><span id="SplitView-1081"><a href="#SplitView-1081"><span class="linenos">1081</span></a>        <span class="n">width_pixmap</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">imageWidth</span>
</span><span id="SplitView-1082"><a href="#SplitView-1082"><span class="linenos">1082</span></a>        <span class="n">height_pixmap</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">imageHeight</span>
</span><span id="SplitView-1083"><a href="#SplitView-1083"><span class="linenos">1083</span></a>        
</span><span id="SplitView-1084"><a href="#SplitView-1084"><span class="linenos">1084</span></a>        <span class="n">width_scene</span> <span class="o">=</span> <span class="mf">2.0</span><span class="o">*</span><span class="p">(</span><span class="n">width_viewport</span> <span class="o">+</span> <span class="n">width_pixmap</span><span class="o">/</span><span class="mf">2.0</span><span class="p">)</span> <span class="c1"># The scene spans twice the viewport plus the pixmap</span>
</span><span id="SplitView-1085"><a href="#SplitView-1085"><span class="linenos">1085</span></a>        <span class="n">height_scene</span> <span class="o">=</span> <span class="mf">2.0</span><span class="o">*</span><span class="p">(</span><span class="n">height_viewport</span> <span class="o">+</span> <span class="n">height_pixmap</span><span class="o">/</span><span class="mf">2.0</span><span class="p">)</span>
</span><span id="SplitView-1086"><a href="#SplitView-1086"><span class="linenos">1086</span></a>        
</span><span id="SplitView-1087"><a href="#SplitView-1087"><span class="linenos">1087</span></a>        <span class="n">scene_rect</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QRectF</span><span class="p">(</span><span class="o">-</span><span class="n">width_scene</span><span class="o">/</span><span class="mf">2.0</span> <span class="o">+</span> <span class="n">width_pixmap</span><span class="o">/</span><span class="mf">2.0</span><span class="p">,</span><span class="o">-</span><span class="n">height_scene</span><span class="o">/</span><span class="mf">2.0</span> <span class="o">+</span> <span class="n">height_pixmap</span><span class="o">/</span><span class="mf">2.0</span><span class="p">,</span><span class="n">width_scene</span><span class="p">,</span><span class="n">height_scene</span><span class="p">)</span>
</span><span id="SplitView-1088"><a href="#SplitView-1088"><span class="linenos">1088</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">setSceneRect</span><span class="p">(</span><span class="n">scene_rect</span><span class="p">)</span>
</span><span id="SplitView-1089"><a href="#SplitView-1089"><span class="linenos">1089</span></a>    
</span><span id="SplitView-1090"><a href="#SplitView-1090"><span class="linenos">1090</span></a>    <span class="k">def</span> <span class="nf">set_transform_mode_smooth_on</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView-1091"><a href="#SplitView-1091"><span class="linenos">1091</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set transform mode to smooth (interpolate) when zoomfactor is &gt;= 1.0.&quot;&quot;&quot;</span>
</span><span id="SplitView-1092"><a href="#SplitView-1092"><span class="linenos">1092</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">transform_mode_smooth</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="SplitView-1093"><a href="#SplitView-1093"><span class="linenos">1093</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">set_single_transform_mode_smooth</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</span><span id="SplitView-1094"><a href="#SplitView-1094"><span class="linenos">1094</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">refresh_transform_mode</span><span class="p">()</span>
</span><span id="SplitView-1095"><a href="#SplitView-1095"><span class="linenos">1095</span></a>            
</span><span id="SplitView-1096"><a href="#SplitView-1096"><span class="linenos">1096</span></a>    <span class="k">def</span> <span class="nf">set_transform_mode_smooth_off</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView-1097"><a href="#SplitView-1097"><span class="linenos">1097</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set transform mode to non-smooth (non-interpolated) when zoomfactor is &gt;= 1.0.&quot;&quot;&quot;</span>
</span><span id="SplitView-1098"><a href="#SplitView-1098"><span class="linenos">1098</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">transform_mode_smooth</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="SplitView-1099"><a href="#SplitView-1099"><span class="linenos">1099</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">set_single_transform_mode_smooth</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</span><span id="SplitView-1100"><a href="#SplitView-1100"><span class="linenos">1100</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">refresh_transform_mode</span><span class="p">()</span>
</span><span id="SplitView-1101"><a href="#SplitView-1101"><span class="linenos">1101</span></a>
</span><span id="SplitView-1102"><a href="#SplitView-1102"><span class="linenos">1102</span></a>    <span class="k">def</span> <span class="nf">set_transform_mode_smooth</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">boolean</span><span class="p">):</span>
</span><span id="SplitView-1103"><a href="#SplitView-1103"><span class="linenos">1103</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set transform mode when zoomfactor is &gt;= 1.0.</span>
</span><span id="SplitView-1104"><a href="#SplitView-1104"><span class="linenos">1104</span></a>
</span><span id="SplitView-1105"><a href="#SplitView-1105"><span class="linenos">1105</span></a><span class="sd">        Convenience function.</span>
</span><span id="SplitView-1106"><a href="#SplitView-1106"><span class="linenos">1106</span></a><span class="sd">        </span>
</span><span id="SplitView-1107"><a href="#SplitView-1107"><span class="linenos">1107</span></a><span class="sd">        Args:</span>
</span><span id="SplitView-1108"><a href="#SplitView-1108"><span class="linenos">1108</span></a><span class="sd">            boolean (bool): True to smooth (interpolate); False to fast (not interpolate).</span>
</span><span id="SplitView-1109"><a href="#SplitView-1109"><span class="linenos">1109</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView-1110"><a href="#SplitView-1110"><span class="linenos">1110</span></a>        <span class="k">if</span> <span class="n">boolean</span><span class="p">:</span>
</span><span id="SplitView-1111"><a href="#SplitView-1111"><span class="linenos">1111</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">set_transform_mode_smooth_on</span><span class="p">()</span>
</span><span id="SplitView-1112"><a href="#SplitView-1112"><span class="linenos">1112</span></a>        <span class="k">elif</span> <span class="ow">not</span> <span class="n">boolean</span><span class="p">:</span>
</span><span id="SplitView-1113"><a href="#SplitView-1113"><span class="linenos">1113</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">set_transform_mode_smooth_off</span><span class="p">()</span>
</span><span id="SplitView-1114"><a href="#SplitView-1114"><span class="linenos">1114</span></a>            
</span><span id="SplitView-1115"><a href="#SplitView-1115"><span class="linenos">1115</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="SplitView-1116"><a href="#SplitView-1116"><span class="linenos">1116</span></a>    <span class="k">def</span> <span class="nf">on_transformChanged</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView-1117"><a href="#SplitView-1117"><span class="linenos">1117</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Resize scene if image transform is changed (for example, when zoomed).&quot;&quot;&quot;</span>
</span><span id="SplitView-1118"><a href="#SplitView-1118"><span class="linenos">1118</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_scene</span><span class="p">()</span>
</span><span id="SplitView-1119"><a href="#SplitView-1119"><span class="linenos">1119</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">update_split</span><span class="p">()</span>
</span><span id="SplitView-1120"><a href="#SplitView-1120"><span class="linenos">1120</span></a>
</span><span id="SplitView-1121"><a href="#SplitView-1121"><span class="linenos">1121</span></a>    <span class="nd">@property</span>
</span><span id="SplitView-1122"><a href="#SplitView-1122"><span class="linenos">1122</span></a>    <span class="k">def</span> <span class="nf">viewName</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView-1123"><a href="#SplitView-1123"><span class="linenos">1123</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;str: The name of the SplitView.&quot;&quot;&quot;</span>
</span><span id="SplitView-1124"><a href="#SplitView-1124"><span class="linenos">1124</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span>
</span><span id="SplitView-1125"><a href="#SplitView-1125"><span class="linenos">1125</span></a>    
</span><span id="SplitView-1126"><a href="#SplitView-1126"><span class="linenos">1126</span></a>    <span class="nd">@viewName</span><span class="o">.</span><span class="n">setter</span>
</span><span id="SplitView-1127"><a href="#SplitView-1127"><span class="linenos">1127</span></a>    <span class="k">def</span> <span class="nf">viewName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
</span><span id="SplitView-1128"><a href="#SplitView-1128"><span class="linenos">1128</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">name</span>
</span><span id="SplitView-1129"><a href="#SplitView-1129"><span class="linenos">1129</span></a>
</span><span id="SplitView-1130"><a href="#SplitView-1130"><span class="linenos">1130</span></a>    <span class="nd">@property</span>
</span><span id="SplitView-1131"><a href="#SplitView-1131"><span class="linenos">1131</span></a>    <span class="k">def</span> <span class="nf">handDragging</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView-1132"><a href="#SplitView-1132"><span class="linenos">1132</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;bool: The hand dragging state.&quot;&quot;&quot;</span>
</span><span id="SplitView-1133"><a href="#SplitView-1133"><span class="linenos">1133</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">handDragging</span>
</span><span id="SplitView-1134"><a href="#SplitView-1134"><span class="linenos">1134</span></a>
</span><span id="SplitView-1135"><a href="#SplitView-1135"><span class="linenos">1135</span></a>    <span class="nd">@property</span>
</span><span id="SplitView-1136"><a href="#SplitView-1136"><span class="linenos">1136</span></a>    <span class="k">def</span> <span class="nf">scrollState</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView-1137"><a href="#SplitView-1137"><span class="linenos">1137</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;tuple: The percentage of scene extents</span>
</span><span id="SplitView-1138"><a href="#SplitView-1138"><span class="linenos">1138</span></a><span class="sd">        *(sceneWidthPercent, sceneHeightPercent)*&quot;&quot;&quot;</span>
</span><span id="SplitView-1139"><a href="#SplitView-1139"><span class="linenos">1139</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">scrollState</span>
</span><span id="SplitView-1140"><a href="#SplitView-1140"><span class="linenos">1140</span></a>
</span><span id="SplitView-1141"><a href="#SplitView-1141"><span class="linenos">1141</span></a>    <span class="nd">@scrollState</span><span class="o">.</span><span class="n">setter</span>
</span><span id="SplitView-1142"><a href="#SplitView-1142"><span class="linenos">1142</span></a>    <span class="k">def</span> <span class="nf">scrollState</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
</span><span id="SplitView-1143"><a href="#SplitView-1143"><span class="linenos">1143</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">scrollState</span> <span class="o">=</span> <span class="n">state</span>
</span><span id="SplitView-1144"><a href="#SplitView-1144"><span class="linenos">1144</span></a>
</span><span id="SplitView-1145"><a href="#SplitView-1145"><span class="linenos">1145</span></a>    <span class="nd">@property</span>
</span><span id="SplitView-1146"><a href="#SplitView-1146"><span class="linenos">1146</span></a>    <span class="k">def</span> <span class="nf">zoomFactor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView-1147"><a href="#SplitView-1147"><span class="linenos">1147</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;float: The zoom scale factor.&quot;&quot;&quot;</span>
</span><span id="SplitView-1148"><a href="#SplitView-1148"><span class="linenos">1148</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">zoomFactor</span>
</span><span id="SplitView-1149"><a href="#SplitView-1149"><span class="linenos">1149</span></a>
</span><span id="SplitView-1150"><a href="#SplitView-1150"><span class="linenos">1150</span></a>    <span class="nd">@zoomFactor</span><span class="o">.</span><span class="n">setter</span>
</span><span id="SplitView-1151"><a href="#SplitView-1151"><span class="linenos">1151</span></a>    <span class="k">def</span> <span class="nf">zoomFactor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newZoomFactor</span><span class="p">):</span>
</span><span id="SplitView-1152"><a href="#SplitView-1152"><span class="linenos">1152</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Apply zoom to all views, taking into account the transform mode.</span>
</span><span id="SplitView-1153"><a href="#SplitView-1153"><span class="linenos">1153</span></a><span class="sd">        </span>
</span><span id="SplitView-1154"><a href="#SplitView-1154"><span class="linenos">1154</span></a><span class="sd">        Args:</span>
</span><span id="SplitView-1155"><a href="#SplitView-1155"><span class="linenos">1155</span></a><span class="sd">            newZoomFactor (float)</span>
</span><span id="SplitView-1156"><a href="#SplitView-1156"><span class="linenos">1156</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView-1157"><a href="#SplitView-1157"><span class="linenos">1157</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">zoomFactor</span> <span class="o">=</span> <span class="n">newZoomFactor</span>
</span><span id="SplitView-1158"><a href="#SplitView-1158"><span class="linenos">1158</span></a>
</span><span id="SplitView-1159"><a href="#SplitView-1159"><span class="linenos">1159</span></a>        <span class="n">scale_topright</span> <span class="o">=</span> <span class="n">newZoomFactor</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_topright_zoom_adjust</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_topright</span><span class="o">.</span><span class="n">transform</span><span class="p">()</span><span class="o">.</span><span class="n">m11</span><span class="p">()</span>
</span><span id="SplitView-1160"><a href="#SplitView-1160"><span class="linenos">1160</span></a>        <span class="n">scale_bottomright</span> <span class="o">=</span> <span class="n">newZoomFactor</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bottomright_zoom_adjust</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomright</span><span class="o">.</span><span class="n">transform</span><span class="p">()</span><span class="o">.</span><span class="n">m11</span><span class="p">()</span>
</span><span id="SplitView-1161"><a href="#SplitView-1161"><span class="linenos">1161</span></a>        <span class="n">scale_bottomleft</span> <span class="o">=</span> <span class="n">newZoomFactor</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bottomleft_zoom_adjust</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomleft</span><span class="o">.</span><span class="n">transform</span><span class="p">()</span><span class="o">.</span><span class="n">m11</span><span class="p">()</span>
</span><span id="SplitView-1162"><a href="#SplitView-1162"><span class="linenos">1162</span></a>
</span><span id="SplitView-1163"><a href="#SplitView-1163"><span class="linenos">1163</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_topright</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">scale_topright</span><span class="p">,</span> <span class="n">scale_topright</span><span class="p">)</span>
</span><span id="SplitView-1164"><a href="#SplitView-1164"><span class="linenos">1164</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomright</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">scale_bottomright</span><span class="p">,</span> <span class="n">scale_bottomright</span><span class="p">)</span>
</span><span id="SplitView-1165"><a href="#SplitView-1165"><span class="linenos">1165</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomleft</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">scale_bottomleft</span><span class="p">,</span> <span class="n">scale_bottomleft</span><span class="p">)</span>
</span><span id="SplitView-1166"><a href="#SplitView-1166"><span class="linenos">1166</span></a>
</span><span id="SplitView-1167"><a href="#SplitView-1167"><span class="linenos">1167</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">refresh_transform_mode</span><span class="p">()</span>
</span><span id="SplitView-1168"><a href="#SplitView-1168"><span class="linenos">1168</span></a>
</span><span id="SplitView-1169"><a href="#SplitView-1169"><span class="linenos">1169</span></a>    <span class="k">def</span> <span class="nf">refresh_transform_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView-1170"><a href="#SplitView-1170"><span class="linenos">1170</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Refresh zoom of all views, taking into account the transform mode.&quot;&quot;&quot;</span>
</span><span id="SplitView-1171"><a href="#SplitView-1171"><span class="linenos">1171</span></a>        <span class="n">zoomFactor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">zoomFactor</span>
</span><span id="SplitView-1172"><a href="#SplitView-1172"><span class="linenos">1172</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_pixmap_transform_from_scale</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_main_topleft</span><span class="p">,</span>
</span><span id="SplitView-1173"><a href="#SplitView-1173"><span class="linenos">1173</span></a>                                            <span class="n">zoomFactor</span><span class="p">)</span>
</span><span id="SplitView-1174"><a href="#SplitView-1174"><span class="linenos">1174</span></a>        
</span><span id="SplitView-1175"><a href="#SplitView-1175"><span class="linenos">1175</span></a>        <span class="n">scale_topright</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_topright</span><span class="o">.</span><span class="n">transform</span><span class="p">()</span><span class="o">.</span><span class="n">m11</span><span class="p">()</span>
</span><span id="SplitView-1176"><a href="#SplitView-1176"><span class="linenos">1176</span></a>        <span class="n">scale_bottomright</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomright</span><span class="o">.</span><span class="n">transform</span><span class="p">()</span><span class="o">.</span><span class="n">m11</span><span class="p">()</span>
</span><span id="SplitView-1177"><a href="#SplitView-1177"><span class="linenos">1177</span></a>        <span class="n">scale_bottomleft</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomleft</span><span class="o">.</span><span class="n">transform</span><span class="p">()</span><span class="o">.</span><span class="n">m11</span><span class="p">()</span>
</span><span id="SplitView-1178"><a href="#SplitView-1178"><span class="linenos">1178</span></a>
</span><span id="SplitView-1179"><a href="#SplitView-1179"><span class="linenos">1179</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_pixmap_transform_from_scale</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_topright</span><span class="p">,</span>
</span><span id="SplitView-1180"><a href="#SplitView-1180"><span class="linenos">1180</span></a>                                            <span class="n">scale_topright</span><span class="p">)</span>
</span><span id="SplitView-1181"><a href="#SplitView-1181"><span class="linenos">1181</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_pixmap_transform_from_scale</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_bottomright</span><span class="p">,</span>
</span><span id="SplitView-1182"><a href="#SplitView-1182"><span class="linenos">1182</span></a>                                            <span class="n">scale_bottomright</span><span class="p">)</span>
</span><span id="SplitView-1183"><a href="#SplitView-1183"><span class="linenos">1183</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_pixmap_transform_from_scale</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_bottomleft</span><span class="p">,</span>
</span><span id="SplitView-1184"><a href="#SplitView-1184"><span class="linenos">1184</span></a>                                            <span class="n">scale_bottomleft</span><span class="p">)</span>
</span><span id="SplitView-1185"><a href="#SplitView-1185"><span class="linenos">1185</span></a>
</span><span id="SplitView-1186"><a href="#SplitView-1186"><span class="linenos">1186</span></a>    <span class="k">def</span> <span class="nf">set_pixmap_transform_from_scale</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pixmap_item</span><span class="p">,</span> <span class="n">scale</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">):</span>
</span><span id="SplitView-1187"><a href="#SplitView-1187"><span class="linenos">1187</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set a given pixmap transform based on scale (zoom).&quot;&quot;&quot;</span>
</span><span id="SplitView-1188"><a href="#SplitView-1188"><span class="linenos">1188</span></a>
</span><span id="SplitView-1189"><a href="#SplitView-1189"><span class="linenos">1189</span></a>        <span class="k">if</span> <span class="p">(</span><span class="n">scale</span> <span class="o">&lt;</span> <span class="n">limit</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">transform_mode_smooth</span><span class="p">):</span>
</span><span id="SplitView-1190"><a href="#SplitView-1190"><span class="linenos">1190</span></a>            <span class="n">pixmap_item</span><span class="o">.</span><span class="n">setTransformationMode</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">SmoothTransformation</span><span class="p">)</span>
</span><span id="SplitView-1191"><a href="#SplitView-1191"><span class="linenos">1191</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="SplitView-1192"><a href="#SplitView-1192"><span class="linenos">1192</span></a>            <span class="n">pixmap_item</span><span class="o">.</span><span class="n">setTransformationMode</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">FastTransformation</span><span class="p">)</span>
</span><span id="SplitView-1193"><a href="#SplitView-1193"><span class="linenos">1193</span></a>
</span><span id="SplitView-1194"><a href="#SplitView-1194"><span class="linenos">1194</span></a>    <span class="nd">@property</span>
</span><span id="SplitView-1195"><a href="#SplitView-1195"><span class="linenos">1195</span></a>    <span class="k">def</span> <span class="nf">_horizontalScrollBar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView-1196"><a href="#SplitView-1196"><span class="linenos">1196</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the SplitView horizontal scrollbar widget (*QScrollBar*).</span>
</span><span id="SplitView-1197"><a href="#SplitView-1197"><span class="linenos">1197</span></a>
</span><span id="SplitView-1198"><a href="#SplitView-1198"><span class="linenos">1198</span></a><span class="sd">        (Only used for debugging purposes)&quot;&quot;&quot;</span>
</span><span id="SplitView-1199"><a href="#SplitView-1199"><span class="linenos">1199</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">horizontalScrollBar</span><span class="p">()</span>
</span><span id="SplitView-1200"><a href="#SplitView-1200"><span class="linenos">1200</span></a>
</span><span id="SplitView-1201"><a href="#SplitView-1201"><span class="linenos">1201</span></a>    <span class="nd">@property</span>
</span><span id="SplitView-1202"><a href="#SplitView-1202"><span class="linenos">1202</span></a>    <span class="k">def</span> <span class="nf">_verticalScrollBar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView-1203"><a href="#SplitView-1203"><span class="linenos">1203</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the SplitView vertical scrollbar widget (*QScrollBar*).</span>
</span><span id="SplitView-1204"><a href="#SplitView-1204"><span class="linenos">1204</span></a>
</span><span id="SplitView-1205"><a href="#SplitView-1205"><span class="linenos">1205</span></a><span class="sd">        (Only used for debugging purposes)&quot;&quot;&quot;</span>
</span><span id="SplitView-1206"><a href="#SplitView-1206"><span class="linenos">1206</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">verticalScrollBar</span><span class="p">()</span>
</span><span id="SplitView-1207"><a href="#SplitView-1207"><span class="linenos">1207</span></a>
</span><span id="SplitView-1208"><a href="#SplitView-1208"><span class="linenos">1208</span></a>    <span class="nd">@property</span>
</span><span id="SplitView-1209"><a href="#SplitView-1209"><span class="linenos">1209</span></a>    <span class="k">def</span> <span class="nf">_sceneRect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView-1210"><a href="#SplitView-1210"><span class="linenos">1210</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the SplitView sceneRect (*QRectF*).</span>
</span><span id="SplitView-1211"><a href="#SplitView-1211"><span class="linenos">1211</span></a>
</span><span id="SplitView-1212"><a href="#SplitView-1212"><span class="linenos">1212</span></a><span class="sd">        (Only used for debugging purposes)&quot;&quot;&quot;</span>
</span><span id="SplitView-1213"><a href="#SplitView-1213"><span class="linenos">1213</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">sceneRect</span><span class="p">()</span>
</span><span id="SplitView-1214"><a href="#SplitView-1214"><span class="linenos">1214</span></a>
</span><span id="SplitView-1215"><a href="#SplitView-1215"><span class="linenos">1215</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="SplitView-1216"><a href="#SplitView-1216"><span class="linenos">1216</span></a>    <span class="k">def</span> <span class="nf">scrollToTop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView-1217"><a href="#SplitView-1217"><span class="linenos">1217</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Scroll to top of image.&quot;&quot;&quot;</span>
</span><span id="SplitView-1218"><a href="#SplitView-1218"><span class="linenos">1218</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">scrollToTop</span><span class="p">()</span>
</span><span id="SplitView-1219"><a href="#SplitView-1219"><span class="linenos">1219</span></a>
</span><span id="SplitView-1220"><a href="#SplitView-1220"><span class="linenos">1220</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="SplitView-1221"><a href="#SplitView-1221"><span class="linenos">1221</span></a>    <span class="k">def</span> <span class="nf">scrollToBottom</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView-1222"><a href="#SplitView-1222"><span class="linenos">1222</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Scroll to bottom of image.&quot;&quot;&quot;</span>
</span><span id="SplitView-1223"><a href="#SplitView-1223"><span class="linenos">1223</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">scrollToBottom</span><span class="p">()</span>
</span><span id="SplitView-1224"><a href="#SplitView-1224"><span class="linenos">1224</span></a>
</span><span id="SplitView-1225"><a href="#SplitView-1225"><span class="linenos">1225</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="SplitView-1226"><a href="#SplitView-1226"><span class="linenos">1226</span></a>    <span class="k">def</span> <span class="nf">scrollToBegin</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView-1227"><a href="#SplitView-1227"><span class="linenos">1227</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Scroll to left side of image.&quot;&quot;&quot;</span>
</span><span id="SplitView-1228"><a href="#SplitView-1228"><span class="linenos">1228</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">scrollToBegin</span><span class="p">()</span>
</span><span id="SplitView-1229"><a href="#SplitView-1229"><span class="linenos">1229</span></a>
</span><span id="SplitView-1230"><a href="#SplitView-1230"><span class="linenos">1230</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="SplitView-1231"><a href="#SplitView-1231"><span class="linenos">1231</span></a>    <span class="k">def</span> <span class="nf">scrollToEnd</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView-1232"><a href="#SplitView-1232"><span class="linenos">1232</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Scroll to right side of image.&quot;&quot;&quot;</span>
</span><span id="SplitView-1233"><a href="#SplitView-1233"><span class="linenos">1233</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">scrollToEnd</span><span class="p">()</span>
</span><span id="SplitView-1234"><a href="#SplitView-1234"><span class="linenos">1234</span></a>
</span><span id="SplitView-1235"><a href="#SplitView-1235"><span class="linenos">1235</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="SplitView-1236"><a href="#SplitView-1236"><span class="linenos">1236</span></a>    <span class="k">def</span> <span class="nf">centerView</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView-1237"><a href="#SplitView-1237"><span class="linenos">1237</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Center image in view.&quot;&quot;&quot;</span>
</span><span id="SplitView-1238"><a href="#SplitView-1238"><span class="linenos">1238</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">centerView</span><span class="p">()</span>
</span><span id="SplitView-1239"><a href="#SplitView-1239"><span class="linenos">1239</span></a>
</span><span id="SplitView-1240"><a href="#SplitView-1240"><span class="linenos">1240</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">(</span><span class="nb">bool</span><span class="p">)</span>
</span><span id="SplitView-1241"><a href="#SplitView-1241"><span class="linenos">1241</span></a>    <span class="k">def</span> <span class="nf">enableScrollBars</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">enable</span><span class="p">):</span>
</span><span id="SplitView-1242"><a href="#SplitView-1242"><span class="linenos">1242</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set visiblility of the view&#39;s scrollbars.</span>
</span><span id="SplitView-1243"><a href="#SplitView-1243"><span class="linenos">1243</span></a>
</span><span id="SplitView-1244"><a href="#SplitView-1244"><span class="linenos">1244</span></a><span class="sd">        :param bool enable: True to enable the scrollbars &quot;&quot;&quot;</span>
</span><span id="SplitView-1245"><a href="#SplitView-1245"><span class="linenos">1245</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">enableScrollBars</span><span class="p">(</span><span class="n">enable</span><span class="p">)</span>
</span><span id="SplitView-1246"><a href="#SplitView-1246"><span class="linenos">1246</span></a>
</span><span id="SplitView-1247"><a href="#SplitView-1247"><span class="linenos">1247</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">(</span><span class="nb">bool</span><span class="p">)</span>
</span><span id="SplitView-1248"><a href="#SplitView-1248"><span class="linenos">1248</span></a>    <span class="k">def</span> <span class="nf">enableHandDrag</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">enable</span><span class="p">):</span>
</span><span id="SplitView-1249"><a href="#SplitView-1249"><span class="linenos">1249</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set whether dragging the view with the hand cursor is allowed.</span>
</span><span id="SplitView-1250"><a href="#SplitView-1250"><span class="linenos">1250</span></a>
</span><span id="SplitView-1251"><a href="#SplitView-1251"><span class="linenos">1251</span></a><span class="sd">        :param bool enable: True to enable hand dragging &quot;&quot;&quot;</span>
</span><span id="SplitView-1252"><a href="#SplitView-1252"><span class="linenos">1252</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">enableHandDrag</span><span class="p">(</span><span class="n">enable</span><span class="p">)</span>
</span><span id="SplitView-1253"><a href="#SplitView-1253"><span class="linenos">1253</span></a>
</span><span id="SplitView-1254"><a href="#SplitView-1254"><span class="linenos">1254</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="SplitView-1255"><a href="#SplitView-1255"><span class="linenos">1255</span></a>    <span class="k">def</span> <span class="nf">zoomIn</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView-1256"><a href="#SplitView-1256"><span class="linenos">1256</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Zoom in on image.&quot;&quot;&quot;</span>
</span><span id="SplitView-1257"><a href="#SplitView-1257"><span class="linenos">1257</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scaleImage</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_zoomFactorDelta</span><span class="p">)</span>
</span><span id="SplitView-1258"><a href="#SplitView-1258"><span class="linenos">1258</span></a>
</span><span id="SplitView-1259"><a href="#SplitView-1259"><span class="linenos">1259</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="SplitView-1260"><a href="#SplitView-1260"><span class="linenos">1260</span></a>    <span class="k">def</span> <span class="nf">zoomOut</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView-1261"><a href="#SplitView-1261"><span class="linenos">1261</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Zoom out on image.&quot;&quot;&quot;</span>
</span><span id="SplitView-1262"><a href="#SplitView-1262"><span class="linenos">1262</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scaleImage</span><span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">_zoomFactorDelta</span><span class="p">)</span>
</span><span id="SplitView-1263"><a href="#SplitView-1263"><span class="linenos">1263</span></a>
</span><span id="SplitView-1264"><a href="#SplitView-1264"><span class="linenos">1264</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="SplitView-1265"><a href="#SplitView-1265"><span class="linenos">1265</span></a>    <span class="k">def</span> <span class="nf">actualSize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView-1266"><a href="#SplitView-1266"><span class="linenos">1266</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Change zoom to show image at actual size.</span>
</span><span id="SplitView-1267"><a href="#SplitView-1267"><span class="linenos">1267</span></a>
</span><span id="SplitView-1268"><a href="#SplitView-1268"><span class="linenos">1268</span></a><span class="sd">        (image pixel is equal to screen pixel)&quot;&quot;&quot;</span>
</span><span id="SplitView-1269"><a href="#SplitView-1269"><span class="linenos">1269</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scaleImage</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">combine</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="SplitView-1270"><a href="#SplitView-1270"><span class="linenos">1270</span></a>
</span><span id="SplitView-1271"><a href="#SplitView-1271"><span class="linenos">1271</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="SplitView-1272"><a href="#SplitView-1272"><span class="linenos">1272</span></a>    <span class="k">def</span> <span class="nf">fitToWindow</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView-1273"><a href="#SplitView-1273"><span class="linenos">1273</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Fit image within view.</span>
</span><span id="SplitView-1274"><a href="#SplitView-1274"><span class="linenos">1274</span></a><span class="sd">            </span>
</span><span id="SplitView-1275"><a href="#SplitView-1275"><span class="linenos">1275</span></a><span class="sd">        If the viewport is wider than the main pixmap, then fit the pixmap to height; if the viewport is narrower, then fit the pixmap to width</span>
</span><span id="SplitView-1276"><a href="#SplitView-1276"><span class="linenos">1276</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView-1277"><a href="#SplitView-1277"><span class="linenos">1277</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_main_topleft</span><span class="o">.</span><span class="n">pixmap</span><span class="p">():</span>
</span><span id="SplitView-1278"><a href="#SplitView-1278"><span class="linenos">1278</span></a>            <span class="k">return</span>
</span><span id="SplitView-1279"><a href="#SplitView-1279"><span class="linenos">1279</span></a>
</span><span id="SplitView-1280"><a href="#SplitView-1280"><span class="linenos">1280</span></a>        <span class="n">padding_margin</span> <span class="o">=</span> <span class="mi">2</span> <span class="c1"># Leaves visual gap between pixmap and border of viewport</span>
</span><span id="SplitView-1281"><a href="#SplitView-1281"><span class="linenos">1281</span></a>        <span class="n">viewport_rect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">viewport</span><span class="p">()</span><span class="o">.</span><span class="n">rect</span><span class="p">()</span><span class="o">.</span><span class="n">adjusted</span><span class="p">(</span><span class="n">padding_margin</span><span class="p">,</span> <span class="n">padding_margin</span><span class="p">,</span>
</span><span id="SplitView-1282"><a href="#SplitView-1282"><span class="linenos">1282</span></a>                                                         <span class="o">-</span><span class="n">padding_margin</span><span class="p">,</span> <span class="o">-</span><span class="n">padding_margin</span><span class="p">)</span>
</span><span id="SplitView-1283"><a href="#SplitView-1283"><span class="linenos">1283</span></a>        <span class="n">aspect_ratio_viewport</span> <span class="o">=</span> <span class="n">viewport_rect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">/</span><span class="n">viewport_rect</span><span class="o">.</span><span class="n">height</span><span class="p">()</span>
</span><span id="SplitView-1284"><a href="#SplitView-1284"><span class="linenos">1284</span></a>        <span class="n">aspect_ratio_pixmap</span>   <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">imageWidth</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">imageHeight</span>
</span><span id="SplitView-1285"><a href="#SplitView-1285"><span class="linenos">1285</span></a>        <span class="k">if</span> <span class="n">aspect_ratio_viewport</span> <span class="o">&gt;</span> <span class="n">aspect_ratio_pixmap</span><span class="p">:</span>
</span><span id="SplitView-1286"><a href="#SplitView-1286"><span class="linenos">1286</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">fitHeight</span><span class="p">()</span>
</span><span id="SplitView-1287"><a href="#SplitView-1287"><span class="linenos">1287</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="SplitView-1288"><a href="#SplitView-1288"><span class="linenos">1288</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">fitWidth</span><span class="p">()</span>
</span><span id="SplitView-1289"><a href="#SplitView-1289"><span class="linenos">1289</span></a>
</span><span id="SplitView-1290"><a href="#SplitView-1290"><span class="linenos">1290</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">transformChanged</span><span class="o">.</span><span class="n">emit</span><span class="p">()</span>
</span><span id="SplitView-1291"><a href="#SplitView-1291"><span class="linenos">1291</span></a>    
</span><span id="SplitView-1292"><a href="#SplitView-1292"><span class="linenos">1292</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="SplitView-1293"><a href="#SplitView-1293"><span class="linenos">1293</span></a>    <span class="k">def</span> <span class="nf">fitWidth</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView-1294"><a href="#SplitView-1294"><span class="linenos">1294</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Fit image width to view width.&quot;&quot;&quot;</span>
</span><span id="SplitView-1295"><a href="#SplitView-1295"><span class="linenos">1295</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_main_topleft</span><span class="o">.</span><span class="n">pixmap</span><span class="p">():</span>
</span><span id="SplitView-1296"><a href="#SplitView-1296"><span class="linenos">1296</span></a>            <span class="k">return</span>
</span><span id="SplitView-1297"><a href="#SplitView-1297"><span class="linenos">1297</span></a>        <span class="n">padding_margin</span> <span class="o">=</span> <span class="mi">2</span>
</span><span id="SplitView-1298"><a href="#SplitView-1298"><span class="linenos">1298</span></a>        <span class="n">viewRect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">viewport</span><span class="p">()</span><span class="o">.</span><span class="n">rect</span><span class="p">()</span><span class="o">.</span><span class="n">adjusted</span><span class="p">(</span><span class="n">padding_margin</span><span class="p">,</span> <span class="n">padding_margin</span><span class="p">,</span>
</span><span id="SplitView-1299"><a href="#SplitView-1299"><span class="linenos">1299</span></a>                                                         <span class="o">-</span><span class="n">padding_margin</span><span class="p">,</span> <span class="o">-</span><span class="n">padding_margin</span><span class="p">)</span>
</span><span id="SplitView-1300"><a href="#SplitView-1300"><span class="linenos">1300</span></a>        <span class="n">factor</span> <span class="o">=</span> <span class="n">viewRect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">imageWidth</span>
</span><span id="SplitView-1301"><a href="#SplitView-1301"><span class="linenos">1301</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scaleImage</span><span class="p">(</span><span class="n">factor</span><span class="p">,</span> <span class="n">combine</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="SplitView-1302"><a href="#SplitView-1302"><span class="linenos">1302</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">centerView</span><span class="p">()</span>
</span><span id="SplitView-1303"><a href="#SplitView-1303"><span class="linenos">1303</span></a>    
</span><span id="SplitView-1304"><a href="#SplitView-1304"><span class="linenos">1304</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="SplitView-1305"><a href="#SplitView-1305"><span class="linenos">1305</span></a>    <span class="k">def</span> <span class="nf">fitHeight</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView-1306"><a href="#SplitView-1306"><span class="linenos">1306</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Fit image height to view height.&quot;&quot;&quot;</span>
</span><span id="SplitView-1307"><a href="#SplitView-1307"><span class="linenos">1307</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_main_topleft</span><span class="o">.</span><span class="n">pixmap</span><span class="p">():</span>
</span><span id="SplitView-1308"><a href="#SplitView-1308"><span class="linenos">1308</span></a>            <span class="k">return</span>
</span><span id="SplitView-1309"><a href="#SplitView-1309"><span class="linenos">1309</span></a>        <span class="n">padding_margin</span> <span class="o">=</span> <span class="mi">2</span>
</span><span id="SplitView-1310"><a href="#SplitView-1310"><span class="linenos">1310</span></a>        <span class="n">viewRect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">viewport</span><span class="p">()</span><span class="o">.</span><span class="n">rect</span><span class="p">()</span><span class="o">.</span><span class="n">adjusted</span><span class="p">(</span><span class="n">padding_margin</span><span class="p">,</span> <span class="n">padding_margin</span><span class="p">,</span>
</span><span id="SplitView-1311"><a href="#SplitView-1311"><span class="linenos">1311</span></a>                                                         <span class="o">-</span><span class="n">padding_margin</span><span class="p">,</span> <span class="o">-</span><span class="n">padding_margin</span><span class="p">)</span>
</span><span id="SplitView-1312"><a href="#SplitView-1312"><span class="linenos">1312</span></a>        <span class="n">factor</span> <span class="o">=</span> <span class="n">viewRect</span><span class="o">.</span><span class="n">height</span><span class="p">()</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">imageHeight</span>
</span><span id="SplitView-1313"><a href="#SplitView-1313"><span class="linenos">1313</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scaleImage</span><span class="p">(</span><span class="n">factor</span><span class="p">,</span> <span class="n">combine</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="SplitView-1314"><a href="#SplitView-1314"><span class="linenos">1314</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">centerView</span><span class="p">()</span>
</span><span id="SplitView-1315"><a href="#SplitView-1315"><span class="linenos">1315</span></a>
</span><span id="SplitView-1316"><a href="#SplitView-1316"><span class="linenos">1316</span></a>    <span class="nd">@property</span>
</span><span id="SplitView-1317"><a href="#SplitView-1317"><span class="linenos">1317</span></a>    <span class="k">def</span> <span class="nf">imageWidth</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView-1318"><a href="#SplitView-1318"><span class="linenos">1318</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;int: Width of base (main) image pixmap.&quot;&quot;&quot;</span>
</span><span id="SplitView-1319"><a href="#SplitView-1319"><span class="linenos">1319</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_main_topleft</span><span class="o">.</span><span class="n">pixmap</span><span class="p">()</span><span class="o">.</span><span class="n">width</span><span class="p">()</span>
</span><span id="SplitView-1320"><a href="#SplitView-1320"><span class="linenos">1320</span></a>    
</span><span id="SplitView-1321"><a href="#SplitView-1321"><span class="linenos">1321</span></a>    <span class="nd">@property</span>
</span><span id="SplitView-1322"><a href="#SplitView-1322"><span class="linenos">1322</span></a>    <span class="k">def</span> <span class="nf">imageHeight</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView-1323"><a href="#SplitView-1323"><span class="linenos">1323</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;int: Height of base (main) image pixmap.&quot;&quot;&quot;</span>
</span><span id="SplitView-1324"><a href="#SplitView-1324"><span class="linenos">1324</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_main_topleft</span><span class="o">.</span><span class="n">pixmap</span><span class="p">()</span><span class="o">.</span><span class="n">height</span><span class="p">()</span>
</span><span id="SplitView-1325"><a href="#SplitView-1325"><span class="linenos">1325</span></a>
</span><span id="SplitView-1326"><a href="#SplitView-1326"><span class="linenos">1326</span></a>    <span class="k">def</span> <span class="nf">handleWheelNotches</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">notches</span><span class="p">):</span>
</span><span id="SplitView-1327"><a href="#SplitView-1327"><span class="linenos">1327</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Handle wheel notch event from underlying |QGraphicsView|.</span>
</span><span id="SplitView-1328"><a href="#SplitView-1328"><span class="linenos">1328</span></a>
</span><span id="SplitView-1329"><a href="#SplitView-1329"><span class="linenos">1329</span></a><span class="sd">        :param float notches: Mouse wheel notches&quot;&quot;&quot;</span>
</span><span id="SplitView-1330"><a href="#SplitView-1330"><span class="linenos">1330</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scaleImage</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_zoomFactorDelta</span> <span class="o">**</span> <span class="n">notches</span><span class="p">)</span>
</span><span id="SplitView-1331"><a href="#SplitView-1331"><span class="linenos">1331</span></a>
</span><span id="SplitView-1332"><a href="#SplitView-1332"><span class="linenos">1332</span></a>    <span class="k">def</span> <span class="nf">closeEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
</span><span id="SplitView-1333"><a href="#SplitView-1333"><span class="linenos">1333</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Overriden in order to disconnect scrollbar signals before</span>
</span><span id="SplitView-1334"><a href="#SplitView-1334"><span class="linenos">1334</span></a><span class="sd">        closing.</span>
</span><span id="SplitView-1335"><a href="#SplitView-1335"><span class="linenos">1335</span></a>
</span><span id="SplitView-1336"><a href="#SplitView-1336"><span class="linenos">1336</span></a><span class="sd">        :param QEvent event: instance of a |QEvent|</span>
</span><span id="SplitView-1337"><a href="#SplitView-1337"><span class="linenos">1337</span></a><span class="sd">        </span>
</span><span id="SplitView-1338"><a href="#SplitView-1338"><span class="linenos">1338</span></a><span class="sd">        If this isn&#39;t done Python crashes!&quot;&quot;&quot;</span>
</span><span id="SplitView-1339"><a href="#SplitView-1339"><span class="linenos">1339</span></a>        <span class="c1">#self.scrollChanged.disconnect() #doesn&#39;t prevent crash</span>
</span><span id="SplitView-1340"><a href="#SplitView-1340"><span class="linenos">1340</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">disconnectSbarSignals</span><span class="p">()</span>
</span><span id="SplitView-1341"><a href="#SplitView-1341"><span class="linenos">1341</span></a>        
</span><span id="SplitView-1342"><a href="#SplitView-1342"><span class="linenos">1342</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
</span><span id="SplitView-1343"><a href="#SplitView-1343"><span class="linenos">1343</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
</span><span id="SplitView-1344"><a href="#SplitView-1344"><span class="linenos">1344</span></a>        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_base_original</span>
</span><span id="SplitView-1345"><a href="#SplitView-1345"><span class="linenos">1345</span></a>        
</span><span id="SplitView-1346"><a href="#SplitView-1346"><span class="linenos">1346</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_topright</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
</span><span id="SplitView-1347"><a href="#SplitView-1347"><span class="linenos">1347</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_topright</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
</span><span id="SplitView-1348"><a href="#SplitView-1348"><span class="linenos">1348</span></a>        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_topright_original</span>
</span><span id="SplitView-1349"><a href="#SplitView-1349"><span class="linenos">1349</span></a>        
</span><span id="SplitView-1350"><a href="#SplitView-1350"><span class="linenos">1350</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_bottomright</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
</span><span id="SplitView-1351"><a href="#SplitView-1351"><span class="linenos">1351</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomright</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
</span><span id="SplitView-1352"><a href="#SplitView-1352"><span class="linenos">1352</span></a>        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_bottomright_original</span>
</span><span id="SplitView-1353"><a href="#SplitView-1353"><span class="linenos">1353</span></a>        
</span><span id="SplitView-1354"><a href="#SplitView-1354"><span class="linenos">1354</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_bottomleft</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
</span><span id="SplitView-1355"><a href="#SplitView-1355"><span class="linenos">1355</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomleft</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
</span><span id="SplitView-1356"><a href="#SplitView-1356"><span class="linenos">1356</span></a>        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_bottomleft_original</span>
</span><span id="SplitView-1357"><a href="#SplitView-1357"><span class="linenos">1357</span></a>        
</span><span id="SplitView-1358"><a href="#SplitView-1358"><span class="linenos">1358</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">closeEvent</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</span><span id="SplitView-1359"><a href="#SplitView-1359"><span class="linenos">1359</span></a>        <span class="n">gc</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
</span><span id="SplitView-1360"><a href="#SplitView-1360"><span class="linenos">1360</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">became_closed</span><span class="o">.</span><span class="n">emit</span><span class="p">()</span>
</span><span id="SplitView-1361"><a href="#SplitView-1361"><span class="linenos">1361</span></a>        
</span><span id="SplitView-1362"><a href="#SplitView-1362"><span class="linenos">1362</span></a>    <span class="k">def</span> <span class="nf">scaleImage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">factor</span><span class="p">,</span> <span class="n">combine</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
</span><span id="SplitView-1363"><a href="#SplitView-1363"><span class="linenos">1363</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Scale image by factor.</span>
</span><span id="SplitView-1364"><a href="#SplitView-1364"><span class="linenos">1364</span></a>
</span><span id="SplitView-1365"><a href="#SplitView-1365"><span class="linenos">1365</span></a><span class="sd">        :param float factor: either new :attr:`zoomFactor` or amount to scale</span>
</span><span id="SplitView-1366"><a href="#SplitView-1366"><span class="linenos">1366</span></a><span class="sd">                             current :attr:`zoomFactor`</span>
</span><span id="SplitView-1367"><a href="#SplitView-1367"><span class="linenos">1367</span></a>
</span><span id="SplitView-1368"><a href="#SplitView-1368"><span class="linenos">1368</span></a><span class="sd">        :param bool combine: if ``True`` scales the current</span>
</span><span id="SplitView-1369"><a href="#SplitView-1369"><span class="linenos">1369</span></a><span class="sd">                             :attr:`zoomFactor` by factor.  Otherwise</span>
</span><span id="SplitView-1370"><a href="#SplitView-1370"><span class="linenos">1370</span></a><span class="sd">                             just sets :attr:`zoomFactor` to factor&quot;&quot;&quot;</span>
</span><span id="SplitView-1371"><a href="#SplitView-1371"><span class="linenos">1371</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_main_topleft</span><span class="o">.</span><span class="n">pixmap</span><span class="p">():</span>
</span><span id="SplitView-1372"><a href="#SplitView-1372"><span class="linenos">1372</span></a>            <span class="k">return</span>
</span><span id="SplitView-1373"><a href="#SplitView-1373"><span class="linenos">1373</span></a>
</span><span id="SplitView-1374"><a href="#SplitView-1374"><span class="linenos">1374</span></a>        <span class="k">if</span> <span class="n">combine</span><span class="p">:</span>
</span><span id="SplitView-1375"><a href="#SplitView-1375"><span class="linenos">1375</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">zoomFactor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">zoomFactor</span> <span class="o">*</span> <span class="n">factor</span>
</span><span id="SplitView-1376"><a href="#SplitView-1376"><span class="linenos">1376</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="SplitView-1377"><a href="#SplitView-1377"><span class="linenos">1377</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">zoomFactor</span> <span class="o">=</span> <span class="n">factor</span>
</span><span id="SplitView-1378"><a href="#SplitView-1378"><span class="linenos">1378</span></a>            
</span><span id="SplitView-1379"><a href="#SplitView-1379"><span class="linenos">1379</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">checkTransformChanged</span><span class="p">()</span>
</span><span id="SplitView-1380"><a href="#SplitView-1380"><span class="linenos">1380</span></a>
</span><span id="SplitView-1381"><a href="#SplitView-1381"><span class="linenos">1381</span></a>    <span class="k">def</span> <span class="nf">dumpTransform</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView-1382"><a href="#SplitView-1382"><span class="linenos">1382</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Dump view transform to stdout.&quot;&quot;&quot;</span>
</span><span id="SplitView-1383"><a href="#SplitView-1383"><span class="linenos">1383</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">dumpTransform</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">transform</span><span class="p">(),</span> <span class="s2">&quot; &quot;</span><span class="o">*</span><span class="mi">4</span><span class="p">)</span>
</span><span id="SplitView-1384"><a href="#SplitView-1384"><span class="linenos">1384</span></a>    
</span><span id="SplitView-1385"><a href="#SplitView-1385"><span class="linenos">1385</span></a>    
</span><span id="SplitView-1386"><a href="#SplitView-1386"><span class="linenos">1386</span></a>    <span class="k">def</span> <span class="nf">create_mouse_rect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView-1387"><a href="#SplitView-1387"><span class="linenos">1387</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a red 1x1 outline at the pointer in the main scene.</span>
</span><span id="SplitView-1388"><a href="#SplitView-1388"><span class="linenos">1388</span></a><span class="sd">        </span>
</span><span id="SplitView-1389"><a href="#SplitView-1389"><span class="linenos">1389</span></a><span class="sd">        Indicates to the user the size and position of the pixel over which the mouse is hovering.</span>
</span><span id="SplitView-1390"><a href="#SplitView-1390"><span class="linenos">1390</span></a><span class="sd">        Helps to understand the position of individual pixels and their scale at the current zoom.</span>
</span><span id="SplitView-1391"><a href="#SplitView-1391"><span class="linenos">1391</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView-1392"><a href="#SplitView-1392"><span class="linenos">1392</span></a>    
</span><span id="SplitView-1393"><a href="#SplitView-1393"><span class="linenos">1393</span></a>        <span class="n">pen</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPen</span><span class="p">()</span> 
</span><span id="SplitView-1394"><a href="#SplitView-1394"><span class="linenos">1394</span></a>        <span class="n">pen</span><span class="o">.</span><span class="n">setWidth</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
</span><span id="SplitView-1395"><a href="#SplitView-1395"><span class="linenos">1395</span></a>        <span class="n">pen</span><span class="o">.</span><span class="n">setColor</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">red</span><span class="p">)</span>
</span><span id="SplitView-1396"><a href="#SplitView-1396"><span class="linenos">1396</span></a>        <span class="n">pen</span><span class="o">.</span><span class="n">setCapStyle</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">SquareCap</span><span class="p">)</span>
</span><span id="SplitView-1397"><a href="#SplitView-1397"><span class="linenos">1397</span></a>        <span class="n">pen</span><span class="o">.</span><span class="n">setJoinStyle</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">MiterJoin</span><span class="p">)</span>
</span><span id="SplitView-1398"><a href="#SplitView-1398"><span class="linenos">1398</span></a>            
</span><span id="SplitView-1399"><a href="#SplitView-1399"><span class="linenos">1399</span></a>        <span class="n">brush</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QBrush</span><span class="p">()</span>
</span><span id="SplitView-1400"><a href="#SplitView-1400"><span class="linenos">1400</span></a>        <span class="n">brush</span><span class="o">.</span><span class="n">setColor</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">transparent</span><span class="p">)</span>
</span><span id="SplitView-1401"><a href="#SplitView-1401"><span class="linenos">1401</span></a>        
</span><span id="SplitView-1402"><a href="#SplitView-1402"><span class="linenos">1402</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_width</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="SplitView-1403"><a href="#SplitView-1403"><span class="linenos">1403</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_height</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="SplitView-1404"><a href="#SplitView-1404"><span class="linenos">1404</span></a>        
</span><span id="SplitView-1405"><a href="#SplitView-1405"><span class="linenos">1405</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_topleft</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
</span><span id="SplitView-1406"><a href="#SplitView-1406"><span class="linenos">1406</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_bottomright</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_width</span><span class="o">-</span><span class="mf">0.01</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_height</span><span class="o">-</span><span class="mf">0.01</span><span class="p">)</span>
</span><span id="SplitView-1407"><a href="#SplitView-1407"><span class="linenos">1407</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QRectF</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_topleft</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_bottomright</span><span class="p">)</span>
</span><span id="SplitView-1408"><a href="#SplitView-1408"><span class="linenos">1408</span></a>        
</span><span id="SplitView-1409"><a href="#SplitView-1409"><span class="linenos">1409</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_scene_main_topleft</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGraphicsRectItem</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect</span><span class="p">)</span> <span class="c1"># To add the same item in two scenes, you need to create two unique items</span>
</span><span id="SplitView-1410"><a href="#SplitView-1410"><span class="linenos">1410</span></a>        
</span><span id="SplitView-1411"><a href="#SplitView-1411"><span class="linenos">1411</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_scene_main_topleft</span><span class="o">.</span><span class="n">setPos</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
</span><span id="SplitView-1412"><a href="#SplitView-1412"><span class="linenos">1412</span></a>        
</span><span id="SplitView-1413"><a href="#SplitView-1413"><span class="linenos">1413</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_scene_main_topleft</span><span class="o">.</span><span class="n">setBrush</span><span class="p">(</span><span class="n">brush</span><span class="p">)</span>
</span><span id="SplitView-1414"><a href="#SplitView-1414"><span class="linenos">1414</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_scene_main_topleft</span><span class="o">.</span><span class="n">setPen</span><span class="p">(</span><span class="n">pen</span><span class="p">)</span>
</span><span id="SplitView-1415"><a href="#SplitView-1415"><span class="linenos">1415</span></a>        
</span><span id="SplitView-1416"><a href="#SplitView-1416"><span class="linenos">1416</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_scene_main_topleft</span><span class="p">)</span>
</span><span id="SplitView-1417"><a href="#SplitView-1417"><span class="linenos">1417</span></a>
</span><span id="SplitView-1418"><a href="#SplitView-1418"><span class="linenos">1418</span></a>    <span class="k">def</span> <span class="nf">set_mouse_rect_visible</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">boolean</span><span class="p">):</span>
</span><span id="SplitView-1419"><a href="#SplitView-1419"><span class="linenos">1419</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the visibilty of the red 1x1 outline at the pointer in the main scene.</span>
</span><span id="SplitView-1420"><a href="#SplitView-1420"><span class="linenos">1420</span></a><span class="sd">        </span>
</span><span id="SplitView-1421"><a href="#SplitView-1421"><span class="linenos">1421</span></a><span class="sd">        Args:</span>
</span><span id="SplitView-1422"><a href="#SplitView-1422"><span class="linenos">1422</span></a><span class="sd">            boolean (bool): True to show 1x1 outline; False to hide.</span>
</span><span id="SplitView-1423"><a href="#SplitView-1423"><span class="linenos">1423</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView-1424"><a href="#SplitView-1424"><span class="linenos">1424</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_scene_main_topleft</span><span class="o">.</span><span class="n">setVisible</span><span class="p">(</span><span class="n">boolean</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Image viewing widget for individual images and sliding overlays.</p>

<p>Creates an interface with a base image as a main image located at the top left <br />
and optionally 3 other images (top-left, bottom-left, bottom-right) as a sliding overlay.
Supports zoom and pan.
Enables synchronized zoom and pan via signals.
Input images for a given sliding overlay must have identical resolutions to 
function properly.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>pixmap (QPixmap):</strong>  The main image to be viewed; the basis of the sliding overlay (main; topleft)</li>
<li><strong>filename_main_topleft (str):</strong>  The image filepath of the main image.</li>
<li><strong>name (str):</strong>  The name of the viewing widget.</li>
<li><strong>pixmap_topright (QPixmap):</strong>  The top-right image of the sliding overlay (set None to exclude).</li>
<li><strong>pixmap_bottomleft (QPixmap):</strong>  The bottom-left image of the sliding overlay (set None to exclude).</li>
<li><strong>pixmap_bottomright (QPixmap):</strong>  The bottom-right image of the sliding overlay (set None to exclude).</li>
</ul>
</div>


                            <div id="SplitView.currentFile" class="classattr">
                                <div class="attr variable">
            <span class="name">currentFile</span>

        
    </div>
    <a class="headerlink" href="#SplitView.currentFile"></a>
    
            <div class="docstring"><p>str: Filepath of base image (filename_main_topleft).</p>
</div>


                            </div>
                            <div id="SplitView.viewName" class="classattr">
                                <div class="attr variable">
            <span class="name">viewName</span>

        
    </div>
    <a class="headerlink" href="#SplitView.viewName"></a>
    
            <div class="docstring"><p>str: The name of the SplitView.</p>
</div>


                            </div>
                            <div id="SplitView.pixmap_topright" class="classattr">
                                <div class="attr variable">
            <span class="name">pixmap_topright</span>

        
    </div>
    <a class="headerlink" href="#SplitView.pixmap_topright"></a>
    
            <div class="docstring"><p>The currently viewed QPixmap of the top-right of the split.</p>
</div>


                            </div>
                            <div id="SplitView.pixmap_bottomleft" class="classattr">
                                <div class="attr variable">
            <span class="name">pixmap_bottomleft</span>

        
    </div>
    <a class="headerlink" href="#SplitView.pixmap_bottomleft"></a>
    
            <div class="docstring"><p>The currently viewed QPixmap of the bottom-left of the split.</p>
</div>


                            </div>
                            <div id="SplitView.pixmap_bottomright" class="classattr">
                                <div class="attr variable">
            <span class="name">pixmap_bottomright</span>

        
    </div>
    <a class="headerlink" href="#SplitView.pixmap_bottomright"></a>
    
            <div class="docstring"><p>The currently viewed QPixmap of the bottom-right of the split.</p>
</div>


                            </div>
                            <div id="SplitView.userFriendlyCurrentFile" class="classattr">
                                <div class="attr variable">
            <span class="name">userFriendlyCurrentFile</span>

        
    </div>
    <a class="headerlink" href="#SplitView.userFriendlyCurrentFile"></a>
    
            <div class="docstring"><p>str: Filename of base image.</p>
</div>


                            </div>
                            <div id="SplitView.set_close_pushbutton_always_visible" class="classattr">
                                        <input id="SplitView.set_close_pushbutton_always_visible-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_close_pushbutton_always_visible</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">boolean</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.set_close_pushbutton_always_visible-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.set_close_pushbutton_always_visible"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.set_close_pushbutton_always_visible-370"><a href="#SplitView.set_close_pushbutton_always_visible-370"><span class="linenos">370</span></a>    <span class="k">def</span> <span class="nf">set_close_pushbutton_always_visible</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">boolean</span><span class="p">):</span>
</span><span id="SplitView.set_close_pushbutton_always_visible-371"><a href="#SplitView.set_close_pushbutton_always_visible-371"><span class="linenos">371</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Enable/disable the always-on visiblilty of the close X of the view.</span>
</span><span id="SplitView.set_close_pushbutton_always_visible-372"><a href="#SplitView.set_close_pushbutton_always_visible-372"><span class="linenos">372</span></a><span class="sd">        </span>
</span><span id="SplitView.set_close_pushbutton_always_visible-373"><a href="#SplitView.set_close_pushbutton_always_visible-373"><span class="linenos">373</span></a><span class="sd">        Arg:</span>
</span><span id="SplitView.set_close_pushbutton_always_visible-374"><a href="#SplitView.set_close_pushbutton_always_visible-374"><span class="linenos">374</span></a><span class="sd">            boolean (bool): True to show the close X always; False to hide unless mouse hovers over.</span>
</span><span id="SplitView.set_close_pushbutton_always_visible-375"><a href="#SplitView.set_close_pushbutton_always_visible-375"><span class="linenos">375</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView.set_close_pushbutton_always_visible-376"><a href="#SplitView.set_close_pushbutton_always_visible-376"><span class="linenos">376</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">close_pushbutton_always_visible</span> <span class="o">=</span> <span class="n">boolean</span>
</span><span id="SplitView.set_close_pushbutton_always_visible-377"><a href="#SplitView.set_close_pushbutton_always_visible-377"><span class="linenos">377</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">refresh_close_pushbutton_stylesheet</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Enable/disable the always-on visiblilty of the close X of the view.</p>

<h6 id="arg">Arg:</h6>

<blockquote>
  <p>boolean (bool): True to show the close X always; False to hide unless mouse hovers over.</p>
</blockquote>
</div>


                            </div>
                            <div id="SplitView.refresh_close_pushbutton_stylesheet" class="classattr">
                                        <input id="SplitView.refresh_close_pushbutton_stylesheet-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">refresh_close_pushbutton_stylesheet</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.refresh_close_pushbutton_stylesheet-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.refresh_close_pushbutton_stylesheet"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.refresh_close_pushbutton_stylesheet-379"><a href="#SplitView.refresh_close_pushbutton_stylesheet-379"><span class="linenos">379</span></a>    <span class="k">def</span> <span class="nf">refresh_close_pushbutton_stylesheet</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-380"><a href="#SplitView.refresh_close_pushbutton_stylesheet-380"><span class="linenos">380</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Refresh stylesheet of close pushbutton based on background color and visibility.&quot;&quot;&quot;</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-381"><a href="#SplitView.refresh_close_pushbutton_stylesheet-381"><span class="linenos">381</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">close_pushbutton</span><span class="p">:</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-382"><a href="#SplitView.refresh_close_pushbutton_stylesheet-382"><span class="linenos">382</span></a>            <span class="k">return</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-383"><a href="#SplitView.refresh_close_pushbutton_stylesheet-383"><span class="linenos">383</span></a>        <span class="n">always_visible</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">close_pushbutton_always_visible</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-384"><a href="#SplitView.refresh_close_pushbutton_stylesheet-384"><span class="linenos">384</span></a>        <span class="n">background_rgb</span> <span class="o">=</span>  <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">background_rgb</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-385"><a href="#SplitView.refresh_close_pushbutton_stylesheet-385"><span class="linenos">385</span></a>        <span class="n">avg_background_rgb</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">background_rgb</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">background_rgb</span><span class="p">)</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-386"><a href="#SplitView.refresh_close_pushbutton_stylesheet-386"><span class="linenos">386</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">always_visible</span><span class="p">:</span> <span class="c1"># Hide unless hovered</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-387"><a href="#SplitView.refresh_close_pushbutton_stylesheet-387"><span class="linenos">387</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">close_pushbutton</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-388"><a href="#SplitView.refresh_close_pushbutton_stylesheet-388"><span class="linenos">388</span></a><span class="s2">                QPushButton {</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-389"><a href="#SplitView.refresh_close_pushbutton_stylesheet-389"><span class="linenos">389</span></a><span class="s2">                    width: 1.8em;</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-390"><a href="#SplitView.refresh_close_pushbutton_stylesheet-390"><span class="linenos">390</span></a><span class="s2">                    height: 1.8em;</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-391"><a href="#SplitView.refresh_close_pushbutton_stylesheet-391"><span class="linenos">391</span></a><span class="s2">                    color: transparent;</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-392"><a href="#SplitView.refresh_close_pushbutton_stylesheet-392"><span class="linenos">392</span></a><span class="s2">                    background-color: rgba(223, 0, 0, 0); </span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-393"><a href="#SplitView.refresh_close_pushbutton_stylesheet-393"><span class="linenos">393</span></a><span class="s2">                    font-weight: bold;</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-394"><a href="#SplitView.refresh_close_pushbutton_stylesheet-394"><span class="linenos">394</span></a><span class="s2">                    border-width: 0px;</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-395"><a href="#SplitView.refresh_close_pushbutton_stylesheet-395"><span class="linenos">395</span></a><span class="s2">                    border-style: solid;</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-396"><a href="#SplitView.refresh_close_pushbutton_stylesheet-396"><span class="linenos">396</span></a><span class="s2">                    border-color: transparent;</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-397"><a href="#SplitView.refresh_close_pushbutton_stylesheet-397"><span class="linenos">397</span></a><span class="s2">                    font-size: 10pt;</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-398"><a href="#SplitView.refresh_close_pushbutton_stylesheet-398"><span class="linenos">398</span></a><span class="s2">                }</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-399"><a href="#SplitView.refresh_close_pushbutton_stylesheet-399"><span class="linenos">399</span></a><span class="s2">                QPushButton:hover {</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-400"><a href="#SplitView.refresh_close_pushbutton_stylesheet-400"><span class="linenos">400</span></a><span class="s2">                    color: white;</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-401"><a href="#SplitView.refresh_close_pushbutton_stylesheet-401"><span class="linenos">401</span></a><span class="s2">                    background-color: rgba(223, 0, 0, 223);</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-402"><a href="#SplitView.refresh_close_pushbutton_stylesheet-402"><span class="linenos">402</span></a><span class="s2">                }</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-403"><a href="#SplitView.refresh_close_pushbutton_stylesheet-403"><span class="linenos">403</span></a><span class="s2">                QPushButton:pressed {</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-404"><a href="#SplitView.refresh_close_pushbutton_stylesheet-404"><span class="linenos">404</span></a><span class="s2">                    color: white;</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-405"><a href="#SplitView.refresh_close_pushbutton_stylesheet-405"><span class="linenos">405</span></a><span class="s2">                    background-color: rgba(255, 0, 0, 255);</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-406"><a href="#SplitView.refresh_close_pushbutton_stylesheet-406"><span class="linenos">406</span></a><span class="s2">                }</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-407"><a href="#SplitView.refresh_close_pushbutton_stylesheet-407"><span class="linenos">407</span></a><span class="s2">                &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-408"><a href="#SplitView.refresh_close_pushbutton_stylesheet-408"><span class="linenos">408</span></a>        <span class="k">else</span><span class="p">:</span> <span class="c1"># Always visible</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-409"><a href="#SplitView.refresh_close_pushbutton_stylesheet-409"><span class="linenos">409</span></a>            <span class="k">if</span> <span class="n">avg_background_rgb</span> <span class="o">&gt;=</span> <span class="mi">223</span><span class="p">:</span> <span class="c1"># Unhovered is black X on light background</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-410"><a href="#SplitView.refresh_close_pushbutton_stylesheet-410"><span class="linenos">410</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">close_pushbutton</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-411"><a href="#SplitView.refresh_close_pushbutton_stylesheet-411"><span class="linenos">411</span></a><span class="s2">                    QPushButton {</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-412"><a href="#SplitView.refresh_close_pushbutton_stylesheet-412"><span class="linenos">412</span></a><span class="s2">                        width: 1.8em;</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-413"><a href="#SplitView.refresh_close_pushbutton_stylesheet-413"><span class="linenos">413</span></a><span class="s2">                        height: 1.8em;</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-414"><a href="#SplitView.refresh_close_pushbutton_stylesheet-414"><span class="linenos">414</span></a><span class="s2">                        color: black;</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-415"><a href="#SplitView.refresh_close_pushbutton_stylesheet-415"><span class="linenos">415</span></a><span class="s2">                        background-color: rgba(223, 0, 0, 0); </span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-416"><a href="#SplitView.refresh_close_pushbutton_stylesheet-416"><span class="linenos">416</span></a><span class="s2">                        font-weight: bold;</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-417"><a href="#SplitView.refresh_close_pushbutton_stylesheet-417"><span class="linenos">417</span></a><span class="s2">                        border-width: 0px;</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-418"><a href="#SplitView.refresh_close_pushbutton_stylesheet-418"><span class="linenos">418</span></a><span class="s2">                        border-style: solid;</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-419"><a href="#SplitView.refresh_close_pushbutton_stylesheet-419"><span class="linenos">419</span></a><span class="s2">                        border-color: transparent;</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-420"><a href="#SplitView.refresh_close_pushbutton_stylesheet-420"><span class="linenos">420</span></a><span class="s2">                        font-size: 10pt;</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-421"><a href="#SplitView.refresh_close_pushbutton_stylesheet-421"><span class="linenos">421</span></a><span class="s2">                    }</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-422"><a href="#SplitView.refresh_close_pushbutton_stylesheet-422"><span class="linenos">422</span></a><span class="s2">                    QPushButton:hover {</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-423"><a href="#SplitView.refresh_close_pushbutton_stylesheet-423"><span class="linenos">423</span></a><span class="s2">                        color: white;</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-424"><a href="#SplitView.refresh_close_pushbutton_stylesheet-424"><span class="linenos">424</span></a><span class="s2">                        background-color: rgba(223, 0, 0, 223);</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-425"><a href="#SplitView.refresh_close_pushbutton_stylesheet-425"><span class="linenos">425</span></a><span class="s2">                    }</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-426"><a href="#SplitView.refresh_close_pushbutton_stylesheet-426"><span class="linenos">426</span></a><span class="s2">                    QPushButton:pressed {</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-427"><a href="#SplitView.refresh_close_pushbutton_stylesheet-427"><span class="linenos">427</span></a><span class="s2">                        color: white;</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-428"><a href="#SplitView.refresh_close_pushbutton_stylesheet-428"><span class="linenos">428</span></a><span class="s2">                        background-color: rgba(255, 0, 0, 255);</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-429"><a href="#SplitView.refresh_close_pushbutton_stylesheet-429"><span class="linenos">429</span></a><span class="s2">                    }</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-430"><a href="#SplitView.refresh_close_pushbutton_stylesheet-430"><span class="linenos">430</span></a><span class="s2">                    &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-431"><a href="#SplitView.refresh_close_pushbutton_stylesheet-431"><span class="linenos">431</span></a>            <span class="k">else</span><span class="p">:</span> <span class="c1"># Unhovered is white X on dark background</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-432"><a href="#SplitView.refresh_close_pushbutton_stylesheet-432"><span class="linenos">432</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">close_pushbutton</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-433"><a href="#SplitView.refresh_close_pushbutton_stylesheet-433"><span class="linenos">433</span></a><span class="s2">                    QPushButton {</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-434"><a href="#SplitView.refresh_close_pushbutton_stylesheet-434"><span class="linenos">434</span></a><span class="s2">                        width: 1.8em;</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-435"><a href="#SplitView.refresh_close_pushbutton_stylesheet-435"><span class="linenos">435</span></a><span class="s2">                        height: 1.8em;</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-436"><a href="#SplitView.refresh_close_pushbutton_stylesheet-436"><span class="linenos">436</span></a><span class="s2">                        color: white;</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-437"><a href="#SplitView.refresh_close_pushbutton_stylesheet-437"><span class="linenos">437</span></a><span class="s2">                        background-color: rgba(223, 0, 0, 0); </span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-438"><a href="#SplitView.refresh_close_pushbutton_stylesheet-438"><span class="linenos">438</span></a><span class="s2">                        font-weight: bold;</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-439"><a href="#SplitView.refresh_close_pushbutton_stylesheet-439"><span class="linenos">439</span></a><span class="s2">                        border-width: 0px;</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-440"><a href="#SplitView.refresh_close_pushbutton_stylesheet-440"><span class="linenos">440</span></a><span class="s2">                        border-style: solid;</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-441"><a href="#SplitView.refresh_close_pushbutton_stylesheet-441"><span class="linenos">441</span></a><span class="s2">                        border-color: transparent;</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-442"><a href="#SplitView.refresh_close_pushbutton_stylesheet-442"><span class="linenos">442</span></a><span class="s2">                        font-size: 10pt;</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-443"><a href="#SplitView.refresh_close_pushbutton_stylesheet-443"><span class="linenos">443</span></a><span class="s2">                    }</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-444"><a href="#SplitView.refresh_close_pushbutton_stylesheet-444"><span class="linenos">444</span></a><span class="s2">                    QPushButton:hover {</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-445"><a href="#SplitView.refresh_close_pushbutton_stylesheet-445"><span class="linenos">445</span></a><span class="s2">                        color: white;</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-446"><a href="#SplitView.refresh_close_pushbutton_stylesheet-446"><span class="linenos">446</span></a><span class="s2">                        background-color: rgba(223, 0, 0, 223);</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-447"><a href="#SplitView.refresh_close_pushbutton_stylesheet-447"><span class="linenos">447</span></a><span class="s2">                    }</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-448"><a href="#SplitView.refresh_close_pushbutton_stylesheet-448"><span class="linenos">448</span></a><span class="s2">                    QPushButton:pressed {</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-449"><a href="#SplitView.refresh_close_pushbutton_stylesheet-449"><span class="linenos">449</span></a><span class="s2">                        color: white;</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-450"><a href="#SplitView.refresh_close_pushbutton_stylesheet-450"><span class="linenos">450</span></a><span class="s2">                        background-color: rgba(255, 0, 0, 255);</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-451"><a href="#SplitView.refresh_close_pushbutton_stylesheet-451"><span class="linenos">451</span></a><span class="s2">                    }</span>
</span><span id="SplitView.refresh_close_pushbutton_stylesheet-452"><a href="#SplitView.refresh_close_pushbutton_stylesheet-452"><span class="linenos">452</span></a><span class="s2">                    &quot;&quot;&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Refresh stylesheet of close pushbutton based on background color and visibility.</p>
</div>


                            </div>
                            <div id="SplitView.set_scene_background" class="classattr">
                                        <input id="SplitView.set_scene_background-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_scene_background</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">brush</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.set_scene_background-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.set_scene_background"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.set_scene_background-455"><a href="#SplitView.set_scene_background-455"><span class="linenos">455</span></a>    <span class="k">def</span> <span class="nf">set_scene_background</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">brush</span><span class="p">):</span>
</span><span id="SplitView.set_scene_background-456"><a href="#SplitView.set_scene_background-456"><span class="linenos">456</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set scene background color with QBrush.</span>
</span><span id="SplitView.set_scene_background-457"><a href="#SplitView.set_scene_background-457"><span class="linenos">457</span></a><span class="sd">        </span>
</span><span id="SplitView.set_scene_background-458"><a href="#SplitView.set_scene_background-458"><span class="linenos">458</span></a><span class="sd">        Args:</span>
</span><span id="SplitView.set_scene_background-459"><a href="#SplitView.set_scene_background-459"><span class="linenos">459</span></a><span class="sd">            brush (QBrush)</span>
</span><span id="SplitView.set_scene_background-460"><a href="#SplitView.set_scene_background-460"><span class="linenos">460</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView.set_scene_background-461"><a href="#SplitView.set_scene_background-461"><span class="linenos">461</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="p">:</span>
</span><span id="SplitView.set_scene_background-462"><a href="#SplitView.set_scene_background-462"><span class="linenos">462</span></a>            <span class="k">return</span>
</span><span id="SplitView.set_scene_background-463"><a href="#SplitView.set_scene_background-463"><span class="linenos">463</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">setBackgroundBrush</span><span class="p">(</span><span class="n">brush</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Set scene background color with QBrush.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li>brush (QBrush)</li>
</ul>
</div>


                            </div>
                            <div id="SplitView.set_scene_background_color" class="classattr">
                                        <input id="SplitView.set_scene_background_color-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_scene_background_color</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">color</span><span class="p">:</span> <span class="nb">list</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.set_scene_background_color-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.set_scene_background_color"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.set_scene_background_color-465"><a href="#SplitView.set_scene_background_color-465"><span class="linenos">465</span></a>    <span class="k">def</span> <span class="nf">set_scene_background_color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">color</span><span class="p">:</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="SplitView.set_scene_background_color-466"><a href="#SplitView.set_scene_background_color-466"><span class="linenos">466</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set scene background color with color list.</span>
</span><span id="SplitView.set_scene_background_color-467"><a href="#SplitView.set_scene_background_color-467"><span class="linenos">467</span></a>
</span><span id="SplitView.set_scene_background_color-468"><a href="#SplitView.set_scene_background_color-468"><span class="linenos">468</span></a><span class="sd">        The init for CustomQGraphicsScene contains the ground truth for selectable background colors.</span>
</span><span id="SplitView.set_scene_background_color-469"><a href="#SplitView.set_scene_background_color-469"><span class="linenos">469</span></a><span class="sd">        </span>
</span><span id="SplitView.set_scene_background_color-470"><a href="#SplitView.set_scene_background_color-470"><span class="linenos">470</span></a><span class="sd">        Args:</span>
</span><span id="SplitView.set_scene_background_color-471"><a href="#SplitView.set_scene_background_color-471"><span class="linenos">471</span></a><span class="sd">            color (list): Descriptor string and RGB int values. Example: [&quot;White&quot;, 255, 255, 255].</span>
</span><span id="SplitView.set_scene_background_color-472"><a href="#SplitView.set_scene_background_color-472"><span class="linenos">472</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView.set_scene_background_color-473"><a href="#SplitView.set_scene_background_color-473"><span class="linenos">473</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="p">:</span>
</span><span id="SplitView.set_scene_background_color-474"><a href="#SplitView.set_scene_background_color-474"><span class="linenos">474</span></a>            <span class="k">return</span>
</span><span id="SplitView.set_scene_background_color-475"><a href="#SplitView.set_scene_background_color-475"><span class="linenos">475</span></a>        <span class="n">rgb</span> <span class="o">=</span> <span class="n">color</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
</span><span id="SplitView.set_scene_background_color-476"><a href="#SplitView.set_scene_background_color-476"><span class="linenos">476</span></a>        <span class="n">rgb_clamp</span> <span class="o">=</span> <span class="p">[</span><span class="nb">max</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span> <span class="k">for</span> <span class="n">channel</span> <span class="ow">in</span> <span class="n">rgb</span><span class="p">]</span>
</span><span id="SplitView.set_scene_background_color-477"><a href="#SplitView.set_scene_background_color-477"><span class="linenos">477</span></a>        <span class="n">brush</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QColor</span><span class="p">(</span><span class="n">rgb_clamp</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">rgb_clamp</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">rgb_clamp</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</span><span id="SplitView.set_scene_background_color-478"><a href="#SplitView.set_scene_background_color-478"><span class="linenos">478</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_scene_background</span><span class="p">(</span><span class="n">brush</span><span class="p">)</span>
</span><span id="SplitView.set_scene_background_color-479"><a href="#SplitView.set_scene_background_color-479"><span class="linenos">479</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">background_color</span> <span class="o">=</span> <span class="n">color</span>
</span><span id="SplitView.set_scene_background_color-480"><a href="#SplitView.set_scene_background_color-480"><span class="linenos">480</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">refresh_close_pushbutton_stylesheet</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Set scene background color with color list.</p>

<p>The init for CustomQGraphicsScene contains the ground truth for selectable background colors.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>color (list):</strong>  Descriptor string and RGB int values. Example: ["White", 255, 255, 255].</li>
</ul>
</div>


                            </div>
                            <div id="SplitView.update_sync_zoom_by" class="classattr">
                                        <input id="SplitView.update_sync_zoom_by-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">update_sync_zoom_by</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">by</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.update_sync_zoom_by-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.update_sync_zoom_by"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.update_sync_zoom_by-482"><a href="#SplitView.update_sync_zoom_by-482"><span class="linenos">482</span></a>    <span class="k">def</span> <span class="nf">update_sync_zoom_by</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">by</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="SplitView.update_sync_zoom_by-483"><a href="#SplitView.update_sync_zoom_by-483"><span class="linenos">483</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;[str] Update right-click menu of sync zoom by.&quot;&quot;&quot;</span>
</span><span id="SplitView.update_sync_zoom_by-484"><a href="#SplitView.update_sync_zoom_by-484"><span class="linenos">484</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">sync_zoom_by</span> <span class="o">=</span> <span class="n">by</span>
</span></pre></div>


            <div class="docstring"><p>[str] Update right-click menu of sync zoom by.</p>
</div>


                            </div>
                            <div id="SplitView.pixmap_none_ify" class="classattr">
                                        <input id="SplitView.pixmap_none_ify-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">pixmap_none_ify</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">pixmap</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.pixmap_none_ify-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.pixmap_none_ify"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.pixmap_none_ify-486"><a href="#SplitView.pixmap_none_ify-486"><span class="linenos">486</span></a>    <span class="k">def</span> <span class="nf">pixmap_none_ify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pixmap</span><span class="p">):</span>
</span><span id="SplitView.pixmap_none_ify-487"><a href="#SplitView.pixmap_none_ify-487"><span class="linenos">487</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return None if pixmap has no pixels.</span>
</span><span id="SplitView.pixmap_none_ify-488"><a href="#SplitView.pixmap_none_ify-488"><span class="linenos">488</span></a><span class="sd">        </span>
</span><span id="SplitView.pixmap_none_ify-489"><a href="#SplitView.pixmap_none_ify-489"><span class="linenos">489</span></a><span class="sd">        Args:</span>
</span><span id="SplitView.pixmap_none_ify-490"><a href="#SplitView.pixmap_none_ify-490"><span class="linenos">490</span></a><span class="sd">            pixmap (QPixmap)</span>
</span><span id="SplitView.pixmap_none_ify-491"><a href="#SplitView.pixmap_none_ify-491"><span class="linenos">491</span></a>
</span><span id="SplitView.pixmap_none_ify-492"><a href="#SplitView.pixmap_none_ify-492"><span class="linenos">492</span></a><span class="sd">        Returns:</span>
</span><span id="SplitView.pixmap_none_ify-493"><a href="#SplitView.pixmap_none_ify-493"><span class="linenos">493</span></a><span class="sd">            None if pixmap has no pixels; same pixmap if it has pixels</span>
</span><span id="SplitView.pixmap_none_ify-494"><a href="#SplitView.pixmap_none_ify-494"><span class="linenos">494</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView.pixmap_none_ify-495"><a href="#SplitView.pixmap_none_ify-495"><span class="linenos">495</span></a>        <span class="k">if</span> <span class="n">pixmap</span><span class="p">:</span>
</span><span id="SplitView.pixmap_none_ify-496"><a href="#SplitView.pixmap_none_ify-496"><span class="linenos">496</span></a>            <span class="k">if</span> <span class="n">pixmap</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">==</span><span class="mi">0</span> <span class="ow">or</span> <span class="n">pixmap</span><span class="o">.</span><span class="n">height</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
</span><span id="SplitView.pixmap_none_ify-497"><a href="#SplitView.pixmap_none_ify-497"><span class="linenos">497</span></a>                <span class="k">return</span> <span class="kc">None</span>
</span><span id="SplitView.pixmap_none_ify-498"><a href="#SplitView.pixmap_none_ify-498"><span class="linenos">498</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="SplitView.pixmap_none_ify-499"><a href="#SplitView.pixmap_none_ify-499"><span class="linenos">499</span></a>                <span class="k">return</span> <span class="n">pixmap</span>
</span><span id="SplitView.pixmap_none_ify-500"><a href="#SplitView.pixmap_none_ify-500"><span class="linenos">500</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="SplitView.pixmap_none_ify-501"><a href="#SplitView.pixmap_none_ify-501"><span class="linenos">501</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span></pre></div>


            <div class="docstring"><p>Return None if pixmap has no pixels.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li>pixmap (QPixmap)</li>
</ul>

<h6 id="returns">Returns:</h6>

<ul>
<li>None if pixmap has no pixels; same pixmap if it has pixels</li>
</ul>
</div>


                            </div>
                            <div id="SplitView.on_positionChanged" class="classattr">
                                        <input id="SplitView.on_positionChanged-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@QtCore.pyqtSlot(QtCore.QPoint)</div>

        <span class="def">def</span>
        <span class="name">on_positionChanged</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">pos</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.on_positionChanged-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.on_positionChanged"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.on_positionChanged-503"><a href="#SplitView.on_positionChanged-503"><span class="linenos">503</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QPoint</span><span class="p">)</span>
</span><span id="SplitView.on_positionChanged-504"><a href="#SplitView.on_positionChanged-504"><span class="linenos">504</span></a>    <span class="k">def</span> <span class="nf">on_positionChanged</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos</span><span class="p">):</span>
</span><span id="SplitView.on_positionChanged-505"><a href="#SplitView.on_positionChanged-505"><span class="linenos">505</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Update the position of the split and the 1x1 pixel rectangle.</span>
</span><span id="SplitView.on_positionChanged-506"><a href="#SplitView.on_positionChanged-506"><span class="linenos">506</span></a>
</span><span id="SplitView.on_positionChanged-507"><a href="#SplitView.on_positionChanged-507"><span class="linenos">507</span></a><span class="sd">        Triggered when mouse is moved.</span>
</span><span id="SplitView.on_positionChanged-508"><a href="#SplitView.on_positionChanged-508"><span class="linenos">508</span></a><span class="sd">        </span>
</span><span id="SplitView.on_positionChanged-509"><a href="#SplitView.on_positionChanged-509"><span class="linenos">509</span></a><span class="sd">        Args:</span>
</span><span id="SplitView.on_positionChanged-510"><a href="#SplitView.on_positionChanged-510"><span class="linenos">510</span></a><span class="sd">            pos (QPoint): The position of the mouse relative to widget.</span>
</span><span id="SplitView.on_positionChanged-511"><a href="#SplitView.on_positionChanged-511"><span class="linenos">511</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView.on_positionChanged-512"><a href="#SplitView.on_positionChanged-512"><span class="linenos">512</span></a>        <span class="n">point_of_mouse_on_widget</span> <span class="o">=</span> <span class="n">pos</span>
</span><span id="SplitView.on_positionChanged-513"><a href="#SplitView.on_positionChanged-513"><span class="linenos">513</span></a>        
</span><span id="SplitView.on_positionChanged-514"><a href="#SplitView.on_positionChanged-514"><span class="linenos">514</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">update_split</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="p">)</span>
</span><span id="SplitView.on_positionChanged-515"><a href="#SplitView.on_positionChanged-515"><span class="linenos">515</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">update_mouse_rect</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Update the position of the split and the 1x1 pixel rectangle.</p>

<p>Triggered when mouse is moved.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>pos (QPoint):</strong>  The position of the mouse relative to widget.</li>
</ul>
</div>


                            </div>
                            <div id="SplitView.set_split" class="classattr">
                                        <input id="SplitView.set_split-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_split</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">x_percent</span><span class="o">=</span><span class="mf">0.5</span>,</span><span class="param">	<span class="n">y_percent</span><span class="o">=</span><span class="mf">0.5</span>,</span><span class="param">	<span class="n">ignore_lock</span><span class="o">=</span><span class="kc">False</span>,</span><span class="param">	<span class="n">percent_of_visible</span><span class="o">=</span><span class="kc">False</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.set_split-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.set_split"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.set_split-517"><a href="#SplitView.set_split-517"><span class="linenos">517</span></a>    <span class="k">def</span> <span class="nf">set_split</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x_percent</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">y_percent</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">ignore_lock</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">percent_of_visible</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="SplitView.set_split-518"><a href="#SplitView.set_split-518"><span class="linenos">518</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the position of the split with x and y as proportion of base image&#39;s resolution.</span>
</span><span id="SplitView.set_split-519"><a href="#SplitView.set_split-519"><span class="linenos">519</span></a>
</span><span id="SplitView.set_split-520"><a href="#SplitView.set_split-520"><span class="linenos">520</span></a><span class="sd">        Sets split position using a proportion of x and y (by default of entire main pixmap; can be set to proportion of visible pixmap).</span>
</span><span id="SplitView.set_split-521"><a href="#SplitView.set_split-521"><span class="linenos">521</span></a><span class="sd">        Top left is x=0, y=0; bottom right is x=1, y=1.</span>
</span><span id="SplitView.set_split-522"><a href="#SplitView.set_split-522"><span class="linenos">522</span></a><span class="sd">        This is needed to position the split without mouse movement from user (for example, to preview the effect of the transparency sliders in Butterfly Viewer)</span>
</span><span id="SplitView.set_split-523"><a href="#SplitView.set_split-523"><span class="linenos">523</span></a><span class="sd">        </span>
</span><span id="SplitView.set_split-524"><a href="#SplitView.set_split-524"><span class="linenos">524</span></a><span class="sd">        Args:</span>
</span><span id="SplitView.set_split-525"><a href="#SplitView.set_split-525"><span class="linenos">525</span></a><span class="sd">            x_percent (float): The position of the split as a proportion (0-1) of the base image&#39;s horizontal resolution.</span>
</span><span id="SplitView.set_split-526"><a href="#SplitView.set_split-526"><span class="linenos">526</span></a><span class="sd">            y_percent (float): The position of the split as a proportion (0-1) of the base image&#39;s vertical resolution.</span>
</span><span id="SplitView.set_split-527"><a href="#SplitView.set_split-527"><span class="linenos">527</span></a><span class="sd">            ignore_lock (bool): True to ignore the lock status of the split; False to adhere.</span>
</span><span id="SplitView.set_split-528"><a href="#SplitView.set_split-528"><span class="linenos">528</span></a><span class="sd">            percent_of_visible (bool): True to set split as proportion of visible area; False as proportion of the full image resolution.</span>
</span><span id="SplitView.set_split-529"><a href="#SplitView.set_split-529"><span class="linenos">529</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView.set_split-530"><a href="#SplitView.set_split-530"><span class="linenos">530</span></a>        <span class="k">if</span> <span class="n">percent_of_visible</span><span class="p">:</span>
</span><span id="SplitView.set_split-531"><a href="#SplitView.set_split-531"><span class="linenos">531</span></a>            <span class="n">x</span> <span class="o">=</span> <span class="n">x_percent</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">()</span>
</span><span id="SplitView.set_split-532"><a href="#SplitView.set_split-532"><span class="linenos">532</span></a>            <span class="n">y</span> <span class="o">=</span> <span class="n">y_percent</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">()</span>
</span><span id="SplitView.set_split-533"><a href="#SplitView.set_split-533"><span class="linenos">533</span></a>            <span class="n">point_of_split_on_widget</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPoint</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</span><span id="SplitView.set_split-534"><a href="#SplitView.set_split-534"><span class="linenos">534</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="SplitView.set_split-535"><a href="#SplitView.set_split-535"><span class="linenos">535</span></a>            <span class="n">width_pixmap_main_topleft</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">imageWidth</span>
</span><span id="SplitView.set_split-536"><a href="#SplitView.set_split-536"><span class="linenos">536</span></a>            <span class="n">height_pixmap_main_topleft</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">imageHeight</span>
</span><span id="SplitView.set_split-537"><a href="#SplitView.set_split-537"><span class="linenos">537</span></a>
</span><span id="SplitView.set_split-538"><a href="#SplitView.set_split-538"><span class="linenos">538</span></a>            <span class="n">x</span> <span class="o">=</span> <span class="n">x_percent</span><span class="o">*</span><span class="n">width_pixmap_main_topleft</span>
</span><span id="SplitView.set_split-539"><a href="#SplitView.set_split-539"><span class="linenos">539</span></a>            <span class="n">y</span> <span class="o">=</span> <span class="n">y_percent</span><span class="o">*</span><span class="n">height_pixmap_main_topleft</span>
</span><span id="SplitView.set_split-540"><a href="#SplitView.set_split-540"><span class="linenos">540</span></a>
</span><span id="SplitView.set_split-541"><a href="#SplitView.set_split-541"><span class="linenos">541</span></a>            <span class="n">point_of_split_on_scene</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
</span><span id="SplitView.set_split-542"><a href="#SplitView.set_split-542"><span class="linenos">542</span></a>
</span><span id="SplitView.set_split-543"><a href="#SplitView.set_split-543"><span class="linenos">543</span></a>            <span class="n">point_of_split_on_widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapFromScene</span><span class="p">(</span><span class="n">point_of_split_on_scene</span><span class="p">)</span>
</span><span id="SplitView.set_split-544"><a href="#SplitView.set_split-544"><span class="linenos">544</span></a>
</span><span id="SplitView.set_split-545"><a href="#SplitView.set_split-545"><span class="linenos">545</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">update_split</span><span class="p">(</span><span class="n">point_of_split_on_widget</span><span class="p">,</span> <span class="n">ignore_lock</span><span class="o">=</span><span class="n">ignore_lock</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Set the position of the split with x and y as proportion of base image's resolution.</p>

<p>Sets split position using a proportion of x and y (by default of entire main pixmap; can be set to proportion of visible pixmap).
Top left is x=0, y=0; bottom right is x=1, y=1.
This is needed to position the split without mouse movement from user (for example, to preview the effect of the transparency sliders in Butterfly Viewer)</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>x_percent (float):</strong>  The position of the split as a proportion (0-1) of the base image's horizontal resolution.</li>
<li><strong>y_percent (float):</strong>  The position of the split as a proportion (0-1) of the base image's vertical resolution.</li>
<li><strong>ignore_lock (bool):</strong>  True to ignore the lock status of the split; False to adhere.</li>
<li><strong>percent_of_visible (bool):</strong>  True to set split as proportion of visible area; False as proportion of the full image resolution.</li>
</ul>
</div>


                            </div>
                            <div id="SplitView.update_split" class="classattr">
                                        <input id="SplitView.update_split-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">update_split</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">pos</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">pos_is_global</span><span class="o">=</span><span class="kc">False</span>, </span><span class="param"><span class="n">ignore_lock</span><span class="o">=</span><span class="kc">False</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.update_split-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.update_split"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.update_split-547"><a href="#SplitView.update_split-547"><span class="linenos">547</span></a>    <span class="k">def</span> <span class="nf">update_split</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">pos_is_global</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ignore_lock</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span> 
</span><span id="SplitView.update_split-548"><a href="#SplitView.update_split-548"><span class="linenos">548</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Update the position of the split with mouse position.</span>
</span><span id="SplitView.update_split-549"><a href="#SplitView.update_split-549"><span class="linenos">549</span></a><span class="sd">        </span>
</span><span id="SplitView.update_split-550"><a href="#SplitView.update_split-550"><span class="linenos">550</span></a><span class="sd">        Args:</span>
</span><span id="SplitView.update_split-551"><a href="#SplitView.update_split-551"><span class="linenos">551</span></a><span class="sd">            pos (QPoint): Position of the mouse.</span>
</span><span id="SplitView.update_split-552"><a href="#SplitView.update_split-552"><span class="linenos">552</span></a><span class="sd">            pos_is_global (bool): True if given mouse position is relative to MdiChild; False if global position.</span>
</span><span id="SplitView.update_split-553"><a href="#SplitView.update_split-553"><span class="linenos">553</span></a><span class="sd">            ignore_lock (bool): True to ignore (bypass) the status of the split lock.</span>
</span><span id="SplitView.update_split-554"><a href="#SplitView.update_split-554"><span class="linenos">554</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView.update_split-555"><a href="#SplitView.update_split-555"><span class="linenos">555</span></a>        <span class="k">if</span> <span class="n">pos</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span> <span class="c1"># Get position of the split from the mouse&#39;s global coordinates (can be slow!)</span>
</span><span id="SplitView.update_split-556"><a href="#SplitView.update_split-556"><span class="linenos">556</span></a>            <span class="n">point_of_cursor_global</span>      <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QCursor</span><span class="o">.</span><span class="n">pos</span><span class="p">()</span>
</span><span id="SplitView.update_split-557"><a href="#SplitView.update_split-557"><span class="linenos">557</span></a>            <span class="n">point_of_mouse_on_widget</span>    <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapFromGlobal</span><span class="p">(</span><span class="n">point_of_cursor_global</span><span class="p">)</span>
</span><span id="SplitView.update_split-558"><a href="#SplitView.update_split-558"><span class="linenos">558</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="SplitView.update_split-559"><a href="#SplitView.update_split-559"><span class="linenos">559</span></a>            <span class="k">if</span> <span class="n">pos_is_global</span><span class="p">:</span>
</span><span id="SplitView.update_split-560"><a href="#SplitView.update_split-560"><span class="linenos">560</span></a>                <span class="n">point_of_mouse_on_widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapFromGlobal</span><span class="p">(</span><span class="n">pos</span><span class="p">)</span>
</span><span id="SplitView.update_split-561"><a href="#SplitView.update_split-561"><span class="linenos">561</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="SplitView.update_split-562"><a href="#SplitView.update_split-562"><span class="linenos">562</span></a>                <span class="n">point_of_mouse_on_widget</span> <span class="o">=</span> <span class="n">pos</span>
</span><span id="SplitView.update_split-563"><a href="#SplitView.update_split-563"><span class="linenos">563</span></a>
</span><span id="SplitView.update_split-564"><a href="#SplitView.update_split-564"><span class="linenos">564</span></a>        <span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">setX</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">x</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># Offset +1 needed to have mouse cursor be hovering over the main scene (e.g., to allow manipulation of graphics item)</span>
</span><span id="SplitView.update_split-565"><a href="#SplitView.update_split-565"><span class="linenos">565</span></a>        <span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">setY</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">y</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
</span><span id="SplitView.update_split-566"><a href="#SplitView.update_split-566"><span class="linenos">566</span></a>
</span><span id="SplitView.update_split-567"><a href="#SplitView.update_split-567"><span class="linenos">567</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">last_updated_point_of_split_on_scene_main</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapToScene</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span> <span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">y</span><span class="p">())</span>
</span><span id="SplitView.update_split-568"><a href="#SplitView.update_split-568"><span class="linenos">568</span></a>        
</span><span id="SplitView.update_split-569"><a href="#SplitView.update_split-569"><span class="linenos">569</span></a>        <span class="n">point_of_bottom_right_on_widget</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">())</span>
</span><span id="SplitView.update_split-570"><a href="#SplitView.update_split-570"><span class="linenos">570</span></a>        
</span><span id="SplitView.update_split-571"><a href="#SplitView.update_split-571"><span class="linenos">571</span></a>        <span class="n">point_of_widget_origin_on_scene_main</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapToScene</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
</span><span id="SplitView.update_split-572"><a href="#SplitView.update_split-572"><span class="linenos">572</span></a>
</span><span id="SplitView.update_split-573"><a href="#SplitView.update_split-573"><span class="linenos">573</span></a>        <span class="n">point_of_split_on_scene_main</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapToScene</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span><span class="mi">0</span><span class="p">),</span><span class="nb">max</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">y</span><span class="p">(),</span><span class="mi">0</span><span class="p">))</span>
</span><span id="SplitView.update_split-574"><a href="#SplitView.update_split-574"><span class="linenos">574</span></a>        <span class="n">point_of_bottom_right_on_scene_main</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapToScene</span><span class="p">(</span><span class="n">point_of_bottom_right_on_widget</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span> <span class="n">point_of_bottom_right_on_widget</span><span class="o">.</span><span class="n">y</span><span class="p">())</span>
</span><span id="SplitView.update_split-575"><a href="#SplitView.update_split-575"><span class="linenos">575</span></a>        
</span><span id="SplitView.update_split-576"><a href="#SplitView.update_split-576"><span class="linenos">576</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_layoutdriving_topleft</span><span class="o">.</span><span class="n">setMaximumWidth</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span><span class="mi">0</span><span class="p">))</span>
</span><span id="SplitView.update_split-577"><a href="#SplitView.update_split-577"><span class="linenos">577</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_layoutdriving_topleft</span><span class="o">.</span><span class="n">setMaximumHeight</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">y</span><span class="p">(),</span><span class="mi">0</span><span class="p">))</span>
</span><span id="SplitView.update_split-578"><a href="#SplitView.update_split-578"><span class="linenos">578</span></a>        
</span><span id="SplitView.update_split-579"><a href="#SplitView.update_split-579"><span class="linenos">579</span></a>        <span class="n">render_buffer</span> <span class="o">=</span> <span class="mi">100</span> <span class="c1"># Needed to prevent slight pixel offset of the sliding overlays when zoomed-out below ~0.5x</span>
</span><span id="SplitView.update_split-580"><a href="#SplitView.update_split-580"><span class="linenos">580</span></a>
</span><span id="SplitView.update_split-581"><a href="#SplitView.update_split-581"><span class="linenos">581</span></a>        <span class="n">scale_topright</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">_topright_zoom_adjust</span>  <span class="c1"># Needed to scale images to the same relative size as the main image</span>
</span><span id="SplitView.update_split-582"><a href="#SplitView.update_split-582"><span class="linenos">582</span></a>        <span class="n">scale_bottomright</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">_bottomright_zoom_adjust</span>
</span><span id="SplitView.update_split-583"><a href="#SplitView.update_split-583"><span class="linenos">583</span></a>        <span class="n">scale_bottomleft</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">_bottomleft_zoom_adjust</span>
</span><span id="SplitView.update_split-584"><a href="#SplitView.update_split-584"><span class="linenos">584</span></a>    
</span><span id="SplitView.update_split-585"><a href="#SplitView.update_split-585"><span class="linenos">585</span></a>        <span class="n">top_left_of_scene_topright</span>          <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">point_of_split_on_scene_main</span><span class="o">.</span><span class="n">x</span><span class="p">()</span><span class="o">*</span><span class="n">scale_topright</span><span class="p">,</span> <span class="n">point_of_widget_origin_on_scene_main</span><span class="o">.</span><span class="n">y</span><span class="p">()</span><span class="o">*</span><span class="n">scale_topright</span><span class="p">)</span>
</span><span id="SplitView.update_split-586"><a href="#SplitView.update_split-586"><span class="linenos">586</span></a>        <span class="n">bottom_right_of_scene_topright</span>      <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">point_of_bottom_right_on_scene_main</span><span class="o">.</span><span class="n">x</span><span class="p">()</span><span class="o">*</span><span class="n">scale_topright</span> <span class="o">+</span> <span class="n">render_buffer</span><span class="p">,</span> <span class="n">point_of_split_on_scene_main</span><span class="o">.</span><span class="n">y</span><span class="p">()</span><span class="o">*</span><span class="n">scale_topright</span> <span class="o">+</span> <span class="n">render_buffer</span><span class="p">)</span>
</span><span id="SplitView.update_split-587"><a href="#SplitView.update_split-587"><span class="linenos">587</span></a>        
</span><span id="SplitView.update_split-588"><a href="#SplitView.update_split-588"><span class="linenos">588</span></a>        <span class="n">top_left_of_scene_bottomright</span>       <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">point_of_split_on_scene_main</span><span class="o">.</span><span class="n">x</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomright</span><span class="p">,</span> <span class="n">point_of_split_on_scene_main</span><span class="o">.</span><span class="n">y</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomright</span><span class="p">)</span>
</span><span id="SplitView.update_split-589"><a href="#SplitView.update_split-589"><span class="linenos">589</span></a>        <span class="n">bottom_right_of_scene_bottomright</span>   <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">point_of_bottom_right_on_scene_main</span><span class="o">.</span><span class="n">x</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomright</span> <span class="o">+</span> <span class="n">render_buffer</span><span class="p">,</span> <span class="n">point_of_bottom_right_on_scene_main</span><span class="o">.</span><span class="n">y</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomright</span> <span class="o">+</span> <span class="n">render_buffer</span><span class="p">)</span>
</span><span id="SplitView.update_split-590"><a href="#SplitView.update_split-590"><span class="linenos">590</span></a>        
</span><span id="SplitView.update_split-591"><a href="#SplitView.update_split-591"><span class="linenos">591</span></a>        <span class="n">top_left_of_scene_bottomleft</span>        <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">point_of_widget_origin_on_scene_main</span><span class="o">.</span><span class="n">x</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomleft</span><span class="p">,</span> <span class="n">point_of_split_on_scene_main</span><span class="o">.</span><span class="n">y</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomleft</span><span class="p">)</span>
</span><span id="SplitView.update_split-592"><a href="#SplitView.update_split-592"><span class="linenos">592</span></a>        <span class="n">bottom_right_of_scene_bottomleft</span>    <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">point_of_split_on_scene_main</span><span class="o">.</span><span class="n">x</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomleft</span> <span class="o">+</span> <span class="n">render_buffer</span><span class="p">,</span> <span class="n">point_of_bottom_right_on_scene_main</span><span class="o">.</span><span class="n">y</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomleft</span> <span class="o">+</span> <span class="n">render_buffer</span><span class="p">)</span>
</span><span id="SplitView.update_split-593"><a href="#SplitView.update_split-593"><span class="linenos">593</span></a>        
</span><span id="SplitView.update_split-594"><a href="#SplitView.update_split-594"><span class="linenos">594</span></a>        <span class="n">rect_of_scene_topright</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QRectF</span><span class="p">(</span><span class="n">top_left_of_scene_topright</span><span class="p">,</span> <span class="n">bottom_right_of_scene_topright</span><span class="p">)</span>
</span><span id="SplitView.update_split-595"><a href="#SplitView.update_split-595"><span class="linenos">595</span></a>        <span class="n">rect_of_scene_bottomright</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QRectF</span><span class="p">(</span><span class="n">top_left_of_scene_bottomright</span><span class="p">,</span> <span class="n">bottom_right_of_scene_bottomright</span><span class="p">)</span>
</span><span id="SplitView.update_split-596"><a href="#SplitView.update_split-596"><span class="linenos">596</span></a>        <span class="n">rect_of_scene_bottomleft</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QRectF</span><span class="p">(</span><span class="n">top_left_of_scene_bottomleft</span><span class="p">,</span> <span class="n">bottom_right_of_scene_bottomleft</span><span class="p">)</span>
</span><span id="SplitView.update_split-597"><a href="#SplitView.update_split-597"><span class="linenos">597</span></a>        
</span><span id="SplitView.update_split-598"><a href="#SplitView.update_split-598"><span class="linenos">598</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_topright</span><span class="o">.</span><span class="n">setSceneRect</span><span class="p">(</span><span class="n">rect_of_scene_topright</span><span class="p">)</span>
</span><span id="SplitView.update_split-599"><a href="#SplitView.update_split-599"><span class="linenos">599</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomright</span><span class="o">.</span><span class="n">setSceneRect</span><span class="p">(</span><span class="n">rect_of_scene_bottomright</span><span class="p">)</span>
</span><span id="SplitView.update_split-600"><a href="#SplitView.update_split-600"><span class="linenos">600</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomleft</span><span class="o">.</span><span class="n">setSceneRect</span><span class="p">(</span><span class="n">rect_of_scene_bottomleft</span><span class="p">)</span>
</span><span id="SplitView.update_split-601"><a href="#SplitView.update_split-601"><span class="linenos">601</span></a>        
</span><span id="SplitView.update_split-602"><a href="#SplitView.update_split-602"><span class="linenos">602</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_topright</span><span class="o">.</span><span class="n">centerOn</span><span class="p">(</span><span class="n">top_left_of_scene_topright</span><span class="p">)</span>
</span><span id="SplitView.update_split-603"><a href="#SplitView.update_split-603"><span class="linenos">603</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomright</span><span class="o">.</span><span class="n">centerOn</span><span class="p">(</span><span class="n">top_left_of_scene_bottomright</span><span class="p">)</span>
</span><span id="SplitView.update_split-604"><a href="#SplitView.update_split-604"><span class="linenos">604</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomleft</span><span class="o">.</span><span class="n">centerOn</span><span class="p">(</span><span class="n">top_left_of_scene_bottomleft</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Update the position of the split with mouse position.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>pos (QPoint):</strong>  Position of the mouse.</li>
<li><strong>pos_is_global (bool):</strong>  True if given mouse position is relative to MdiChild; False if global position.</li>
<li><strong>ignore_lock (bool):</strong>  True to ignore (bypass) the status of the split lock.</li>
</ul>
</div>


                            </div>
                            <div id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main" class="classattr">
                                        <input id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">refresh_split_based_on_last_updated_point_of_split_on_scene_main</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-606"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-606"><span class="linenos">606</span></a>    <span class="k">def</span> <span class="nf">refresh_split_based_on_last_updated_point_of_split_on_scene_main</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> 
</span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-607"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-607"><span class="linenos">607</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Refresh the position of the split using the previously recorded split location.</span>
</span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-608"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-608"><span class="linenos">608</span></a><span class="sd">        </span>
</span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-609"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-609"><span class="linenos">609</span></a><span class="sd">        This is needed to maintain the position of the split during synchronized zooming and panning.</span>
</span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-610"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-610"><span class="linenos">610</span></a><span class="sd">        &quot;&quot;&quot;</span> 
</span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-611"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-611"><span class="linenos">611</span></a>        <span class="n">point_of_mouse_on_widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapFromScene</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">last_updated_point_of_split_on_scene_main</span><span class="p">)</span>
</span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-612"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-612"><span class="linenos">612</span></a>        
</span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-613"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-613"><span class="linenos">613</span></a>        <span class="n">point_of_bottom_right_on_widget</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">())</span>
</span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-614"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-614"><span class="linenos">614</span></a>        
</span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-615"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-615"><span class="linenos">615</span></a>        <span class="n">point_of_widget_origin_on_scene_main</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapToScene</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
</span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-616"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-616"><span class="linenos">616</span></a>        <span class="n">point_of_split_on_scene_main</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapToScene</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span><span class="mi">0</span><span class="p">),</span><span class="nb">max</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">y</span><span class="p">(),</span><span class="mi">0</span><span class="p">))</span>
</span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-617"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-617"><span class="linenos">617</span></a>        <span class="n">point_of_bottom_right_on_scene_main</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapToScene</span><span class="p">(</span><span class="n">point_of_bottom_right_on_widget</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span> <span class="n">point_of_bottom_right_on_widget</span><span class="o">.</span><span class="n">y</span><span class="p">())</span>
</span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-618"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-618"><span class="linenos">618</span></a>
</span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-619"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-619"><span class="linenos">619</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_layoutdriving_topleft</span><span class="o">.</span><span class="n">setMaximumWidth</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span><span class="mi">0</span><span class="p">))</span>
</span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-620"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-620"><span class="linenos">620</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_layoutdriving_topleft</span><span class="o">.</span><span class="n">setMaximumHeight</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">y</span><span class="p">(),</span><span class="mi">0</span><span class="p">))</span>
</span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-621"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-621"><span class="linenos">621</span></a>        
</span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-622"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-622"><span class="linenos">622</span></a>        <span class="n">render_buffer</span> <span class="o">=</span> <span class="mi">100</span> <span class="c1"># Needed to prevent slight pixel offset of the sliding overlays when zoomed-out below ~0.5x</span>
</span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-623"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-623"><span class="linenos">623</span></a>
</span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-624"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-624"><span class="linenos">624</span></a>        <span class="n">scale_topright</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">_topright_zoom_adjust</span>  <span class="c1"># Needed to scale images to the same relative size as the main image</span>
</span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-625"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-625"><span class="linenos">625</span></a>        <span class="n">scale_bottomright</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">_bottomright_zoom_adjust</span>
</span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-626"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-626"><span class="linenos">626</span></a>        <span class="n">scale_bottomleft</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">_bottomleft_zoom_adjust</span>
</span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-627"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-627"><span class="linenos">627</span></a>    
</span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-628"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-628"><span class="linenos">628</span></a>        <span class="n">top_left_of_scene_topright</span>          <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">point_of_split_on_scene_main</span><span class="o">.</span><span class="n">x</span><span class="p">()</span><span class="o">*</span><span class="n">scale_topright</span><span class="p">,</span> <span class="n">point_of_widget_origin_on_scene_main</span><span class="o">.</span><span class="n">y</span><span class="p">()</span><span class="o">*</span><span class="n">scale_topright</span><span class="p">)</span>
</span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-629"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-629"><span class="linenos">629</span></a>        <span class="n">bottom_right_of_scene_topright</span>      <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">point_of_bottom_right_on_scene_main</span><span class="o">.</span><span class="n">x</span><span class="p">()</span><span class="o">*</span><span class="n">scale_topright</span> <span class="o">+</span> <span class="n">render_buffer</span><span class="p">,</span> <span class="n">point_of_split_on_scene_main</span><span class="o">.</span><span class="n">y</span><span class="p">()</span><span class="o">*</span><span class="n">scale_topright</span> <span class="o">+</span> <span class="n">render_buffer</span><span class="p">)</span>
</span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-630"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-630"><span class="linenos">630</span></a>        
</span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-631"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-631"><span class="linenos">631</span></a>        <span class="n">top_left_of_scene_bottomright</span>       <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">point_of_split_on_scene_main</span><span class="o">.</span><span class="n">x</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomright</span><span class="p">,</span> <span class="n">point_of_split_on_scene_main</span><span class="o">.</span><span class="n">y</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomright</span><span class="p">)</span>
</span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-632"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-632"><span class="linenos">632</span></a>        <span class="n">bottom_right_of_scene_bottomright</span>   <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">point_of_bottom_right_on_scene_main</span><span class="o">.</span><span class="n">x</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomright</span> <span class="o">+</span> <span class="n">render_buffer</span><span class="p">,</span> <span class="n">point_of_bottom_right_on_scene_main</span><span class="o">.</span><span class="n">y</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomright</span> <span class="o">+</span> <span class="n">render_buffer</span><span class="p">)</span>
</span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-633"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-633"><span class="linenos">633</span></a>        
</span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-634"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-634"><span class="linenos">634</span></a>        <span class="n">top_left_of_scene_bottomleft</span>        <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">point_of_widget_origin_on_scene_main</span><span class="o">.</span><span class="n">x</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomleft</span><span class="p">,</span> <span class="n">point_of_split_on_scene_main</span><span class="o">.</span><span class="n">y</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomleft</span><span class="p">)</span>
</span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-635"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-635"><span class="linenos">635</span></a>        <span class="n">bottom_right_of_scene_bottomleft</span>    <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">point_of_split_on_scene_main</span><span class="o">.</span><span class="n">x</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomleft</span> <span class="o">+</span> <span class="n">render_buffer</span><span class="p">,</span> <span class="n">point_of_bottom_right_on_scene_main</span><span class="o">.</span><span class="n">y</span><span class="p">()</span><span class="o">*</span><span class="n">scale_bottomleft</span> <span class="o">+</span> <span class="n">render_buffer</span><span class="p">)</span>
</span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-636"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-636"><span class="linenos">636</span></a>        
</span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-637"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-637"><span class="linenos">637</span></a>        <span class="n">rect_of_scene_topright</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QRectF</span><span class="p">(</span><span class="n">top_left_of_scene_topright</span><span class="p">,</span> <span class="n">bottom_right_of_scene_topright</span><span class="p">)</span>
</span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-638"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-638"><span class="linenos">638</span></a>        <span class="n">rect_of_scene_bottomright</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QRectF</span><span class="p">(</span><span class="n">top_left_of_scene_bottomright</span><span class="p">,</span> <span class="n">bottom_right_of_scene_bottomright</span><span class="p">)</span>
</span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-639"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-639"><span class="linenos">639</span></a>        <span class="n">rect_of_scene_bottomleft</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QRectF</span><span class="p">(</span><span class="n">top_left_of_scene_bottomleft</span><span class="p">,</span> <span class="n">bottom_right_of_scene_bottomleft</span><span class="p">)</span>
</span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-640"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-640"><span class="linenos">640</span></a>        
</span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-641"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-641"><span class="linenos">641</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_topright</span><span class="o">.</span><span class="n">setSceneRect</span><span class="p">(</span><span class="n">rect_of_scene_topright</span><span class="p">)</span>
</span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-642"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-642"><span class="linenos">642</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomright</span><span class="o">.</span><span class="n">setSceneRect</span><span class="p">(</span><span class="n">rect_of_scene_bottomright</span><span class="p">)</span>
</span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-643"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-643"><span class="linenos">643</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomleft</span><span class="o">.</span><span class="n">setSceneRect</span><span class="p">(</span><span class="n">rect_of_scene_bottomleft</span><span class="p">)</span>
</span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-644"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-644"><span class="linenos">644</span></a>        
</span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-645"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-645"><span class="linenos">645</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_topright</span><span class="o">.</span><span class="n">centerOn</span><span class="p">(</span><span class="n">top_left_of_scene_topright</span><span class="p">)</span>
</span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-646"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-646"><span class="linenos">646</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomright</span><span class="o">.</span><span class="n">centerOn</span><span class="p">(</span><span class="n">top_left_of_scene_bottomright</span><span class="p">)</span>
</span><span id="SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-647"><a href="#SplitView.refresh_split_based_on_last_updated_point_of_split_on_scene_main-647"><span class="linenos">647</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomleft</span><span class="o">.</span><span class="n">centerOn</span><span class="p">(</span><span class="n">top_left_of_scene_bottomleft</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Refresh the position of the split using the previously recorded split location.</p>

<p>This is needed to maintain the position of the split during synchronized zooming and panning.</p>
</div>


                            </div>
                            <div id="SplitView.update_split_given_global" class="classattr">
                                        <input id="SplitView.update_split_given_global-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">update_split_given_global</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">pos_global</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.update_split_given_global-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.update_split_given_global"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.update_split_given_global-649"><a href="#SplitView.update_split_given_global-649"><span class="linenos">649</span></a>    <span class="k">def</span> <span class="nf">update_split_given_global</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos_global</span><span class="p">):</span>
</span><span id="SplitView.update_split_given_global-650"><a href="#SplitView.update_split_given_global-650"><span class="linenos">650</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Update the position of the split based on given global mouse position.</span>
</span><span id="SplitView.update_split_given_global-651"><a href="#SplitView.update_split_given_global-651"><span class="linenos">651</span></a>
</span><span id="SplitView.update_split_given_global-652"><a href="#SplitView.update_split_given_global-652"><span class="linenos">652</span></a><span class="sd">        Convenience function.</span>
</span><span id="SplitView.update_split_given_global-653"><a href="#SplitView.update_split_given_global-653"><span class="linenos">653</span></a>
</span><span id="SplitView.update_split_given_global-654"><a href="#SplitView.update_split_given_global-654"><span class="linenos">654</span></a><span class="sd">        Args:</span>
</span><span id="SplitView.update_split_given_global-655"><a href="#SplitView.update_split_given_global-655"><span class="linenos">655</span></a><span class="sd">            pos_global (QPoint): The position of the mouse in global coordinates.</span>
</span><span id="SplitView.update_split_given_global-656"><a href="#SplitView.update_split_given_global-656"><span class="linenos">656</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView.update_split_given_global-657"><a href="#SplitView.update_split_given_global-657"><span class="linenos">657</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">update_split</span><span class="p">(</span><span class="n">pos</span> <span class="o">=</span> <span class="n">pos_global</span><span class="p">,</span> <span class="n">pos_is_global</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Update the position of the split based on given global mouse position.</p>

<p>Convenience function.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>pos_global (QPoint):</strong>  The position of the mouse in global coordinates.</li>
</ul>
</div>


                            </div>
                            <div id="SplitView.on_right_click_comment" class="classattr">
                                        <input id="SplitView.on_right_click_comment-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">on_right_click_comment</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">scene_pos</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.on_right_click_comment-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.on_right_click_comment"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.on_right_click_comment-660"><a href="#SplitView.on_right_click_comment-660"><span class="linenos">660</span></a>    <span class="k">def</span> <span class="nf">on_right_click_comment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scene_pos</span><span class="p">):</span>
</span><span id="SplitView.on_right_click_comment-661"><a href="#SplitView.on_right_click_comment-661"><span class="linenos">661</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Create an editable and movable comment on the scene of the main view at the given scene position.</span>
</span><span id="SplitView.on_right_click_comment-662"><a href="#SplitView.on_right_click_comment-662"><span class="linenos">662</span></a>
</span><span id="SplitView.on_right_click_comment-663"><a href="#SplitView.on_right_click_comment-663"><span class="linenos">663</span></a><span class="sd">        Args:</span>
</span><span id="SplitView.on_right_click_comment-664"><a href="#SplitView.on_right_click_comment-664"><span class="linenos">664</span></a><span class="sd">            pos (QPointF): position of the comment datum on the scene.</span>
</span><span id="SplitView.on_right_click_comment-665"><a href="#SplitView.on_right_click_comment-665"><span class="linenos">665</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView.on_right_click_comment-666"><a href="#SplitView.on_right_click_comment-666"><span class="linenos">666</span></a>        <span class="n">pos_on_scene</span> <span class="o">=</span> <span class="n">scene_pos</span>
</span><span id="SplitView.on_right_click_comment-667"><a href="#SplitView.on_right_click_comment-667"><span class="linenos">667</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">CommentItem</span><span class="p">(</span><span class="n">initial_scene_pos</span><span class="o">=</span><span class="n">pos_on_scene</span><span class="p">,</span> <span class="n">set_cursor_on_creation</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</span></pre></div>


            <div class="docstring"><p>Create an editable and movable comment on the scene of the main view at the given scene position.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>pos (QPointF):</strong>  position of the comment datum on the scene.</li>
</ul>
</div>


                            </div>
                            <div id="SplitView.on_right_click_ruler" class="classattr">
                                        <input id="SplitView.on_right_click_ruler-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">on_right_click_ruler</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">scene_pos</span>,</span><span class="param">	<span class="n">relative_origin_position</span>,</span><span class="param">	<span class="n">unit</span><span class="o">=</span><span class="s1">&#39;px&#39;</span>,</span><span class="param">	<span class="n">px_per_unit</span><span class="o">=</span><span class="mf">1.0</span>,</span><span class="param">	<span class="n">update_px_per_unit_on_existing</span><span class="o">=</span><span class="kc">False</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.on_right_click_ruler-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.on_right_click_ruler"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.on_right_click_ruler-669"><a href="#SplitView.on_right_click_ruler-669"><span class="linenos">669</span></a>    <span class="k">def</span> <span class="nf">on_right_click_ruler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scene_pos</span><span class="p">,</span> <span class="n">relative_origin_position</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;px&quot;</span><span class="p">,</span> <span class="n">px_per_unit</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">update_px_per_unit_on_existing</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="SplitView.on_right_click_ruler-670"><a href="#SplitView.on_right_click_ruler-670"><span class="linenos">670</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a movable ruler on the scene of the main view at the given scene position.</span>
</span><span id="SplitView.on_right_click_ruler-671"><a href="#SplitView.on_right_click_ruler-671"><span class="linenos">671</span></a>
</span><span id="SplitView.on_right_click_ruler-672"><a href="#SplitView.on_right_click_ruler-672"><span class="linenos">672</span></a><span class="sd">        Args:</span>
</span><span id="SplitView.on_right_click_ruler-673"><a href="#SplitView.on_right_click_ruler-673"><span class="linenos">673</span></a><span class="sd">            scene_pos (QPointF): The position of the ruler center on the scene.</span>
</span><span id="SplitView.on_right_click_ruler-674"><a href="#SplitView.on_right_click_ruler-674"><span class="linenos">674</span></a><span class="sd">            relative_origin_position (str): The position of the origin for coordinate system (&quot;topleft&quot; or &quot;bottomleft&quot;).</span>
</span><span id="SplitView.on_right_click_ruler-675"><a href="#SplitView.on_right_click_ruler-675"><span class="linenos">675</span></a><span class="sd">            unit (str): The text for labeling units of ruler values.</span>
</span><span id="SplitView.on_right_click_ruler-676"><a href="#SplitView.on_right_click_ruler-676"><span class="linenos">676</span></a><span class="sd">            px_per_unit (float): The conversion for pixels to units. For example, 10 means 10 pixels-per-unit, meaning the ruler value will show 1 when measuring 10 pixels.</span>
</span><span id="SplitView.on_right_click_ruler-677"><a href="#SplitView.on_right_click_ruler-677"><span class="linenos">677</span></a><span class="sd">            update_px_per_unit_on_existing (bool): False always. (Legacy from past versions; future work should remove.</span>
</span><span id="SplitView.on_right_click_ruler-678"><a href="#SplitView.on_right_click_ruler-678"><span class="linenos">678</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView.on_right_click_ruler-679"><a href="#SplitView.on_right_click_ruler-679"><span class="linenos">679</span></a>        <span class="n">placement_factor</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span>
</span><span id="SplitView.on_right_click_ruler-680"><a href="#SplitView.on_right_click_ruler-680"><span class="linenos">680</span></a>        <span class="n">px_per_unit</span> <span class="o">=</span> <span class="n">px_per_unit</span>
</span><span id="SplitView.on_right_click_ruler-681"><a href="#SplitView.on_right_click_ruler-681"><span class="linenos">681</span></a>        <span class="n">relative_origin_position</span> <span class="o">=</span> <span class="n">relative_origin_position</span>
</span><span id="SplitView.on_right_click_ruler-682"><a href="#SplitView.on_right_click_ruler-682"><span class="linenos">682</span></a>
</span><span id="SplitView.on_right_click_ruler-683"><a href="#SplitView.on_right_click_ruler-683"><span class="linenos">683</span></a>        <span class="n">widget_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">()</span>
</span><span id="SplitView.on_right_click_ruler-684"><a href="#SplitView.on_right_click_ruler-684"><span class="linenos">684</span></a>        <span class="n">widget_height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">()</span>
</span><span id="SplitView.on_right_click_ruler-685"><a href="#SplitView.on_right_click_ruler-685"><span class="linenos">685</span></a>
</span><span id="SplitView.on_right_click_ruler-686"><a href="#SplitView.on_right_click_ruler-686"><span class="linenos">686</span></a>        <span class="n">pos_p1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapToScene</span><span class="p">(</span><span class="n">widget_width</span><span class="o">*</span><span class="n">placement_factor</span><span class="p">,</span> <span class="n">widget_height</span><span class="o">*</span><span class="n">placement_factor</span><span class="p">)</span>
</span><span id="SplitView.on_right_click_ruler-687"><a href="#SplitView.on_right_click_ruler-687"><span class="linenos">687</span></a>        <span class="n">pos_p2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapToScene</span><span class="p">(</span><span class="n">widget_width</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">placement_factor</span><span class="p">),</span> <span class="n">widget_height</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">placement_factor</span><span class="p">))</span>
</span><span id="SplitView.on_right_click_ruler-688"><a href="#SplitView.on_right_click_ruler-688"><span class="linenos">688</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">RulerItem</span><span class="p">(</span><span class="n">unit</span><span class="o">=</span><span class="n">unit</span><span class="p">,</span> <span class="n">px_per_mm</span><span class="o">=</span><span class="n">px_per_unit</span><span class="p">,</span> <span class="n">initial_pos_p1</span><span class="o">=</span><span class="n">pos_p1</span><span class="p">,</span> <span class="n">initial_pos_p2</span><span class="o">=</span><span class="n">pos_p2</span><span class="p">,</span> <span class="n">relative_origin_position</span><span class="o">=</span><span class="n">relative_origin_position</span><span class="p">))</span>
</span></pre></div>


            <div class="docstring"><p>Create a movable ruler on the scene of the main view at the given scene position.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>scene_pos (QPointF):</strong>  The position of the ruler center on the scene.</li>
<li><strong>relative_origin_position (str):</strong>  The position of the origin for coordinate system ("topleft" or "bottomleft").</li>
<li><strong>unit (str):</strong>  The text for labeling units of ruler values.</li>
<li><strong>px_per_unit (float):</strong>  The conversion for pixels to units. For example, 10 means 10 pixels-per-unit, meaning the ruler value will show 1 when measuring 10 pixels.</li>
<li><strong>update_px_per_unit_on_existing (bool):</strong>  False always. (Legacy from past versions; future work should remove.</li>
</ul>
</div>


                            </div>
                            <div id="SplitView.on_changed_px_per_unit" class="classattr">
                                        <input id="SplitView.on_changed_px_per_unit-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">on_changed_px_per_unit</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">unit</span>, </span><span class="param"><span class="n">px_per_unit</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.on_changed_px_per_unit-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.on_changed_px_per_unit"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.on_changed_px_per_unit-690"><a href="#SplitView.on_changed_px_per_unit-690"><span class="linenos">690</span></a>    <span class="k">def</span> <span class="nf">on_changed_px_per_unit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">unit</span><span class="p">,</span> <span class="n">px_per_unit</span><span class="p">):</span>
</span><span id="SplitView.on_changed_px_per_unit-691"><a href="#SplitView.on_changed_px_per_unit-691"><span class="linenos">691</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Update the units and pixel-per-unit conversions of all rulers in main scene.</span>
</span><span id="SplitView.on_changed_px_per_unit-692"><a href="#SplitView.on_changed_px_per_unit-692"><span class="linenos">692</span></a>
</span><span id="SplitView.on_changed_px_per_unit-693"><a href="#SplitView.on_changed_px_per_unit-693"><span class="linenos">693</span></a><span class="sd">        Args:</span>
</span><span id="SplitView.on_changed_px_per_unit-694"><a href="#SplitView.on_changed_px_per_unit-694"><span class="linenos">694</span></a><span class="sd">            unit (str): The text for labeling units of ruler values.</span>
</span><span id="SplitView.on_changed_px_per_unit-695"><a href="#SplitView.on_changed_px_per_unit-695"><span class="linenos">695</span></a><span class="sd">            px_per_unit (float): The conversion for pixels to units. For example, 10 means 10 pixels-per-unit, meaning the ruler value will show 1 when measuring 10 pixels.</span>
</span><span id="SplitView.on_changed_px_per_unit-696"><a href="#SplitView.on_changed_px_per_unit-696"><span class="linenos">696</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView.on_changed_px_per_unit-697"><a href="#SplitView.on_changed_px_per_unit-697"><span class="linenos">697</span></a>        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="SplitView.on_changed_px_per_unit-698"><a href="#SplitView.on_changed_px_per_unit-698"><span class="linenos">698</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">RulerItem</span><span class="p">):</span>
</span><span id="SplitView.on_changed_px_per_unit-699"><a href="#SplitView.on_changed_px_per_unit-699"><span class="linenos">699</span></a>                <span class="n">item</span><span class="o">.</span><span class="n">set_and_refresh_px_per_unit</span><span class="p">(</span><span class="n">px_per_unit</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Update the units and pixel-per-unit conversions of all rulers in main scene.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>unit (str):</strong>  The text for labeling units of ruler values.</li>
<li><strong>px_per_unit (float):</strong>  The conversion for pixels to units. For example, 10 means 10 pixels-per-unit, meaning the ruler value will show 1 when measuring 10 pixels.</li>
</ul>
</div>


                            </div>
                            <div id="SplitView.on_right_click_save_all_comments" class="classattr">
                                        <input id="SplitView.on_right_click_save_all_comments-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">on_right_click_save_all_comments</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.on_right_click_save_all_comments-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.on_right_click_save_all_comments"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.on_right_click_save_all_comments-701"><a href="#SplitView.on_right_click_save_all_comments-701"><span class="linenos">701</span></a>    <span class="k">def</span> <span class="nf">on_right_click_save_all_comments</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView.on_right_click_save_all_comments-702"><a href="#SplitView.on_right_click_save_all_comments-702"><span class="linenos">702</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Open a dialog window for user to save all existing comments on the main scene to .csv.</span>
</span><span id="SplitView.on_right_click_save_all_comments-703"><a href="#SplitView.on_right_click_save_all_comments-703"><span class="linenos">703</span></a><span class="sd">        </span>
</span><span id="SplitView.on_right_click_save_all_comments-704"><a href="#SplitView.on_right_click_save_all_comments-704"><span class="linenos">704</span></a><span class="sd">        Triggered from right-click menu on view.</span>
</span><span id="SplitView.on_right_click_save_all_comments-705"><a href="#SplitView.on_right_click_save_all_comments-705"><span class="linenos">705</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView.on_right_click_save_all_comments-706"><a href="#SplitView.on_right_click_save_all_comments-706"><span class="linenos">706</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">display_loading_grayout</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;Selecting folder and name for saving all comments in current view...&quot;</span><span class="p">,</span> <span class="n">pseudo_load_time</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="SplitView.on_right_click_save_all_comments-707"><a href="#SplitView.on_right_click_save_all_comments-707"><span class="linenos">707</span></a>
</span><span id="SplitView.on_right_click_save_all_comments-708"><a href="#SplitView.on_right_click_save_all_comments-708"><span class="linenos">708</span></a>        <span class="n">style</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="SplitView.on_right_click_save_all_comments-709"><a href="#SplitView.on_right_click_save_all_comments-709"><span class="linenos">709</span></a>        <span class="n">x</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="SplitView.on_right_click_save_all_comments-710"><a href="#SplitView.on_right_click_save_all_comments-710"><span class="linenos">710</span></a>        <span class="n">y</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="SplitView.on_right_click_save_all_comments-711"><a href="#SplitView.on_right_click_save_all_comments-711"><span class="linenos">711</span></a>        <span class="n">color</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="SplitView.on_right_click_save_all_comments-712"><a href="#SplitView.on_right_click_save_all_comments-712"><span class="linenos">712</span></a>        <span class="n">string</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="SplitView.on_right_click_save_all_comments-713"><a href="#SplitView.on_right_click_save_all_comments-713"><span class="linenos">713</span></a>        <span class="n">i</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
</span><span id="SplitView.on_right_click_save_all_comments-714"><a href="#SplitView.on_right_click_save_all_comments-714"><span class="linenos">714</span></a>        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="SplitView.on_right_click_save_all_comments-715"><a href="#SplitView.on_right_click_save_all_comments-715"><span class="linenos">715</span></a>            
</span><span id="SplitView.on_right_click_save_all_comments-716"><a href="#SplitView.on_right_click_save_all_comments-716"><span class="linenos">716</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">CommentItem</span><span class="p">):</span>
</span><span id="SplitView.on_right_click_save_all_comments-717"><a href="#SplitView.on_right_click_save_all_comments-717"><span class="linenos">717</span></a>                <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="SplitView.on_right_click_save_all_comments-718"><a href="#SplitView.on_right_click_save_all_comments-718"><span class="linenos">718</span></a>                
</span><span id="SplitView.on_right_click_save_all_comments-719"><a href="#SplitView.on_right_click_save_all_comments-719"><span class="linenos">719</span></a>                <span class="n">comment_pos</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">get_scene_pos</span><span class="p">()</span>
</span><span id="SplitView.on_right_click_save_all_comments-720"><a href="#SplitView.on_right_click_save_all_comments-720"><span class="linenos">720</span></a>                <span class="n">comment_color</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">get_color</span><span class="p">()</span>
</span><span id="SplitView.on_right_click_save_all_comments-721"><a href="#SplitView.on_right_click_save_all_comments-721"><span class="linenos">721</span></a>                <span class="n">comment_string</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">get_comment_text_str</span><span class="p">()</span>
</span><span id="SplitView.on_right_click_save_all_comments-722"><a href="#SplitView.on_right_click_save_all_comments-722"><span class="linenos">722</span></a>
</span><span id="SplitView.on_right_click_save_all_comments-723"><a href="#SplitView.on_right_click_save_all_comments-723"><span class="linenos">723</span></a>                <span class="n">style</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;plain text&quot;</span><span class="p">)</span>
</span><span id="SplitView.on_right_click_save_all_comments-724"><a href="#SplitView.on_right_click_save_all_comments-724"><span class="linenos">724</span></a>                <span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">comment_pos</span><span class="o">.</span><span class="n">x</span><span class="p">())</span>
</span><span id="SplitView.on_right_click_save_all_comments-725"><a href="#SplitView.on_right_click_save_all_comments-725"><span class="linenos">725</span></a>                <span class="n">y</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">comment_pos</span><span class="o">.</span><span class="n">y</span><span class="p">())</span>
</span><span id="SplitView.on_right_click_save_all_comments-726"><a href="#SplitView.on_right_click_save_all_comments-726"><span class="linenos">726</span></a>                <span class="n">color</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">comment_color</span><span class="p">)</span>
</span><span id="SplitView.on_right_click_save_all_comments-727"><a href="#SplitView.on_right_click_save_all_comments-727"><span class="linenos">727</span></a>                <span class="n">string</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">comment_string</span><span class="p">)</span>
</span><span id="SplitView.on_right_click_save_all_comments-728"><a href="#SplitView.on_right_click_save_all_comments-728"><span class="linenos">728</span></a>
</span><span id="SplitView.on_right_click_save_all_comments-729"><a href="#SplitView.on_right_click_save_all_comments-729"><span class="linenos">729</span></a>
</span><span id="SplitView.on_right_click_save_all_comments-730"><a href="#SplitView.on_right_click_save_all_comments-730"><span class="linenos">730</span></a>        <span class="n">folderpath</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="SplitView.on_right_click_save_all_comments-731"><a href="#SplitView.on_right_click_save_all_comments-731"><span class="linenos">731</span></a>        <span class="n">filepath_mainview</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">currentFile</span>
</span><span id="SplitView.on_right_click_save_all_comments-732"><a href="#SplitView.on_right_click_save_all_comments-732"><span class="linenos">732</span></a>
</span><span id="SplitView.on_right_click_save_all_comments-733"><a href="#SplitView.on_right_click_save_all_comments-733"><span class="linenos">733</span></a>        <span class="k">if</span> <span class="n">filepath_mainview</span><span class="p">:</span>
</span><span id="SplitView.on_right_click_save_all_comments-734"><a href="#SplitView.on_right_click_save_all_comments-734"><span class="linenos">734</span></a>            <span class="n">folderpath</span> <span class="o">=</span> <span class="n">filepath_mainview</span>
</span><span id="SplitView.on_right_click_save_all_comments-735"><a href="#SplitView.on_right_click_save_all_comments-735"><span class="linenos">735</span></a>            <span class="n">folderpath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">folderpath</span><span class="p">)</span>
</span><span id="SplitView.on_right_click_save_all_comments-736"><a href="#SplitView.on_right_click_save_all_comments-736"><span class="linenos">736</span></a>            <span class="n">folderpath</span> <span class="o">=</span> <span class="n">folderpath</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span>
</span><span id="SplitView.on_right_click_save_all_comments-737"><a href="#SplitView.on_right_click_save_all_comments-737"><span class="linenos">737</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="SplitView.on_right_click_save_all_comments-738"><a href="#SplitView.on_right_click_save_all_comments-738"><span class="linenos">738</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">display_loading_grayout</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="n">pseudo_load_time</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="SplitView.on_right_click_save_all_comments-739"><a href="#SplitView.on_right_click_save_all_comments-739"><span class="linenos">739</span></a>            <span class="k">return</span>
</span><span id="SplitView.on_right_click_save_all_comments-740"><a href="#SplitView.on_right_click_save_all_comments-740"><span class="linenos">740</span></a>        
</span><span id="SplitView.on_right_click_save_all_comments-741"><a href="#SplitView.on_right_click_save_all_comments-741"><span class="linenos">741</span></a>        <span class="n">header</span> <span class="o">=</span> <span class="p">[[</span><span class="s2">&quot;Butterfly Viewer&quot;</span><span class="p">],</span>
</span><span id="SplitView.on_right_click_save_all_comments-742"><a href="#SplitView.on_right_click_save_all_comments-742"><span class="linenos">742</span></a>                  <span class="p">[</span><span class="s2">&quot;1.0&quot;</span><span class="p">],</span>
</span><span id="SplitView.on_right_click_save_all_comments-743"><a href="#SplitView.on_right_click_save_all_comments-743"><span class="linenos">743</span></a>                  <span class="p">[</span><span class="s2">&quot;comments&quot;</span><span class="p">],</span>
</span><span id="SplitView.on_right_click_save_all_comments-744"><a href="#SplitView.on_right_click_save_all_comments-744"><span class="linenos">744</span></a>                  <span class="p">[</span><span class="s2">&quot;no details&quot;</span><span class="p">],</span>
</span><span id="SplitView.on_right_click_save_all_comments-745"><a href="#SplitView.on_right_click_save_all_comments-745"><span class="linenos">745</span></a>                  <span class="p">[</span><span class="s2">&quot;origin&quot;</span><span class="p">],</span>
</span><span id="SplitView.on_right_click_save_all_comments-746"><a href="#SplitView.on_right_click_save_all_comments-746"><span class="linenos">746</span></a>                  <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">filepath_mainview</span><span class="p">)],</span>
</span><span id="SplitView.on_right_click_save_all_comments-747"><a href="#SplitView.on_right_click_save_all_comments-747"><span class="linenos">747</span></a>                  <span class="p">[</span><span class="s2">&quot;Style&quot;</span><span class="p">,</span> <span class="s2">&quot;Image x&quot;</span><span class="p">,</span> <span class="s2">&quot;Image y&quot;</span><span class="p">,</span> <span class="s2">&quot;Appearance&quot;</span><span class="p">,</span> <span class="s2">&quot;String&quot;</span><span class="p">]]</span>
</span><span id="SplitView.on_right_click_save_all_comments-748"><a href="#SplitView.on_right_click_save_all_comments-748"><span class="linenos">748</span></a>
</span><span id="SplitView.on_right_click_save_all_comments-749"><a href="#SplitView.on_right_click_save_all_comments-749"><span class="linenos">749</span></a>        <span class="n">date_and_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1"> %H%M%S&#39;</span><span class="p">)</span> <span class="c1"># Sets the default filename with date and time </span>
</span><span id="SplitView.on_right_click_save_all_comments-750"><a href="#SplitView.on_right_click_save_all_comments-750"><span class="linenos">750</span></a>        <span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;Untitled comments&quot;</span> <span class="o">+</span> <span class="s2">&quot; - &quot;</span> <span class="o">+</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">filepath_mainview</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot; - &quot;</span> <span class="o">+</span> <span class="n">date_and_time</span> <span class="o">+</span> <span class="s2">&quot;.csv&quot;</span>
</span><span id="SplitView.on_right_click_save_all_comments-751"><a href="#SplitView.on_right_click_save_all_comments-751"><span class="linenos">751</span></a>        <span class="n">name_filters</span> <span class="o">=</span> <span class="s2">&quot;CSV (*.csv)&quot;</span> <span class="c1"># Allows users to select filetype of screenshot</span>
</span><span id="SplitView.on_right_click_save_all_comments-752"><a href="#SplitView.on_right_click_save_all_comments-752"><span class="linenos">752</span></a>        
</span><span id="SplitView.on_right_click_save_all_comments-753"><a href="#SplitView.on_right_click_save_all_comments-753"><span class="linenos">753</span></a>        <span class="n">filepath</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QFileDialog</span><span class="o">.</span><span class="n">getSaveFileName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Save all comments of current view to .csv&quot;</span><span class="p">,</span> <span class="n">folderpath</span><span class="o">+</span><span class="n">filename</span><span class="p">,</span> <span class="n">name_filters</span><span class="p">)</span>
</span><span id="SplitView.on_right_click_save_all_comments-754"><a href="#SplitView.on_right_click_save_all_comments-754"><span class="linenos">754</span></a>
</span><span id="SplitView.on_right_click_save_all_comments-755"><a href="#SplitView.on_right_click_save_all_comments-755"><span class="linenos">755</span></a>        <span class="k">if</span> <span class="n">filepath</span><span class="p">:</span>
</span><span id="SplitView.on_right_click_save_all_comments-756"><a href="#SplitView.on_right_click_save_all_comments-756"><span class="linenos">756</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">display_loading_grayout</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;Saving all comments of current view to .csv...&quot;</span><span class="p">)</span>
</span><span id="SplitView.on_right_click_save_all_comments-757"><a href="#SplitView.on_right_click_save_all_comments-757"><span class="linenos">757</span></a>
</span><span id="SplitView.on_right_click_save_all_comments-758"><a href="#SplitView.on_right_click_save_all_comments-758"><span class="linenos">758</span></a>            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">csv_file</span><span class="p">:</span>
</span><span id="SplitView.on_right_click_save_all_comments-759"><a href="#SplitView.on_right_click_save_all_comments-759"><span class="linenos">759</span></a>                <span class="n">csv_writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">writer</span><span class="p">(</span><span class="n">csv_file</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s2">&quot;|&quot;</span><span class="p">)</span>
</span><span id="SplitView.on_right_click_save_all_comments-760"><a href="#SplitView.on_right_click_save_all_comments-760"><span class="linenos">760</span></a>                <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">header</span><span class="p">:</span>
</span><span id="SplitView.on_right_click_save_all_comments-761"><a href="#SplitView.on_right_click_save_all_comments-761"><span class="linenos">761</span></a>                    <span class="n">csv_writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
</span><span id="SplitView.on_right_click_save_all_comments-762"><a href="#SplitView.on_right_click_save_all_comments-762"><span class="linenos">762</span></a>                <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">style</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="n">string</span><span class="p">):</span>
</span><span id="SplitView.on_right_click_save_all_comments-763"><a href="#SplitView.on_right_click_save_all_comments-763"><span class="linenos">763</span></a>                    <span class="n">csv_writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
</span><span id="SplitView.on_right_click_save_all_comments-764"><a href="#SplitView.on_right_click_save_all_comments-764"><span class="linenos">764</span></a>
</span><span id="SplitView.on_right_click_save_all_comments-765"><a href="#SplitView.on_right_click_save_all_comments-765"><span class="linenos">765</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">display_loading_grayout</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Open a dialog window for user to save all existing comments on the main scene to .csv.</p>

<p>Triggered from right-click menu on view.</p>
</div>


                            </div>
                            <div id="SplitView.on_right_click_load_comments" class="classattr">
                                        <input id="SplitView.on_right_click_load_comments-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">on_right_click_load_comments</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.on_right_click_load_comments-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.on_right_click_load_comments"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.on_right_click_load_comments-768"><a href="#SplitView.on_right_click_load_comments-768"><span class="linenos">768</span></a>    <span class="k">def</span> <span class="nf">on_right_click_load_comments</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView.on_right_click_load_comments-769"><a href="#SplitView.on_right_click_load_comments-769"><span class="linenos">769</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Open a dialog window for user to load comments to the main scene via .csv as saved previously.</span>
</span><span id="SplitView.on_right_click_load_comments-770"><a href="#SplitView.on_right_click_load_comments-770"><span class="linenos">770</span></a><span class="sd">        </span>
</span><span id="SplitView.on_right_click_load_comments-771"><a href="#SplitView.on_right_click_load_comments-771"><span class="linenos">771</span></a><span class="sd">        Triggered from right-click menu on view.</span>
</span><span id="SplitView.on_right_click_load_comments-772"><a href="#SplitView.on_right_click_load_comments-772"><span class="linenos">772</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView.on_right_click_load_comments-773"><a href="#SplitView.on_right_click_load_comments-773"><span class="linenos">773</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">display_loading_grayout</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;Selecting comment file (.csv) to load into current view...&quot;</span><span class="p">,</span> <span class="n">pseudo_load_time</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="SplitView.on_right_click_load_comments-774"><a href="#SplitView.on_right_click_load_comments-774"><span class="linenos">774</span></a>
</span><span id="SplitView.on_right_click_load_comments-775"><a href="#SplitView.on_right_click_load_comments-775"><span class="linenos">775</span></a>        <span class="n">folderpath</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="SplitView.on_right_click_load_comments-776"><a href="#SplitView.on_right_click_load_comments-776"><span class="linenos">776</span></a>        <span class="n">filepath_mainview</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">currentFile</span>
</span><span id="SplitView.on_right_click_load_comments-777"><a href="#SplitView.on_right_click_load_comments-777"><span class="linenos">777</span></a>
</span><span id="SplitView.on_right_click_load_comments-778"><a href="#SplitView.on_right_click_load_comments-778"><span class="linenos">778</span></a>        <span class="k">if</span> <span class="n">filepath_mainview</span><span class="p">:</span>
</span><span id="SplitView.on_right_click_load_comments-779"><a href="#SplitView.on_right_click_load_comments-779"><span class="linenos">779</span></a>            <span class="n">folderpath</span> <span class="o">=</span> <span class="n">filepath_mainview</span>
</span><span id="SplitView.on_right_click_load_comments-780"><a href="#SplitView.on_right_click_load_comments-780"><span class="linenos">780</span></a>            <span class="n">folderpath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">folderpath</span><span class="p">)</span>
</span><span id="SplitView.on_right_click_load_comments-781"><a href="#SplitView.on_right_click_load_comments-781"><span class="linenos">781</span></a>            <span class="c1"># folderpath = folderpath + &quot;\\&quot;</span>
</span><span id="SplitView.on_right_click_load_comments-782"><a href="#SplitView.on_right_click_load_comments-782"><span class="linenos">782</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="SplitView.on_right_click_load_comments-783"><a href="#SplitView.on_right_click_load_comments-783"><span class="linenos">783</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">display_loading_grayout</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="n">pseudo_load_time</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="SplitView.on_right_click_load_comments-784"><a href="#SplitView.on_right_click_load_comments-784"><span class="linenos">784</span></a>            <span class="k">return</span>
</span><span id="SplitView.on_right_click_load_comments-785"><a href="#SplitView.on_right_click_load_comments-785"><span class="linenos">785</span></a>
</span><span id="SplitView.on_right_click_load_comments-786"><a href="#SplitView.on_right_click_load_comments-786"><span class="linenos">786</span></a>        <span class="n">filename</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QFileDialog</span><span class="o">.</span><span class="n">getOpenFileName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Select comment file (.csv) to load into current view&quot;</span><span class="p">,</span> <span class="n">folderpath</span><span class="p">,</span> <span class="s2">&quot;Comma-Separated Value File (*.csv)&quot;</span><span class="p">)</span>
</span><span id="SplitView.on_right_click_load_comments-787"><a href="#SplitView.on_right_click_load_comments-787"><span class="linenos">787</span></a>
</span><span id="SplitView.on_right_click_load_comments-788"><a href="#SplitView.on_right_click_load_comments-788"><span class="linenos">788</span></a>        <span class="k">if</span> <span class="n">filename</span><span class="p">:</span>
</span><span id="SplitView.on_right_click_load_comments-789"><a href="#SplitView.on_right_click_load_comments-789"><span class="linenos">789</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">display_loading_grayout</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;Loading comments from selected .csv into current view...&quot;</span><span class="p">)</span>
</span><span id="SplitView.on_right_click_load_comments-790"><a href="#SplitView.on_right_click_load_comments-790"><span class="linenos">790</span></a>
</span><span id="SplitView.on_right_click_load_comments-791"><a href="#SplitView.on_right_click_load_comments-791"><span class="linenos">791</span></a>            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">csv_file</span><span class="p">:</span>
</span><span id="SplitView.on_right_click_load_comments-792"><a href="#SplitView.on_right_click_load_comments-792"><span class="linenos">792</span></a>                <span class="n">csv_reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">csv_file</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s2">&quot;|&quot;</span><span class="p">)</span>
</span><span id="SplitView.on_right_click_load_comments-793"><a href="#SplitView.on_right_click_load_comments-793"><span class="linenos">793</span></a>                <span class="n">csv_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">csv_reader</span><span class="p">)</span>
</span><span id="SplitView.on_right_click_load_comments-794"><a href="#SplitView.on_right_click_load_comments-794"><span class="linenos">794</span></a>
</span><span id="SplitView.on_right_click_load_comments-795"><a href="#SplitView.on_right_click_load_comments-795"><span class="linenos">795</span></a>                <span class="n">i</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="SplitView.on_right_click_load_comments-796"><a href="#SplitView.on_right_click_load_comments-796"><span class="linenos">796</span></a>
</span><span id="SplitView.on_right_click_load_comments-797"><a href="#SplitView.on_right_click_load_comments-797"><span class="linenos">797</span></a>                <span class="k">try</span><span class="p">:</span>
</span><span id="SplitView.on_right_click_load_comments-798"><a href="#SplitView.on_right_click_load_comments-798"><span class="linenos">798</span></a>                    <span class="n">i</span> <span class="o">=</span> <span class="n">csv_list</span><span class="o">.</span><span class="n">index</span><span class="p">([</span><span class="s2">&quot;Style&quot;</span><span class="p">,</span> <span class="s2">&quot;Image x&quot;</span><span class="p">,</span> <span class="s2">&quot;Image y&quot;</span><span class="p">,</span> <span class="s2">&quot;Appearance&quot;</span><span class="p">,</span> <span class="s2">&quot;String&quot;</span><span class="p">])</span>
</span><span id="SplitView.on_right_click_load_comments-799"><a href="#SplitView.on_right_click_load_comments-799"><span class="linenos">799</span></a>                <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
</span><span id="SplitView.on_right_click_load_comments-800"><a href="#SplitView.on_right_click_load_comments-800"><span class="linenos">800</span></a>                    <span class="n">box_type</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Warning</span>
</span><span id="SplitView.on_right_click_load_comments-801"><a href="#SplitView.on_right_click_load_comments-801"><span class="linenos">801</span></a>                    <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Invalid .csv comment file&quot;</span>
</span><span id="SplitView.on_right_click_load_comments-802"><a href="#SplitView.on_right_click_load_comments-802"><span class="linenos">802</span></a>                    <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;The selected .csv comment file does not have a format accepted by this app.&quot;</span>
</span><span id="SplitView.on_right_click_load_comments-803"><a href="#SplitView.on_right_click_load_comments-803"><span class="linenos">803</span></a>                    <span class="n">box_buttons</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Close</span>
</span><span id="SplitView.on_right_click_load_comments-804"><a href="#SplitView.on_right_click_load_comments-804"><span class="linenos">804</span></a>                    <span class="n">box</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="p">(</span><span class="n">box_type</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">box_buttons</span><span class="p">)</span>
</span><span id="SplitView.on_right_click_load_comments-805"><a href="#SplitView.on_right_click_load_comments-805"><span class="linenos">805</span></a>                    <span class="n">box</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
</span><span id="SplitView.on_right_click_load_comments-806"><a href="#SplitView.on_right_click_load_comments-806"><span class="linenos">806</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="SplitView.on_right_click_load_comments-807"><a href="#SplitView.on_right_click_load_comments-807"><span class="linenos">807</span></a>                    <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span> <span class="c1"># Move to first comment item</span>
</span><span id="SplitView.on_right_click_load_comments-808"><a href="#SplitView.on_right_click_load_comments-808"><span class="linenos">808</span></a>                    <span class="n">no_comments</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="SplitView.on_right_click_load_comments-809"><a href="#SplitView.on_right_click_load_comments-809"><span class="linenos">809</span></a>                    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">csv_list</span><span class="p">[</span><span class="n">i</span><span class="p">:]:</span>
</span><span id="SplitView.on_right_click_load_comments-810"><a href="#SplitView.on_right_click_load_comments-810"><span class="linenos">810</span></a>                        <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;plain text&quot;</span><span class="p">:</span>
</span><span id="SplitView.on_right_click_load_comments-811"><a href="#SplitView.on_right_click_load_comments-811"><span class="linenos">811</span></a>                            <span class="n">no_comments</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="SplitView.on_right_click_load_comments-812"><a href="#SplitView.on_right_click_load_comments-812"><span class="linenos">812</span></a>                            <span class="n">comment_x</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="SplitView.on_right_click_load_comments-813"><a href="#SplitView.on_right_click_load_comments-813"><span class="linenos">813</span></a>                            <span class="n">comment_y</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</span><span id="SplitView.on_right_click_load_comments-814"><a href="#SplitView.on_right_click_load_comments-814"><span class="linenos">814</span></a>                            <span class="n">comment_color</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
</span><span id="SplitView.on_right_click_load_comments-815"><a href="#SplitView.on_right_click_load_comments-815"><span class="linenos">815</span></a>                            <span class="n">comment_string</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
</span><span id="SplitView.on_right_click_load_comments-816"><a href="#SplitView.on_right_click_load_comments-816"><span class="linenos">816</span></a>                            <span class="n">comment_pos</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="n">comment_x</span><span class="p">,</span> <span class="n">comment_y</span><span class="p">)</span>
</span><span id="SplitView.on_right_click_load_comments-817"><a href="#SplitView.on_right_click_load_comments-817"><span class="linenos">817</span></a>                            <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">CommentItem</span><span class="p">(</span><span class="n">initial_scene_pos</span><span class="o">=</span><span class="n">comment_pos</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">comment_color</span><span class="p">,</span> <span class="n">comment_text</span><span class="o">=</span><span class="n">comment_string</span><span class="p">,</span> <span class="n">set_cursor_on_creation</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</span><span id="SplitView.on_right_click_load_comments-818"><a href="#SplitView.on_right_click_load_comments-818"><span class="linenos">818</span></a>                    <span class="k">if</span> <span class="n">no_comments</span><span class="p">:</span>
</span><span id="SplitView.on_right_click_load_comments-819"><a href="#SplitView.on_right_click_load_comments-819"><span class="linenos">819</span></a>                        <span class="n">box_type</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Warning</span>
</span><span id="SplitView.on_right_click_load_comments-820"><a href="#SplitView.on_right_click_load_comments-820"><span class="linenos">820</span></a>                        <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;No comments in .csv&quot;</span>
</span><span id="SplitView.on_right_click_load_comments-821"><a href="#SplitView.on_right_click_load_comments-821"><span class="linenos">821</span></a>                        <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;No comments found in the selected .csv comment file.&quot;</span>
</span><span id="SplitView.on_right_click_load_comments-822"><a href="#SplitView.on_right_click_load_comments-822"><span class="linenos">822</span></a>                        <span class="n">box_buttons</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Close</span>
</span><span id="SplitView.on_right_click_load_comments-823"><a href="#SplitView.on_right_click_load_comments-823"><span class="linenos">823</span></a>                        <span class="n">box</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="p">(</span><span class="n">box_type</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">box_buttons</span><span class="p">)</span>
</span><span id="SplitView.on_right_click_load_comments-824"><a href="#SplitView.on_right_click_load_comments-824"><span class="linenos">824</span></a>                        <span class="n">box</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
</span><span id="SplitView.on_right_click_load_comments-825"><a href="#SplitView.on_right_click_load_comments-825"><span class="linenos">825</span></a>                    
</span><span id="SplitView.on_right_click_load_comments-826"><a href="#SplitView.on_right_click_load_comments-826"><span class="linenos">826</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">display_loading_grayout</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Open a dialog window for user to load comments to the main scene via .csv as saved previously.</p>

<p>Triggered from right-click menu on view.</p>
</div>


                            </div>
                            <div id="SplitView.on_right_click_set_relative_origin_position" class="classattr">
                                        <input id="SplitView.on_right_click_set_relative_origin_position-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">on_right_click_set_relative_origin_position</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">string</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.on_right_click_set_relative_origin_position-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.on_right_click_set_relative_origin_position"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.on_right_click_set_relative_origin_position-828"><a href="#SplitView.on_right_click_set_relative_origin_position-828"><span class="linenos">828</span></a>    <span class="k">def</span> <span class="nf">on_right_click_set_relative_origin_position</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">string</span><span class="p">):</span>
</span><span id="SplitView.on_right_click_set_relative_origin_position-829"><a href="#SplitView.on_right_click_set_relative_origin_position-829"><span class="linenos">829</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set orientation of the coordinate system for rulers by positioning the relative origin.</span>
</span><span id="SplitView.on_right_click_set_relative_origin_position-830"><a href="#SplitView.on_right_click_set_relative_origin_position-830"><span class="linenos">830</span></a>
</span><span id="SplitView.on_right_click_set_relative_origin_position-831"><a href="#SplitView.on_right_click_set_relative_origin_position-831"><span class="linenos">831</span></a><span class="sd">        Allows users to switch the coordinate orientation:</span>
</span><span id="SplitView.on_right_click_set_relative_origin_position-832"><a href="#SplitView.on_right_click_set_relative_origin_position-832"><span class="linenos">832</span></a><span class="sd">            &quot;bottomleft&quot; for Cartesian-style (positive X right, positive Y up)</span>
</span><span id="SplitView.on_right_click_set_relative_origin_position-833"><a href="#SplitView.on_right_click_set_relative_origin_position-833"><span class="linenos">833</span></a><span class="sd">            topleft&quot; for image-style (positive X right, positive Y down)</span>
</span><span id="SplitView.on_right_click_set_relative_origin_position-834"><a href="#SplitView.on_right_click_set_relative_origin_position-834"><span class="linenos">834</span></a>
</span><span id="SplitView.on_right_click_set_relative_origin_position-835"><a href="#SplitView.on_right_click_set_relative_origin_position-835"><span class="linenos">835</span></a><span class="sd">        Args:</span>
</span><span id="SplitView.on_right_click_set_relative_origin_position-836"><a href="#SplitView.on_right_click_set_relative_origin_position-836"><span class="linenos">836</span></a><span class="sd">            relative_origin_position (str): The position of the origin for coordinate system (&quot;topleft&quot; or &quot;bottomleft&quot;).</span>
</span><span id="SplitView.on_right_click_set_relative_origin_position-837"><a href="#SplitView.on_right_click_set_relative_origin_position-837"><span class="linenos">837</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView.on_right_click_set_relative_origin_position-838"><a href="#SplitView.on_right_click_set_relative_origin_position-838"><span class="linenos">838</span></a>        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="SplitView.on_right_click_set_relative_origin_position-839"><a href="#SplitView.on_right_click_set_relative_origin_position-839"><span class="linenos">839</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">RulerItem</span><span class="p">):</span>
</span><span id="SplitView.on_right_click_set_relative_origin_position-840"><a href="#SplitView.on_right_click_set_relative_origin_position-840"><span class="linenos">840</span></a>                <span class="n">item</span><span class="o">.</span><span class="n">set_and_refresh_relative_origin_position</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Set orientation of the coordinate system for rulers by positioning the relative origin.</p>

<h6 id="allows-users-to-switch-the-coordinate-orientation">Allows users to switch the coordinate orientation:</h6>

<blockquote>
  <p>"bottomleft" for Cartesian-style (positive X right, positive Y up)
  topleft" for image-style (positive X right, positive Y down)</p>
</blockquote>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>relative_origin_position (str):</strong>  The position of the origin for coordinate system ("topleft" or "bottomleft").</li>
</ul>
</div>


                            </div>
                            <div id="SplitView.display_loading_grayout" class="classattr">
                                        <input id="SplitView.display_loading_grayout-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">display_loading_grayout</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">boolean</span>, </span><span class="param"><span class="n">text</span><span class="o">=</span><span class="s1">&#39;Loading...&#39;</span>, </span><span class="param"><span class="n">pseudo_load_time</span><span class="o">=</span><span class="mf">0.2</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.display_loading_grayout-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.display_loading_grayout"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.display_loading_grayout-842"><a href="#SplitView.display_loading_grayout-842"><span class="linenos">842</span></a>    <span class="k">def</span> <span class="nf">display_loading_grayout</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">boolean</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Loading...&quot;</span><span class="p">,</span> <span class="n">pseudo_load_time</span><span class="o">=</span><span class="mf">0.2</span><span class="p">):</span>
</span><span id="SplitView.display_loading_grayout-843"><a href="#SplitView.display_loading_grayout-843"><span class="linenos">843</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Emit signal for showing/hiding a grayout screen to indicate loading sequences.</span>
</span><span id="SplitView.display_loading_grayout-844"><a href="#SplitView.display_loading_grayout-844"><span class="linenos">844</span></a>
</span><span id="SplitView.display_loading_grayout-845"><a href="#SplitView.display_loading_grayout-845"><span class="linenos">845</span></a><span class="sd">        Args:</span>
</span><span id="SplitView.display_loading_grayout-846"><a href="#SplitView.display_loading_grayout-846"><span class="linenos">846</span></a><span class="sd">            boolean (bool): True to show grayout; False to hide.</span>
</span><span id="SplitView.display_loading_grayout-847"><a href="#SplitView.display_loading_grayout-847"><span class="linenos">847</span></a><span class="sd">            text (str): The text to show on the grayout.</span>
</span><span id="SplitView.display_loading_grayout-848"><a href="#SplitView.display_loading_grayout-848"><span class="linenos">848</span></a><span class="sd">            pseudo_load_time (float): The delay (in seconds) to hide the grayout to give user feeling of action.</span>
</span><span id="SplitView.display_loading_grayout-849"><a href="#SplitView.display_loading_grayout-849"><span class="linenos">849</span></a><span class="sd">        &quot;&quot;&quot;</span> 
</span><span id="SplitView.display_loading_grayout-850"><a href="#SplitView.display_loading_grayout-850"><span class="linenos">850</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">signal_display_loading_grayout</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">boolean</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">pseudo_load_time</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Emit signal for showing/hiding a grayout screen to indicate loading sequences.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>boolean (bool):</strong>  True to show grayout; False to hide.</li>
<li><strong>text (str):</strong>  The text to show on the grayout.</li>
<li><strong>pseudo_load_time (float):</strong>  The delay (in seconds) to hide the grayout to give user feeling of action.</li>
</ul>
</div>


                            </div>
                            <div id="SplitView.update_mouse_rect" class="classattr">
                                        <input id="SplitView.update_mouse_rect-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">update_mouse_rect</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">pos</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.update_mouse_rect-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.update_mouse_rect"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.update_mouse_rect-852"><a href="#SplitView.update_mouse_rect-852"><span class="linenos">852</span></a>    <span class="k">def</span> <span class="nf">update_mouse_rect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="SplitView.update_mouse_rect-853"><a href="#SplitView.update_mouse_rect-853"><span class="linenos">853</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Update the position of red 1x1 outline at the pointer in the main scene.</span>
</span><span id="SplitView.update_mouse_rect-854"><a href="#SplitView.update_mouse_rect-854"><span class="linenos">854</span></a>
</span><span id="SplitView.update_mouse_rect-855"><a href="#SplitView.update_mouse_rect-855"><span class="linenos">855</span></a><span class="sd">        Args:</span>
</span><span id="SplitView.update_mouse_rect-856"><a href="#SplitView.update_mouse_rect-856"><span class="linenos">856</span></a><span class="sd">            pos (QPoint): The position of the mouse on the widget. Set to None to make the function determine the position using the mouse global coordinates.</span>
</span><span id="SplitView.update_mouse_rect-857"><a href="#SplitView.update_mouse_rect-857"><span class="linenos">857</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView.update_mouse_rect-858"><a href="#SplitView.update_mouse_rect-858"><span class="linenos">858</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_scene_main_topleft</span><span class="p">:</span>
</span><span id="SplitView.update_mouse_rect-859"><a href="#SplitView.update_mouse_rect-859"><span class="linenos">859</span></a>            <span class="k">return</span>
</span><span id="SplitView.update_mouse_rect-860"><a href="#SplitView.update_mouse_rect-860"><span class="linenos">860</span></a>    
</span><span id="SplitView.update_mouse_rect-861"><a href="#SplitView.update_mouse_rect-861"><span class="linenos">861</span></a>        <span class="k">if</span> <span class="n">pos</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span> <span class="c1"># Get position of split on main scene by directly pulling mouse global coordinates</span>
</span><span id="SplitView.update_mouse_rect-862"><a href="#SplitView.update_mouse_rect-862"><span class="linenos">862</span></a>            <span class="n">point_of_cursor_global</span>      <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QCursor</span><span class="o">.</span><span class="n">pos</span><span class="p">()</span>
</span><span id="SplitView.update_mouse_rect-863"><a href="#SplitView.update_mouse_rect-863"><span class="linenos">863</span></a>            <span class="n">point_of_mouse_on_widget</span>    <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapFromGlobal</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QCursor</span><span class="o">.</span><span class="n">pos</span><span class="p">())</span>
</span><span id="SplitView.update_mouse_rect-864"><a href="#SplitView.update_mouse_rect-864"><span class="linenos">864</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="SplitView.update_mouse_rect-865"><a href="#SplitView.update_mouse_rect-865"><span class="linenos">865</span></a>            <span class="n">point_of_mouse_on_widget</span> <span class="o">=</span> <span class="n">pos</span>
</span><span id="SplitView.update_mouse_rect-866"><a href="#SplitView.update_mouse_rect-866"><span class="linenos">866</span></a>    
</span><span id="SplitView.update_mouse_rect-867"><a href="#SplitView.update_mouse_rect-867"><span class="linenos">867</span></a>        <span class="n">mouse_rect_pos_origin</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">mapToScene</span><span class="p">(</span><span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span><span class="n">point_of_mouse_on_widget</span><span class="o">.</span><span class="n">y</span><span class="p">())</span>
</span><span id="SplitView.update_mouse_rect-868"><a href="#SplitView.update_mouse_rect-868"><span class="linenos">868</span></a>        <span class="n">mouse_rect_pos_origin</span><span class="o">.</span><span class="n">setX</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">mouse_rect_pos_origin</span><span class="o">.</span><span class="n">x</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_width</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
</span><span id="SplitView.update_mouse_rect-869"><a href="#SplitView.update_mouse_rect-869"><span class="linenos">869</span></a>        <span class="n">mouse_rect_pos_origin</span><span class="o">.</span><span class="n">setY</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">mouse_rect_pos_origin</span><span class="o">.</span><span class="n">y</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_height</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
</span><span id="SplitView.update_mouse_rect-870"><a href="#SplitView.update_mouse_rect-870"><span class="linenos">870</span></a>        
</span><span id="SplitView.update_mouse_rect-871"><a href="#SplitView.update_mouse_rect-871"><span class="linenos">871</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_scene_main_topleft</span><span class="o">.</span><span class="n">setPos</span><span class="p">(</span><span class="n">mouse_rect_pos_origin</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span> <span class="n">mouse_rect_pos_origin</span><span class="o">.</span><span class="n">y</span><span class="p">())</span>
</span></pre></div>


            <div class="docstring"><p>Update the position of red 1x1 outline at the pointer in the main scene.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>pos (QPoint):</strong>  The position of the mouse on the widget. Set to None to make the function determine the position using the mouse global coordinates.</li>
</ul>
</div>


                            </div>
                            <div id="SplitView.signal_display_loading_grayout" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">signal_display_loading_grayout</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">unknown</span></span><span class="return-annotation">):</span></span>

        
    </div>
    <a class="headerlink" href="#SplitView.signal_display_loading_grayout"></a>
    
            <div class="docstring"><p>Emitted when comments are being saved or loaded.</p>
</div>


                            </div>
                            <div id="SplitView.became_closed" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">became_closed</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">unknown</span></span><span class="return-annotation">):</span></span>

        
    </div>
    <a class="headerlink" href="#SplitView.became_closed"></a>
    
            <div class="docstring"><p>Emitted when SplitView is closed.</p>
</div>


                            </div>
                            <div id="SplitView.was_clicked_close_pushbutton" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">was_clicked_close_pushbutton</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">unknown</span></span><span class="return-annotation">):</span></span>

        
    </div>
    <a class="headerlink" href="#SplitView.was_clicked_close_pushbutton"></a>
    
            <div class="docstring"><p>Emitted when close pushbutton is clicked (pressed+released).</p>
</div>


                            </div>
                            <div id="SplitView.was_set_global_transform_mode" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">was_set_global_transform_mode</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">unknown</span></span><span class="return-annotation">):</span></span>

        
    </div>
    <a class="headerlink" href="#SplitView.was_set_global_transform_mode"></a>
    
            <div class="docstring"><p>Emitted when transform mode is set for all views in right-click menu (passes it along).</p>
</div>


                            </div>
                            <div id="SplitView.was_set_scene_background_color" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">was_set_scene_background_color</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">unknown</span></span><span class="return-annotation">):</span></span>

        
    </div>
    <a class="headerlink" href="#SplitView.was_set_scene_background_color"></a>
    
            <div class="docstring"><p>Emitted when background color is set in right-click menu (passes it along).</p>
</div>


                            </div>
                            <div id="SplitView.was_set_sync_zoom_by" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">was_set_sync_zoom_by</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">unknown</span></span><span class="return-annotation">):</span></span>

        
    </div>
    <a class="headerlink" href="#SplitView.was_set_sync_zoom_by"></a>
    
            <div class="docstring"><p>Emitted when sync zoom option is set in right-click menu (passes it along).</p>
</div>


                            </div>
                            <div id="SplitView.positionChanged" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">positionChanged</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">unknown</span></span><span class="return-annotation">):</span></span>

        
    </div>
    <a class="headerlink" href="#SplitView.positionChanged"></a>
    
            <div class="docstring"><p>Emitted when mouse changes position.</p>
</div>


                            </div>
                            <div id="SplitView.sceneChanged" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">sceneChanged</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">unknown</span></span><span class="return-annotation">):</span></span>

        
    </div>
    <a class="headerlink" href="#SplitView.sceneChanged"></a>
    
            <div class="docstring"><p>Scene Changed <strong>Signal</strong>.</p>

<p>Emitted whenever the |QGraphicsScene| content changes.</p>
</div>


                            </div>
                            <div id="SplitView.transformChanged" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">transformChanged</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">unknown</span></span><span class="return-annotation">):</span></span>

        
    </div>
    <a class="headerlink" href="#SplitView.transformChanged"></a>
    
            <div class="docstring"><p>Transformed Changed <strong>Signal</strong>.</p>

<p>Emitted whenever the |QGraphicsView| Transform matrix has been changed.</p>
</div>


                            </div>
                            <div id="SplitView.scrollChanged" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">scrollChanged</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">unknown</span></span><span class="return-annotation">):</span></span>

        
    </div>
    <a class="headerlink" href="#SplitView.scrollChanged"></a>
    
            <div class="docstring"><p>Scroll Changed <strong>Signal</strong>.</p>

<p>Emitted whenever the scrollbar position or range has changed.</p>
</div>


                            </div>
                            <div id="SplitView.connectSbarSignals" class="classattr">
                                        <input id="SplitView.connectSbarSignals-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">connectSbarSignals</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">slot</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.connectSbarSignals-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.connectSbarSignals"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.connectSbarSignals-910"><a href="#SplitView.connectSbarSignals-910"><span class="linenos">910</span></a>    <span class="k">def</span> <span class="nf">connectSbarSignals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slot</span><span class="p">):</span>
</span><span id="SplitView.connectSbarSignals-911"><a href="#SplitView.connectSbarSignals-911"><span class="linenos">911</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Connect to scrollbar changed signals.</span>
</span><span id="SplitView.connectSbarSignals-912"><a href="#SplitView.connectSbarSignals-912"><span class="linenos">912</span></a>
</span><span id="SplitView.connectSbarSignals-913"><a href="#SplitView.connectSbarSignals-913"><span class="linenos">913</span></a><span class="sd">        :param slot: slot to connect scrollbar signals to.&quot;&quot;&quot;</span>
</span><span id="SplitView.connectSbarSignals-914"><a href="#SplitView.connectSbarSignals-914"><span class="linenos">914</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">connectSbarSignals</span><span class="p">(</span><span class="n">slot</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Connect to scrollbar changed signals.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>slot</strong>:  slot to connect scrollbar signals to.</li>
</ul>
</div>


                            </div>
                            <div id="SplitView.pixmap_main_topleft" class="classattr">
                                <div class="attr variable">
            <span class="name">pixmap_main_topleft</span>

        
    </div>
    <a class="headerlink" href="#SplitView.pixmap_main_topleft"></a>
    
            <div class="docstring"><p>The currently viewed |QPixmap| (<em>QPixmap</em>).</p>
</div>


                            </div>
                            <div id="SplitView.set_opacity_base" class="classattr">
                                        <input id="SplitView.set_opacity_base-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@QtCore.pyqtSlot()</div>

        <span class="def">def</span>
        <span class="name">set_opacity_base</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">percent</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.set_opacity_base-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.set_opacity_base"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.set_opacity_base-932"><a href="#SplitView.set_opacity_base-932"><span class="linenos">932</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="SplitView.set_opacity_base-933"><a href="#SplitView.set_opacity_base-933"><span class="linenos">933</span></a>    <span class="k">def</span> <span class="nf">set_opacity_base</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">percent</span><span class="p">):</span>
</span><span id="SplitView.set_opacity_base-934"><a href="#SplitView.set_opacity_base-934"><span class="linenos">934</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set transparency of base image.</span>
</span><span id="SplitView.set_opacity_base-935"><a href="#SplitView.set_opacity_base-935"><span class="linenos">935</span></a><span class="sd">        </span>
</span><span id="SplitView.set_opacity_base-936"><a href="#SplitView.set_opacity_base-936"><span class="linenos">936</span></a><span class="sd">        Args:</span>
</span><span id="SplitView.set_opacity_base-937"><a href="#SplitView.set_opacity_base-937"><span class="linenos">937</span></a><span class="sd">            percent (float,int): The transparency as percent opacity, where 100 is opaque (not transparent) and 0 is transparent (0-100).</span>
</span><span id="SplitView.set_opacity_base-938"><a href="#SplitView.set_opacity_base-938"><span class="linenos">938</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView.set_opacity_base-939"><a href="#SplitView.set_opacity_base-939"><span class="linenos">939</span></a>        
</span><span id="SplitView.set_opacity_base-940"><a href="#SplitView.set_opacity_base-940"><span class="linenos">940</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_opacity_base</span> <span class="o">=</span> <span class="n">percent</span>
</span><span id="SplitView.set_opacity_base-941"><a href="#SplitView.set_opacity_base-941"><span class="linenos">941</span></a>
</span><span id="SplitView.set_opacity_base-942"><a href="#SplitView.set_opacity_base-942"><span class="linenos">942</span></a>        <span class="n">pixmap_to_be_transparent</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPixmap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_base_original</span><span class="o">.</span><span class="n">size</span><span class="p">())</span>
</span><span id="SplitView.set_opacity_base-943"><a href="#SplitView.set_opacity_base-943"><span class="linenos">943</span></a>        <span class="n">pixmap_to_be_transparent</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">transparent</span><span class="p">)</span>
</span><span id="SplitView.set_opacity_base-944"><a href="#SplitView.set_opacity_base-944"><span class="linenos">944</span></a>        <span class="n">painter</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPainter</span><span class="p">(</span><span class="n">pixmap_to_be_transparent</span><span class="p">)</span>
</span><span id="SplitView.set_opacity_base-945"><a href="#SplitView.set_opacity_base-945"><span class="linenos">945</span></a>        <span class="n">painter</span><span class="o">.</span><span class="n">setOpacity</span><span class="p">(</span><span class="n">percent</span><span class="o">/</span><span class="mi">100</span><span class="p">)</span>
</span><span id="SplitView.set_opacity_base-946"><a href="#SplitView.set_opacity_base-946"><span class="linenos">946</span></a>        <span class="n">painter</span><span class="o">.</span><span class="n">drawPixmap</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QPoint</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_base_original</span><span class="p">)</span>
</span><span id="SplitView.set_opacity_base-947"><a href="#SplitView.set_opacity_base-947"><span class="linenos">947</span></a>        <span class="n">painter</span><span class="o">.</span><span class="n">end</span><span class="p">()</span>
</span><span id="SplitView.set_opacity_base-948"><a href="#SplitView.set_opacity_base-948"><span class="linenos">948</span></a>
</span><span id="SplitView.set_opacity_base-949"><a href="#SplitView.set_opacity_base-949"><span class="linenos">949</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_main_topleft</span><span class="o">.</span><span class="n">setPixmap</span><span class="p">(</span><span class="n">pixmap_to_be_transparent</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Set transparency of base image.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>percent (float,int):</strong>  The transparency as percent opacity, where 100 is opaque (not transparent) and 0 is transparent (0-100).</li>
</ul>
</div>


                            </div>
                            <div id="SplitView.set_opacity_topright" class="classattr">
                                        <input id="SplitView.set_opacity_topright-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@QtCore.pyqtSlot()</div>

        <span class="def">def</span>
        <span class="name">set_opacity_topright</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">percent</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.set_opacity_topright-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.set_opacity_topright"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.set_opacity_topright-961"><a href="#SplitView.set_opacity_topright-961"><span class="linenos">961</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="SplitView.set_opacity_topright-962"><a href="#SplitView.set_opacity_topright-962"><span class="linenos">962</span></a>    <span class="k">def</span> <span class="nf">set_opacity_topright</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">percent</span><span class="p">):</span>
</span><span id="SplitView.set_opacity_topright-963"><a href="#SplitView.set_opacity_topright-963"><span class="linenos">963</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set transparency of top-right of sliding overlay.</span>
</span><span id="SplitView.set_opacity_topright-964"><a href="#SplitView.set_opacity_topright-964"><span class="linenos">964</span></a><span class="sd">        </span>
</span><span id="SplitView.set_opacity_topright-965"><a href="#SplitView.set_opacity_topright-965"><span class="linenos">965</span></a><span class="sd">        Allows users to see base image underneath.</span>
</span><span id="SplitView.set_opacity_topright-966"><a href="#SplitView.set_opacity_topright-966"><span class="linenos">966</span></a><span class="sd">        Provide enhanced integration and comparison of images (for example, blending raking light with color).</span>
</span><span id="SplitView.set_opacity_topright-967"><a href="#SplitView.set_opacity_topright-967"><span class="linenos">967</span></a>
</span><span id="SplitView.set_opacity_topright-968"><a href="#SplitView.set_opacity_topright-968"><span class="linenos">968</span></a><span class="sd">        Args:</span>
</span><span id="SplitView.set_opacity_topright-969"><a href="#SplitView.set_opacity_topright-969"><span class="linenos">969</span></a><span class="sd">            percent (float,int): The transparency as percent opacity, where 100 is opaque (not transparent) and 0 is transparent (0-100).</span>
</span><span id="SplitView.set_opacity_topright-970"><a href="#SplitView.set_opacity_topright-970"><span class="linenos">970</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView.set_opacity_topright-971"><a href="#SplitView.set_opacity_topright-971"><span class="linenos">971</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">pixmap_topright_exists</span><span class="p">:</span>
</span><span id="SplitView.set_opacity_topright-972"><a href="#SplitView.set_opacity_topright-972"><span class="linenos">972</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_opacity_topright</span> <span class="o">=</span> <span class="mi">100</span>
</span><span id="SplitView.set_opacity_topright-973"><a href="#SplitView.set_opacity_topright-973"><span class="linenos">973</span></a>            <span class="k">return</span>
</span><span id="SplitView.set_opacity_topright-974"><a href="#SplitView.set_opacity_topright-974"><span class="linenos">974</span></a>        
</span><span id="SplitView.set_opacity_topright-975"><a href="#SplitView.set_opacity_topright-975"><span class="linenos">975</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_opacity_topright</span> <span class="o">=</span> <span class="n">percent</span>
</span><span id="SplitView.set_opacity_topright-976"><a href="#SplitView.set_opacity_topright-976"><span class="linenos">976</span></a>
</span><span id="SplitView.set_opacity_topright-977"><a href="#SplitView.set_opacity_topright-977"><span class="linenos">977</span></a>        <span class="n">pixmap_to_be_transparent</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPixmap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_topright_original</span><span class="o">.</span><span class="n">size</span><span class="p">())</span>
</span><span id="SplitView.set_opacity_topright-978"><a href="#SplitView.set_opacity_topright-978"><span class="linenos">978</span></a>        <span class="n">pixmap_to_be_transparent</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">transparent</span><span class="p">)</span>
</span><span id="SplitView.set_opacity_topright-979"><a href="#SplitView.set_opacity_topright-979"><span class="linenos">979</span></a>        <span class="n">painter</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPainter</span><span class="p">(</span><span class="n">pixmap_to_be_transparent</span><span class="p">)</span>
</span><span id="SplitView.set_opacity_topright-980"><a href="#SplitView.set_opacity_topright-980"><span class="linenos">980</span></a>        <span class="n">painter</span><span class="o">.</span><span class="n">setOpacity</span><span class="p">(</span><span class="n">percent</span><span class="o">/</span><span class="mi">100</span><span class="p">)</span>
</span><span id="SplitView.set_opacity_topright-981"><a href="#SplitView.set_opacity_topright-981"><span class="linenos">981</span></a>        <span class="n">painter</span><span class="o">.</span><span class="n">drawPixmap</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QPoint</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_topright_original</span><span class="p">)</span>
</span><span id="SplitView.set_opacity_topright-982"><a href="#SplitView.set_opacity_topright-982"><span class="linenos">982</span></a>        <span class="n">painter</span><span class="o">.</span><span class="n">end</span><span class="p">()</span>
</span><span id="SplitView.set_opacity_topright-983"><a href="#SplitView.set_opacity_topright-983"><span class="linenos">983</span></a>
</span><span id="SplitView.set_opacity_topright-984"><a href="#SplitView.set_opacity_topright-984"><span class="linenos">984</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_topright</span><span class="o">.</span><span class="n">setPixmap</span><span class="p">(</span><span class="n">pixmap_to_be_transparent</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Set transparency of top-right of sliding overlay.</p>

<p>Allows users to see base image underneath.
Provide enhanced integration and comparison of images (for example, blending raking light with color).</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>percent (float,int):</strong>  The transparency as percent opacity, where 100 is opaque (not transparent) and 0 is transparent (0-100).</li>
</ul>
</div>


                            </div>
                            <div id="SplitView.set_opacity_bottomright" class="classattr">
                                        <input id="SplitView.set_opacity_bottomright-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@QtCore.pyqtSlot()</div>

        <span class="def">def</span>
        <span class="name">set_opacity_bottomright</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">percent</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.set_opacity_bottomright-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.set_opacity_bottomright"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.set_opacity_bottomright-997"><a href="#SplitView.set_opacity_bottomright-997"><span class="linenos"> 997</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="SplitView.set_opacity_bottomright-998"><a href="#SplitView.set_opacity_bottomright-998"><span class="linenos"> 998</span></a>    <span class="k">def</span> <span class="nf">set_opacity_bottomright</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">percent</span><span class="p">):</span>
</span><span id="SplitView.set_opacity_bottomright-999"><a href="#SplitView.set_opacity_bottomright-999"><span class="linenos"> 999</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set transparency of bottom-right of sliding overlay.</span>
</span><span id="SplitView.set_opacity_bottomright-1000"><a href="#SplitView.set_opacity_bottomright-1000"><span class="linenos">1000</span></a>
</span><span id="SplitView.set_opacity_bottomright-1001"><a href="#SplitView.set_opacity_bottomright-1001"><span class="linenos">1001</span></a><span class="sd">        Args:</span>
</span><span id="SplitView.set_opacity_bottomright-1002"><a href="#SplitView.set_opacity_bottomright-1002"><span class="linenos">1002</span></a><span class="sd">            percent (float,int): The transparency as percent opacity, where 100 is opaque (not transparent) and 0 is transparent (0-100).</span>
</span><span id="SplitView.set_opacity_bottomright-1003"><a href="#SplitView.set_opacity_bottomright-1003"><span class="linenos">1003</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView.set_opacity_bottomright-1004"><a href="#SplitView.set_opacity_bottomright-1004"><span class="linenos">1004</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">pixmap_bottomright_exists</span><span class="p">:</span>
</span><span id="SplitView.set_opacity_bottomright-1005"><a href="#SplitView.set_opacity_bottomright-1005"><span class="linenos">1005</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_opacity_bottomright</span> <span class="o">=</span> <span class="mi">100</span>
</span><span id="SplitView.set_opacity_bottomright-1006"><a href="#SplitView.set_opacity_bottomright-1006"><span class="linenos">1006</span></a>            <span class="k">return</span>
</span><span id="SplitView.set_opacity_bottomright-1007"><a href="#SplitView.set_opacity_bottomright-1007"><span class="linenos">1007</span></a>
</span><span id="SplitView.set_opacity_bottomright-1008"><a href="#SplitView.set_opacity_bottomright-1008"><span class="linenos">1008</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_opacity_bottomright</span> <span class="o">=</span> <span class="n">percent</span>
</span><span id="SplitView.set_opacity_bottomright-1009"><a href="#SplitView.set_opacity_bottomright-1009"><span class="linenos">1009</span></a>
</span><span id="SplitView.set_opacity_bottomright-1010"><a href="#SplitView.set_opacity_bottomright-1010"><span class="linenos">1010</span></a>        <span class="n">pixmap_to_be_transparent</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPixmap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_bottomright_original</span><span class="o">.</span><span class="n">size</span><span class="p">())</span>
</span><span id="SplitView.set_opacity_bottomright-1011"><a href="#SplitView.set_opacity_bottomright-1011"><span class="linenos">1011</span></a>        <span class="n">pixmap_to_be_transparent</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">transparent</span><span class="p">)</span>
</span><span id="SplitView.set_opacity_bottomright-1012"><a href="#SplitView.set_opacity_bottomright-1012"><span class="linenos">1012</span></a>        <span class="n">painter</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPainter</span><span class="p">(</span><span class="n">pixmap_to_be_transparent</span><span class="p">)</span>
</span><span id="SplitView.set_opacity_bottomright-1013"><a href="#SplitView.set_opacity_bottomright-1013"><span class="linenos">1013</span></a>        <span class="n">painter</span><span class="o">.</span><span class="n">setOpacity</span><span class="p">(</span><span class="n">percent</span><span class="o">/</span><span class="mi">100</span><span class="p">)</span>
</span><span id="SplitView.set_opacity_bottomright-1014"><a href="#SplitView.set_opacity_bottomright-1014"><span class="linenos">1014</span></a>        <span class="n">painter</span><span class="o">.</span><span class="n">drawPixmap</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QPoint</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_bottomright_original</span><span class="p">)</span>
</span><span id="SplitView.set_opacity_bottomright-1015"><a href="#SplitView.set_opacity_bottomright-1015"><span class="linenos">1015</span></a>        <span class="n">painter</span><span class="o">.</span><span class="n">end</span><span class="p">()</span>
</span><span id="SplitView.set_opacity_bottomright-1016"><a href="#SplitView.set_opacity_bottomright-1016"><span class="linenos">1016</span></a>
</span><span id="SplitView.set_opacity_bottomright-1017"><a href="#SplitView.set_opacity_bottomright-1017"><span class="linenos">1017</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_bottomright</span><span class="o">.</span><span class="n">setPixmap</span><span class="p">(</span><span class="n">pixmap_to_be_transparent</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Set transparency of bottom-right of sliding overlay.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>percent (float,int):</strong>  The transparency as percent opacity, where 100 is opaque (not transparent) and 0 is transparent (0-100).</li>
</ul>
</div>


                            </div>
                            <div id="SplitView.set_opacity_bottomleft" class="classattr">
                                        <input id="SplitView.set_opacity_bottomleft-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@QtCore.pyqtSlot()</div>

        <span class="def">def</span>
        <span class="name">set_opacity_bottomleft</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">percent</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.set_opacity_bottomleft-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.set_opacity_bottomleft"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.set_opacity_bottomleft-1030"><a href="#SplitView.set_opacity_bottomleft-1030"><span class="linenos">1030</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="SplitView.set_opacity_bottomleft-1031"><a href="#SplitView.set_opacity_bottomleft-1031"><span class="linenos">1031</span></a>    <span class="k">def</span> <span class="nf">set_opacity_bottomleft</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">percent</span><span class="p">):</span>
</span><span id="SplitView.set_opacity_bottomleft-1032"><a href="#SplitView.set_opacity_bottomleft-1032"><span class="linenos">1032</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set transparency of bottom-left of sliding overlay.</span>
</span><span id="SplitView.set_opacity_bottomleft-1033"><a href="#SplitView.set_opacity_bottomleft-1033"><span class="linenos">1033</span></a>
</span><span id="SplitView.set_opacity_bottomleft-1034"><a href="#SplitView.set_opacity_bottomleft-1034"><span class="linenos">1034</span></a><span class="sd">        Args:</span>
</span><span id="SplitView.set_opacity_bottomleft-1035"><a href="#SplitView.set_opacity_bottomleft-1035"><span class="linenos">1035</span></a><span class="sd">            percent (float,int): The transparency as percent opacity, where 100 is opaque (not transparent) and 0 is transparent (0-100).</span>
</span><span id="SplitView.set_opacity_bottomleft-1036"><a href="#SplitView.set_opacity_bottomleft-1036"><span class="linenos">1036</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView.set_opacity_bottomleft-1037"><a href="#SplitView.set_opacity_bottomleft-1037"><span class="linenos">1037</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">pixmap_bottomleft_exists</span><span class="p">:</span>
</span><span id="SplitView.set_opacity_bottomleft-1038"><a href="#SplitView.set_opacity_bottomleft-1038"><span class="linenos">1038</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_opacity_bottomleft</span> <span class="o">=</span> <span class="mi">100</span>
</span><span id="SplitView.set_opacity_bottomleft-1039"><a href="#SplitView.set_opacity_bottomleft-1039"><span class="linenos">1039</span></a>            <span class="k">return</span>
</span><span id="SplitView.set_opacity_bottomleft-1040"><a href="#SplitView.set_opacity_bottomleft-1040"><span class="linenos">1040</span></a>
</span><span id="SplitView.set_opacity_bottomleft-1041"><a href="#SplitView.set_opacity_bottomleft-1041"><span class="linenos">1041</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_opacity_bottomleft</span> <span class="o">=</span> <span class="n">percent</span>
</span><span id="SplitView.set_opacity_bottomleft-1042"><a href="#SplitView.set_opacity_bottomleft-1042"><span class="linenos">1042</span></a>
</span><span id="SplitView.set_opacity_bottomleft-1043"><a href="#SplitView.set_opacity_bottomleft-1043"><span class="linenos">1043</span></a>        <span class="n">pixmap_to_be_transparent</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPixmap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_bottomleft_original</span><span class="o">.</span><span class="n">size</span><span class="p">())</span>
</span><span id="SplitView.set_opacity_bottomleft-1044"><a href="#SplitView.set_opacity_bottomleft-1044"><span class="linenos">1044</span></a>        <span class="n">pixmap_to_be_transparent</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">transparent</span><span class="p">)</span>
</span><span id="SplitView.set_opacity_bottomleft-1045"><a href="#SplitView.set_opacity_bottomleft-1045"><span class="linenos">1045</span></a>        <span class="n">painter</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPainter</span><span class="p">(</span><span class="n">pixmap_to_be_transparent</span><span class="p">)</span>
</span><span id="SplitView.set_opacity_bottomleft-1046"><a href="#SplitView.set_opacity_bottomleft-1046"><span class="linenos">1046</span></a>        <span class="n">painter</span><span class="o">.</span><span class="n">setOpacity</span><span class="p">(</span><span class="n">percent</span><span class="o">/</span><span class="mi">100</span><span class="p">)</span>
</span><span id="SplitView.set_opacity_bottomleft-1047"><a href="#SplitView.set_opacity_bottomleft-1047"><span class="linenos">1047</span></a>        <span class="n">painter</span><span class="o">.</span><span class="n">drawPixmap</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QPoint</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_bottomleft_original</span><span class="p">)</span>
</span><span id="SplitView.set_opacity_bottomleft-1048"><a href="#SplitView.set_opacity_bottomleft-1048"><span class="linenos">1048</span></a>        <span class="n">painter</span><span class="o">.</span><span class="n">end</span><span class="p">()</span>
</span><span id="SplitView.set_opacity_bottomleft-1049"><a href="#SplitView.set_opacity_bottomleft-1049"><span class="linenos">1049</span></a>
</span><span id="SplitView.set_opacity_bottomleft-1050"><a href="#SplitView.set_opacity_bottomleft-1050"><span class="linenos">1050</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_bottomleft</span><span class="o">.</span><span class="n">setPixmap</span><span class="p">(</span><span class="n">pixmap_to_be_transparent</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Set transparency of bottom-left of sliding overlay.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>percent (float,int):</strong>  The transparency as percent opacity, where 100 is opaque (not transparent) and 0 is transparent (0-100).</li>
</ul>
</div>


                            </div>
                            <div id="SplitView.moveEvent" class="classattr">
                                        <input id="SplitView.moveEvent-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">moveEvent</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">event</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.moveEvent-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.moveEvent"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.moveEvent-1052"><a href="#SplitView.moveEvent-1052"><span class="linenos">1052</span></a>    <span class="k">def</span> <span class="nf">moveEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
</span><span id="SplitView.moveEvent-1053"><a href="#SplitView.moveEvent-1053"><span class="linenos">1053</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Override move event of frame.&quot;&quot;&quot;</span>
</span><span id="SplitView.moveEvent-1054"><a href="#SplitView.moveEvent-1054"><span class="linenos">1054</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">moveEvent</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Override move event of frame.</p>
</div>


                            </div>
                            <div id="SplitView.resizeEvent" class="classattr">
                                        <input id="SplitView.resizeEvent-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">resizeEvent</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">event</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.resizeEvent-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.resizeEvent"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.resizeEvent-1056"><a href="#SplitView.resizeEvent-1056"><span class="linenos">1056</span></a>    <span class="k">def</span> <span class="nf">resizeEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
</span><span id="SplitView.resizeEvent-1057"><a href="#SplitView.resizeEvent-1057"><span class="linenos">1057</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Override resize event of frame to ensure scene is also resized.&quot;&quot;&quot;</span>
</span><span id="SplitView.resizeEvent-1058"><a href="#SplitView.resizeEvent-1058"><span class="linenos">1058</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_scene</span><span class="p">()</span>
</span><span id="SplitView.resizeEvent-1059"><a href="#SplitView.resizeEvent-1059"><span class="linenos">1059</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">resizeEvent</span><span class="p">(</span><span class="n">event</span><span class="p">)</span> <span class="c1"># Equivalent to QtWidgets.QFrame.resizeEvent(self, event)     </span>
</span></pre></div>


            <div class="docstring"><p>Override resize event of frame to ensure scene is also resized.</p>
</div>


                            </div>
                            <div id="SplitView.resize_scene" class="classattr">
                                        <input id="SplitView.resize_scene-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">resize_scene</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.resize_scene-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.resize_scene"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.resize_scene-1061"><a href="#SplitView.resize_scene-1061"><span class="linenos">1061</span></a>    <span class="k">def</span> <span class="nf">resize_scene</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView.resize_scene-1062"><a href="#SplitView.resize_scene-1062"><span class="linenos">1062</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Resize the scene to allow image to be panned just before the main pixmap leaves the viewport.</span>
</span><span id="SplitView.resize_scene-1063"><a href="#SplitView.resize_scene-1063"><span class="linenos">1063</span></a>
</span><span id="SplitView.resize_scene-1064"><a href="#SplitView.resize_scene-1064"><span class="linenos">1064</span></a><span class="sd">        This is needed to expand the scene so that users can pan the pixmap such that its edges are at the center of the view.</span>
</span><span id="SplitView.resize_scene-1065"><a href="#SplitView.resize_scene-1065"><span class="linenos">1065</span></a><span class="sd">        This changes the default behavior, which limits the scene to the bounds of the pixmap, thereby blocking users </span>
</span><span id="SplitView.resize_scene-1066"><a href="#SplitView.resize_scene-1066"><span class="linenos">1066</span></a><span class="sd">        from panning outside the bounds of the pixmap, which can feel abrupt and restrictive.</span>
</span><span id="SplitView.resize_scene-1067"><a href="#SplitView.resize_scene-1067"><span class="linenos">1067</span></a><span class="sd">        This takes care of preventing users from panning too far away from the pixmap. </span>
</span><span id="SplitView.resize_scene-1068"><a href="#SplitView.resize_scene-1068"><span class="linenos">1068</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView.resize_scene-1069"><a href="#SplitView.resize_scene-1069"><span class="linenos">1069</span></a>        <span class="n">scene_to_viewport_factor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">zoomFactor</span>
</span><span id="SplitView.resize_scene-1070"><a href="#SplitView.resize_scene-1070"><span class="linenos">1070</span></a>        
</span><span id="SplitView.resize_scene-1071"><a href="#SplitView.resize_scene-1071"><span class="linenos">1071</span></a>        <span class="n">width_viewport_window</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">()</span>
</span><span id="SplitView.resize_scene-1072"><a href="#SplitView.resize_scene-1072"><span class="linenos">1072</span></a>        <span class="n">height_viewport_window</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">()</span>
</span><span id="SplitView.resize_scene-1073"><a href="#SplitView.resize_scene-1073"><span class="linenos">1073</span></a>
</span><span id="SplitView.resize_scene-1074"><a href="#SplitView.resize_scene-1074"><span class="linenos">1074</span></a>        <span class="n">peek_precent</span> <span class="o">=</span> <span class="mf">0.1</span> <span class="c1"># Percent of pixmap to be left &quot;peeking&quot; at bounds of pan</span>
</span><span id="SplitView.resize_scene-1075"><a href="#SplitView.resize_scene-1075"><span class="linenos">1075</span></a>        <span class="n">peek_margin_x</span> <span class="o">=</span> <span class="n">width_viewport_window</span><span class="o">*</span><span class="n">peek_precent</span> <span class="c1"># [px]</span>
</span><span id="SplitView.resize_scene-1076"><a href="#SplitView.resize_scene-1076"><span class="linenos">1076</span></a>        <span class="n">peek_margin_y</span> <span class="o">=</span> <span class="n">height_viewport_window</span><span class="o">*</span><span class="n">peek_precent</span>
</span><span id="SplitView.resize_scene-1077"><a href="#SplitView.resize_scene-1077"><span class="linenos">1077</span></a>        
</span><span id="SplitView.resize_scene-1078"><a href="#SplitView.resize_scene-1078"><span class="linenos">1078</span></a>        <span class="n">width_viewport</span> <span class="o">=</span> <span class="p">(</span><span class="n">width_viewport_window</span> <span class="o">-</span> <span class="n">peek_margin_x</span><span class="p">)</span><span class="o">/</span><span class="n">scene_to_viewport_factor</span> <span class="c1"># This is the size of the viewport on the screen</span>
</span><span id="SplitView.resize_scene-1079"><a href="#SplitView.resize_scene-1079"><span class="linenos">1079</span></a>        <span class="n">height_viewport</span> <span class="o">=</span> <span class="p">(</span><span class="n">height_viewport_window</span> <span class="o">-</span> <span class="n">peek_margin_y</span><span class="p">)</span><span class="o">/</span><span class="n">scene_to_viewport_factor</span>
</span><span id="SplitView.resize_scene-1080"><a href="#SplitView.resize_scene-1080"><span class="linenos">1080</span></a>        
</span><span id="SplitView.resize_scene-1081"><a href="#SplitView.resize_scene-1081"><span class="linenos">1081</span></a>        <span class="n">width_pixmap</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">imageWidth</span>
</span><span id="SplitView.resize_scene-1082"><a href="#SplitView.resize_scene-1082"><span class="linenos">1082</span></a>        <span class="n">height_pixmap</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">imageHeight</span>
</span><span id="SplitView.resize_scene-1083"><a href="#SplitView.resize_scene-1083"><span class="linenos">1083</span></a>        
</span><span id="SplitView.resize_scene-1084"><a href="#SplitView.resize_scene-1084"><span class="linenos">1084</span></a>        <span class="n">width_scene</span> <span class="o">=</span> <span class="mf">2.0</span><span class="o">*</span><span class="p">(</span><span class="n">width_viewport</span> <span class="o">+</span> <span class="n">width_pixmap</span><span class="o">/</span><span class="mf">2.0</span><span class="p">)</span> <span class="c1"># The scene spans twice the viewport plus the pixmap</span>
</span><span id="SplitView.resize_scene-1085"><a href="#SplitView.resize_scene-1085"><span class="linenos">1085</span></a>        <span class="n">height_scene</span> <span class="o">=</span> <span class="mf">2.0</span><span class="o">*</span><span class="p">(</span><span class="n">height_viewport</span> <span class="o">+</span> <span class="n">height_pixmap</span><span class="o">/</span><span class="mf">2.0</span><span class="p">)</span>
</span><span id="SplitView.resize_scene-1086"><a href="#SplitView.resize_scene-1086"><span class="linenos">1086</span></a>        
</span><span id="SplitView.resize_scene-1087"><a href="#SplitView.resize_scene-1087"><span class="linenos">1087</span></a>        <span class="n">scene_rect</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QRectF</span><span class="p">(</span><span class="o">-</span><span class="n">width_scene</span><span class="o">/</span><span class="mf">2.0</span> <span class="o">+</span> <span class="n">width_pixmap</span><span class="o">/</span><span class="mf">2.0</span><span class="p">,</span><span class="o">-</span><span class="n">height_scene</span><span class="o">/</span><span class="mf">2.0</span> <span class="o">+</span> <span class="n">height_pixmap</span><span class="o">/</span><span class="mf">2.0</span><span class="p">,</span><span class="n">width_scene</span><span class="p">,</span><span class="n">height_scene</span><span class="p">)</span>
</span><span id="SplitView.resize_scene-1088"><a href="#SplitView.resize_scene-1088"><span class="linenos">1088</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">setSceneRect</span><span class="p">(</span><span class="n">scene_rect</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Resize the scene to allow image to be panned just before the main pixmap leaves the viewport.</p>

<p>This is needed to expand the scene so that users can pan the pixmap such that its edges are at the center of the view.
This changes the default behavior, which limits the scene to the bounds of the pixmap, thereby blocking users 
from panning outside the bounds of the pixmap, which can feel abrupt and restrictive.
This takes care of preventing users from panning too far away from the pixmap.</p>
</div>


                            </div>
                            <div id="SplitView.set_transform_mode_smooth_on" class="classattr">
                                        <input id="SplitView.set_transform_mode_smooth_on-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_transform_mode_smooth_on</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.set_transform_mode_smooth_on-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.set_transform_mode_smooth_on"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.set_transform_mode_smooth_on-1090"><a href="#SplitView.set_transform_mode_smooth_on-1090"><span class="linenos">1090</span></a>    <span class="k">def</span> <span class="nf">set_transform_mode_smooth_on</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView.set_transform_mode_smooth_on-1091"><a href="#SplitView.set_transform_mode_smooth_on-1091"><span class="linenos">1091</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set transform mode to smooth (interpolate) when zoomfactor is &gt;= 1.0.&quot;&quot;&quot;</span>
</span><span id="SplitView.set_transform_mode_smooth_on-1092"><a href="#SplitView.set_transform_mode_smooth_on-1092"><span class="linenos">1092</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">transform_mode_smooth</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="SplitView.set_transform_mode_smooth_on-1093"><a href="#SplitView.set_transform_mode_smooth_on-1093"><span class="linenos">1093</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">set_single_transform_mode_smooth</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</span><span id="SplitView.set_transform_mode_smooth_on-1094"><a href="#SplitView.set_transform_mode_smooth_on-1094"><span class="linenos">1094</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">refresh_transform_mode</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Set transform mode to smooth (interpolate) when zoomfactor is &gt;= 1.0.</p>
</div>


                            </div>
                            <div id="SplitView.set_transform_mode_smooth_off" class="classattr">
                                        <input id="SplitView.set_transform_mode_smooth_off-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_transform_mode_smooth_off</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.set_transform_mode_smooth_off-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.set_transform_mode_smooth_off"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.set_transform_mode_smooth_off-1096"><a href="#SplitView.set_transform_mode_smooth_off-1096"><span class="linenos">1096</span></a>    <span class="k">def</span> <span class="nf">set_transform_mode_smooth_off</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView.set_transform_mode_smooth_off-1097"><a href="#SplitView.set_transform_mode_smooth_off-1097"><span class="linenos">1097</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set transform mode to non-smooth (non-interpolated) when zoomfactor is &gt;= 1.0.&quot;&quot;&quot;</span>
</span><span id="SplitView.set_transform_mode_smooth_off-1098"><a href="#SplitView.set_transform_mode_smooth_off-1098"><span class="linenos">1098</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">transform_mode_smooth</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="SplitView.set_transform_mode_smooth_off-1099"><a href="#SplitView.set_transform_mode_smooth_off-1099"><span class="linenos">1099</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">set_single_transform_mode_smooth</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</span><span id="SplitView.set_transform_mode_smooth_off-1100"><a href="#SplitView.set_transform_mode_smooth_off-1100"><span class="linenos">1100</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">refresh_transform_mode</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Set transform mode to non-smooth (non-interpolated) when zoomfactor is &gt;= 1.0.</p>
</div>


                            </div>
                            <div id="SplitView.set_transform_mode_smooth" class="classattr">
                                        <input id="SplitView.set_transform_mode_smooth-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_transform_mode_smooth</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">boolean</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.set_transform_mode_smooth-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.set_transform_mode_smooth"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.set_transform_mode_smooth-1102"><a href="#SplitView.set_transform_mode_smooth-1102"><span class="linenos">1102</span></a>    <span class="k">def</span> <span class="nf">set_transform_mode_smooth</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">boolean</span><span class="p">):</span>
</span><span id="SplitView.set_transform_mode_smooth-1103"><a href="#SplitView.set_transform_mode_smooth-1103"><span class="linenos">1103</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set transform mode when zoomfactor is &gt;= 1.0.</span>
</span><span id="SplitView.set_transform_mode_smooth-1104"><a href="#SplitView.set_transform_mode_smooth-1104"><span class="linenos">1104</span></a>
</span><span id="SplitView.set_transform_mode_smooth-1105"><a href="#SplitView.set_transform_mode_smooth-1105"><span class="linenos">1105</span></a><span class="sd">        Convenience function.</span>
</span><span id="SplitView.set_transform_mode_smooth-1106"><a href="#SplitView.set_transform_mode_smooth-1106"><span class="linenos">1106</span></a><span class="sd">        </span>
</span><span id="SplitView.set_transform_mode_smooth-1107"><a href="#SplitView.set_transform_mode_smooth-1107"><span class="linenos">1107</span></a><span class="sd">        Args:</span>
</span><span id="SplitView.set_transform_mode_smooth-1108"><a href="#SplitView.set_transform_mode_smooth-1108"><span class="linenos">1108</span></a><span class="sd">            boolean (bool): True to smooth (interpolate); False to fast (not interpolate).</span>
</span><span id="SplitView.set_transform_mode_smooth-1109"><a href="#SplitView.set_transform_mode_smooth-1109"><span class="linenos">1109</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView.set_transform_mode_smooth-1110"><a href="#SplitView.set_transform_mode_smooth-1110"><span class="linenos">1110</span></a>        <span class="k">if</span> <span class="n">boolean</span><span class="p">:</span>
</span><span id="SplitView.set_transform_mode_smooth-1111"><a href="#SplitView.set_transform_mode_smooth-1111"><span class="linenos">1111</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">set_transform_mode_smooth_on</span><span class="p">()</span>
</span><span id="SplitView.set_transform_mode_smooth-1112"><a href="#SplitView.set_transform_mode_smooth-1112"><span class="linenos">1112</span></a>        <span class="k">elif</span> <span class="ow">not</span> <span class="n">boolean</span><span class="p">:</span>
</span><span id="SplitView.set_transform_mode_smooth-1113"><a href="#SplitView.set_transform_mode_smooth-1113"><span class="linenos">1113</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">set_transform_mode_smooth_off</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Set transform mode when zoomfactor is &gt;= 1.0.</p>

<p>Convenience function.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>boolean (bool):</strong>  True to smooth (interpolate); False to fast (not interpolate).</li>
</ul>
</div>


                            </div>
                            <div id="SplitView.on_transformChanged" class="classattr">
                                        <input id="SplitView.on_transformChanged-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@QtCore.pyqtSlot()</div>

        <span class="def">def</span>
        <span class="name">on_transformChanged</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.on_transformChanged-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.on_transformChanged"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.on_transformChanged-1115"><a href="#SplitView.on_transformChanged-1115"><span class="linenos">1115</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="SplitView.on_transformChanged-1116"><a href="#SplitView.on_transformChanged-1116"><span class="linenos">1116</span></a>    <span class="k">def</span> <span class="nf">on_transformChanged</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView.on_transformChanged-1117"><a href="#SplitView.on_transformChanged-1117"><span class="linenos">1117</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Resize scene if image transform is changed (for example, when zoomed).&quot;&quot;&quot;</span>
</span><span id="SplitView.on_transformChanged-1118"><a href="#SplitView.on_transformChanged-1118"><span class="linenos">1118</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize_scene</span><span class="p">()</span>
</span><span id="SplitView.on_transformChanged-1119"><a href="#SplitView.on_transformChanged-1119"><span class="linenos">1119</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">update_split</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Resize scene if image transform is changed (for example, when zoomed).</p>
</div>


                            </div>
                            <div id="SplitView.handDragging" class="classattr">
                                <div class="attr variable">
            <span class="name">handDragging</span>

        
    </div>
    <a class="headerlink" href="#SplitView.handDragging"></a>
    
            <div class="docstring"><p>bool: The hand dragging state.</p>
</div>


                            </div>
                            <div id="SplitView.scrollState" class="classattr">
                                <div class="attr variable">
            <span class="name">scrollState</span>

        
    </div>
    <a class="headerlink" href="#SplitView.scrollState"></a>
    
            <div class="docstring"><p>tuple: The percentage of scene extents
<em>(sceneWidthPercent, sceneHeightPercent)</em></p>
</div>


                            </div>
                            <div id="SplitView.zoomFactor" class="classattr">
                                <div class="attr variable">
            <span class="name">zoomFactor</span>

        
    </div>
    <a class="headerlink" href="#SplitView.zoomFactor"></a>
    
            <div class="docstring"><p>float: The zoom scale factor.</p>
</div>


                            </div>
                            <div id="SplitView.refresh_transform_mode" class="classattr">
                                        <input id="SplitView.refresh_transform_mode-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">refresh_transform_mode</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.refresh_transform_mode-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.refresh_transform_mode"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.refresh_transform_mode-1169"><a href="#SplitView.refresh_transform_mode-1169"><span class="linenos">1169</span></a>    <span class="k">def</span> <span class="nf">refresh_transform_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView.refresh_transform_mode-1170"><a href="#SplitView.refresh_transform_mode-1170"><span class="linenos">1170</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Refresh zoom of all views, taking into account the transform mode.&quot;&quot;&quot;</span>
</span><span id="SplitView.refresh_transform_mode-1171"><a href="#SplitView.refresh_transform_mode-1171"><span class="linenos">1171</span></a>        <span class="n">zoomFactor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">zoomFactor</span>
</span><span id="SplitView.refresh_transform_mode-1172"><a href="#SplitView.refresh_transform_mode-1172"><span class="linenos">1172</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_pixmap_transform_from_scale</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_main_topleft</span><span class="p">,</span>
</span><span id="SplitView.refresh_transform_mode-1173"><a href="#SplitView.refresh_transform_mode-1173"><span class="linenos">1173</span></a>                                            <span class="n">zoomFactor</span><span class="p">)</span>
</span><span id="SplitView.refresh_transform_mode-1174"><a href="#SplitView.refresh_transform_mode-1174"><span class="linenos">1174</span></a>        
</span><span id="SplitView.refresh_transform_mode-1175"><a href="#SplitView.refresh_transform_mode-1175"><span class="linenos">1175</span></a>        <span class="n">scale_topright</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_topright</span><span class="o">.</span><span class="n">transform</span><span class="p">()</span><span class="o">.</span><span class="n">m11</span><span class="p">()</span>
</span><span id="SplitView.refresh_transform_mode-1176"><a href="#SplitView.refresh_transform_mode-1176"><span class="linenos">1176</span></a>        <span class="n">scale_bottomright</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomright</span><span class="o">.</span><span class="n">transform</span><span class="p">()</span><span class="o">.</span><span class="n">m11</span><span class="p">()</span>
</span><span id="SplitView.refresh_transform_mode-1177"><a href="#SplitView.refresh_transform_mode-1177"><span class="linenos">1177</span></a>        <span class="n">scale_bottomleft</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomleft</span><span class="o">.</span><span class="n">transform</span><span class="p">()</span><span class="o">.</span><span class="n">m11</span><span class="p">()</span>
</span><span id="SplitView.refresh_transform_mode-1178"><a href="#SplitView.refresh_transform_mode-1178"><span class="linenos">1178</span></a>
</span><span id="SplitView.refresh_transform_mode-1179"><a href="#SplitView.refresh_transform_mode-1179"><span class="linenos">1179</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_pixmap_transform_from_scale</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_topright</span><span class="p">,</span>
</span><span id="SplitView.refresh_transform_mode-1180"><a href="#SplitView.refresh_transform_mode-1180"><span class="linenos">1180</span></a>                                            <span class="n">scale_topright</span><span class="p">)</span>
</span><span id="SplitView.refresh_transform_mode-1181"><a href="#SplitView.refresh_transform_mode-1181"><span class="linenos">1181</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_pixmap_transform_from_scale</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_bottomright</span><span class="p">,</span>
</span><span id="SplitView.refresh_transform_mode-1182"><a href="#SplitView.refresh_transform_mode-1182"><span class="linenos">1182</span></a>                                            <span class="n">scale_bottomright</span><span class="p">)</span>
</span><span id="SplitView.refresh_transform_mode-1183"><a href="#SplitView.refresh_transform_mode-1183"><span class="linenos">1183</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_pixmap_transform_from_scale</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_bottomleft</span><span class="p">,</span>
</span><span id="SplitView.refresh_transform_mode-1184"><a href="#SplitView.refresh_transform_mode-1184"><span class="linenos">1184</span></a>                                            <span class="n">scale_bottomleft</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Refresh zoom of all views, taking into account the transform mode.</p>
</div>


                            </div>
                            <div id="SplitView.set_pixmap_transform_from_scale" class="classattr">
                                        <input id="SplitView.set_pixmap_transform_from_scale-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_pixmap_transform_from_scale</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">pixmap_item</span>, </span><span class="param"><span class="n">scale</span>, </span><span class="param"><span class="n">limit</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1.0</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.set_pixmap_transform_from_scale-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.set_pixmap_transform_from_scale"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.set_pixmap_transform_from_scale-1186"><a href="#SplitView.set_pixmap_transform_from_scale-1186"><span class="linenos">1186</span></a>    <span class="k">def</span> <span class="nf">set_pixmap_transform_from_scale</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pixmap_item</span><span class="p">,</span> <span class="n">scale</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">):</span>
</span><span id="SplitView.set_pixmap_transform_from_scale-1187"><a href="#SplitView.set_pixmap_transform_from_scale-1187"><span class="linenos">1187</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set a given pixmap transform based on scale (zoom).&quot;&quot;&quot;</span>
</span><span id="SplitView.set_pixmap_transform_from_scale-1188"><a href="#SplitView.set_pixmap_transform_from_scale-1188"><span class="linenos">1188</span></a>
</span><span id="SplitView.set_pixmap_transform_from_scale-1189"><a href="#SplitView.set_pixmap_transform_from_scale-1189"><span class="linenos">1189</span></a>        <span class="k">if</span> <span class="p">(</span><span class="n">scale</span> <span class="o">&lt;</span> <span class="n">limit</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">transform_mode_smooth</span><span class="p">):</span>
</span><span id="SplitView.set_pixmap_transform_from_scale-1190"><a href="#SplitView.set_pixmap_transform_from_scale-1190"><span class="linenos">1190</span></a>            <span class="n">pixmap_item</span><span class="o">.</span><span class="n">setTransformationMode</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">SmoothTransformation</span><span class="p">)</span>
</span><span id="SplitView.set_pixmap_transform_from_scale-1191"><a href="#SplitView.set_pixmap_transform_from_scale-1191"><span class="linenos">1191</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="SplitView.set_pixmap_transform_from_scale-1192"><a href="#SplitView.set_pixmap_transform_from_scale-1192"><span class="linenos">1192</span></a>            <span class="n">pixmap_item</span><span class="o">.</span><span class="n">setTransformationMode</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">FastTransformation</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Set a given pixmap transform based on scale (zoom).</p>
</div>


                            </div>
                            <div id="SplitView.scrollToTop" class="classattr">
                                        <input id="SplitView.scrollToTop-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@QtCore.pyqtSlot()</div>

        <span class="def">def</span>
        <span class="name">scrollToTop</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.scrollToTop-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.scrollToTop"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.scrollToTop-1215"><a href="#SplitView.scrollToTop-1215"><span class="linenos">1215</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="SplitView.scrollToTop-1216"><a href="#SplitView.scrollToTop-1216"><span class="linenos">1216</span></a>    <span class="k">def</span> <span class="nf">scrollToTop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView.scrollToTop-1217"><a href="#SplitView.scrollToTop-1217"><span class="linenos">1217</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Scroll to top of image.&quot;&quot;&quot;</span>
</span><span id="SplitView.scrollToTop-1218"><a href="#SplitView.scrollToTop-1218"><span class="linenos">1218</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">scrollToTop</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Scroll to top of image.</p>
</div>


                            </div>
                            <div id="SplitView.scrollToBottom" class="classattr">
                                        <input id="SplitView.scrollToBottom-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@QtCore.pyqtSlot()</div>

        <span class="def">def</span>
        <span class="name">scrollToBottom</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.scrollToBottom-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.scrollToBottom"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.scrollToBottom-1220"><a href="#SplitView.scrollToBottom-1220"><span class="linenos">1220</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="SplitView.scrollToBottom-1221"><a href="#SplitView.scrollToBottom-1221"><span class="linenos">1221</span></a>    <span class="k">def</span> <span class="nf">scrollToBottom</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView.scrollToBottom-1222"><a href="#SplitView.scrollToBottom-1222"><span class="linenos">1222</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Scroll to bottom of image.&quot;&quot;&quot;</span>
</span><span id="SplitView.scrollToBottom-1223"><a href="#SplitView.scrollToBottom-1223"><span class="linenos">1223</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">scrollToBottom</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Scroll to bottom of image.</p>
</div>


                            </div>
                            <div id="SplitView.scrollToBegin" class="classattr">
                                        <input id="SplitView.scrollToBegin-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@QtCore.pyqtSlot()</div>

        <span class="def">def</span>
        <span class="name">scrollToBegin</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.scrollToBegin-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.scrollToBegin"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.scrollToBegin-1225"><a href="#SplitView.scrollToBegin-1225"><span class="linenos">1225</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="SplitView.scrollToBegin-1226"><a href="#SplitView.scrollToBegin-1226"><span class="linenos">1226</span></a>    <span class="k">def</span> <span class="nf">scrollToBegin</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView.scrollToBegin-1227"><a href="#SplitView.scrollToBegin-1227"><span class="linenos">1227</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Scroll to left side of image.&quot;&quot;&quot;</span>
</span><span id="SplitView.scrollToBegin-1228"><a href="#SplitView.scrollToBegin-1228"><span class="linenos">1228</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">scrollToBegin</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Scroll to left side of image.</p>
</div>


                            </div>
                            <div id="SplitView.scrollToEnd" class="classattr">
                                        <input id="SplitView.scrollToEnd-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@QtCore.pyqtSlot()</div>

        <span class="def">def</span>
        <span class="name">scrollToEnd</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.scrollToEnd-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.scrollToEnd"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.scrollToEnd-1230"><a href="#SplitView.scrollToEnd-1230"><span class="linenos">1230</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="SplitView.scrollToEnd-1231"><a href="#SplitView.scrollToEnd-1231"><span class="linenos">1231</span></a>    <span class="k">def</span> <span class="nf">scrollToEnd</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView.scrollToEnd-1232"><a href="#SplitView.scrollToEnd-1232"><span class="linenos">1232</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Scroll to right side of image.&quot;&quot;&quot;</span>
</span><span id="SplitView.scrollToEnd-1233"><a href="#SplitView.scrollToEnd-1233"><span class="linenos">1233</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">scrollToEnd</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Scroll to right side of image.</p>
</div>


                            </div>
                            <div id="SplitView.centerView" class="classattr">
                                        <input id="SplitView.centerView-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@QtCore.pyqtSlot()</div>

        <span class="def">def</span>
        <span class="name">centerView</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.centerView-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.centerView"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.centerView-1235"><a href="#SplitView.centerView-1235"><span class="linenos">1235</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="SplitView.centerView-1236"><a href="#SplitView.centerView-1236"><span class="linenos">1236</span></a>    <span class="k">def</span> <span class="nf">centerView</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView.centerView-1237"><a href="#SplitView.centerView-1237"><span class="linenos">1237</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Center image in view.&quot;&quot;&quot;</span>
</span><span id="SplitView.centerView-1238"><a href="#SplitView.centerView-1238"><span class="linenos">1238</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">centerView</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Center image in view.</p>
</div>


                            </div>
                            <div id="SplitView.enableScrollBars" class="classattr">
                                        <input id="SplitView.enableScrollBars-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@QtCore.pyqtSlot(bool)</div>

        <span class="def">def</span>
        <span class="name">enableScrollBars</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">enable</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.enableScrollBars-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.enableScrollBars"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.enableScrollBars-1240"><a href="#SplitView.enableScrollBars-1240"><span class="linenos">1240</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">(</span><span class="nb">bool</span><span class="p">)</span>
</span><span id="SplitView.enableScrollBars-1241"><a href="#SplitView.enableScrollBars-1241"><span class="linenos">1241</span></a>    <span class="k">def</span> <span class="nf">enableScrollBars</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">enable</span><span class="p">):</span>
</span><span id="SplitView.enableScrollBars-1242"><a href="#SplitView.enableScrollBars-1242"><span class="linenos">1242</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set visiblility of the view&#39;s scrollbars.</span>
</span><span id="SplitView.enableScrollBars-1243"><a href="#SplitView.enableScrollBars-1243"><span class="linenos">1243</span></a>
</span><span id="SplitView.enableScrollBars-1244"><a href="#SplitView.enableScrollBars-1244"><span class="linenos">1244</span></a><span class="sd">        :param bool enable: True to enable the scrollbars &quot;&quot;&quot;</span>
</span><span id="SplitView.enableScrollBars-1245"><a href="#SplitView.enableScrollBars-1245"><span class="linenos">1245</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">enableScrollBars</span><span class="p">(</span><span class="n">enable</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Set visiblility of the view's scrollbars.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>bool enable</strong>:  True to enable the scrollbars</li>
</ul>
</div>


                            </div>
                            <div id="SplitView.enableHandDrag" class="classattr">
                                        <input id="SplitView.enableHandDrag-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@QtCore.pyqtSlot(bool)</div>

        <span class="def">def</span>
        <span class="name">enableHandDrag</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">enable</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.enableHandDrag-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.enableHandDrag"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.enableHandDrag-1247"><a href="#SplitView.enableHandDrag-1247"><span class="linenos">1247</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">(</span><span class="nb">bool</span><span class="p">)</span>
</span><span id="SplitView.enableHandDrag-1248"><a href="#SplitView.enableHandDrag-1248"><span class="linenos">1248</span></a>    <span class="k">def</span> <span class="nf">enableHandDrag</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">enable</span><span class="p">):</span>
</span><span id="SplitView.enableHandDrag-1249"><a href="#SplitView.enableHandDrag-1249"><span class="linenos">1249</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set whether dragging the view with the hand cursor is allowed.</span>
</span><span id="SplitView.enableHandDrag-1250"><a href="#SplitView.enableHandDrag-1250"><span class="linenos">1250</span></a>
</span><span id="SplitView.enableHandDrag-1251"><a href="#SplitView.enableHandDrag-1251"><span class="linenos">1251</span></a><span class="sd">        :param bool enable: True to enable hand dragging &quot;&quot;&quot;</span>
</span><span id="SplitView.enableHandDrag-1252"><a href="#SplitView.enableHandDrag-1252"><span class="linenos">1252</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">enableHandDrag</span><span class="p">(</span><span class="n">enable</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Set whether dragging the view with the hand cursor is allowed.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>bool enable</strong>:  True to enable hand dragging</li>
</ul>
</div>


                            </div>
                            <div id="SplitView.zoomIn" class="classattr">
                                        <input id="SplitView.zoomIn-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@QtCore.pyqtSlot()</div>

        <span class="def">def</span>
        <span class="name">zoomIn</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.zoomIn-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.zoomIn"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.zoomIn-1254"><a href="#SplitView.zoomIn-1254"><span class="linenos">1254</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="SplitView.zoomIn-1255"><a href="#SplitView.zoomIn-1255"><span class="linenos">1255</span></a>    <span class="k">def</span> <span class="nf">zoomIn</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView.zoomIn-1256"><a href="#SplitView.zoomIn-1256"><span class="linenos">1256</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Zoom in on image.&quot;&quot;&quot;</span>
</span><span id="SplitView.zoomIn-1257"><a href="#SplitView.zoomIn-1257"><span class="linenos">1257</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scaleImage</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_zoomFactorDelta</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Zoom in on image.</p>
</div>


                            </div>
                            <div id="SplitView.zoomOut" class="classattr">
                                        <input id="SplitView.zoomOut-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@QtCore.pyqtSlot()</div>

        <span class="def">def</span>
        <span class="name">zoomOut</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.zoomOut-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.zoomOut"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.zoomOut-1259"><a href="#SplitView.zoomOut-1259"><span class="linenos">1259</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="SplitView.zoomOut-1260"><a href="#SplitView.zoomOut-1260"><span class="linenos">1260</span></a>    <span class="k">def</span> <span class="nf">zoomOut</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView.zoomOut-1261"><a href="#SplitView.zoomOut-1261"><span class="linenos">1261</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Zoom out on image.&quot;&quot;&quot;</span>
</span><span id="SplitView.zoomOut-1262"><a href="#SplitView.zoomOut-1262"><span class="linenos">1262</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scaleImage</span><span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">_zoomFactorDelta</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Zoom out on image.</p>
</div>


                            </div>
                            <div id="SplitView.actualSize" class="classattr">
                                        <input id="SplitView.actualSize-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@QtCore.pyqtSlot()</div>

        <span class="def">def</span>
        <span class="name">actualSize</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.actualSize-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.actualSize"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.actualSize-1264"><a href="#SplitView.actualSize-1264"><span class="linenos">1264</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="SplitView.actualSize-1265"><a href="#SplitView.actualSize-1265"><span class="linenos">1265</span></a>    <span class="k">def</span> <span class="nf">actualSize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView.actualSize-1266"><a href="#SplitView.actualSize-1266"><span class="linenos">1266</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Change zoom to show image at actual size.</span>
</span><span id="SplitView.actualSize-1267"><a href="#SplitView.actualSize-1267"><span class="linenos">1267</span></a>
</span><span id="SplitView.actualSize-1268"><a href="#SplitView.actualSize-1268"><span class="linenos">1268</span></a><span class="sd">        (image pixel is equal to screen pixel)&quot;&quot;&quot;</span>
</span><span id="SplitView.actualSize-1269"><a href="#SplitView.actualSize-1269"><span class="linenos">1269</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scaleImage</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">combine</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Change zoom to show image at actual size.</p>

<p>(image pixel is equal to screen pixel)</p>
</div>


                            </div>
                            <div id="SplitView.fitToWindow" class="classattr">
                                        <input id="SplitView.fitToWindow-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@QtCore.pyqtSlot()</div>

        <span class="def">def</span>
        <span class="name">fitToWindow</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.fitToWindow-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.fitToWindow"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.fitToWindow-1271"><a href="#SplitView.fitToWindow-1271"><span class="linenos">1271</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="SplitView.fitToWindow-1272"><a href="#SplitView.fitToWindow-1272"><span class="linenos">1272</span></a>    <span class="k">def</span> <span class="nf">fitToWindow</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView.fitToWindow-1273"><a href="#SplitView.fitToWindow-1273"><span class="linenos">1273</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Fit image within view.</span>
</span><span id="SplitView.fitToWindow-1274"><a href="#SplitView.fitToWindow-1274"><span class="linenos">1274</span></a><span class="sd">            </span>
</span><span id="SplitView.fitToWindow-1275"><a href="#SplitView.fitToWindow-1275"><span class="linenos">1275</span></a><span class="sd">        If the viewport is wider than the main pixmap, then fit the pixmap to height; if the viewport is narrower, then fit the pixmap to width</span>
</span><span id="SplitView.fitToWindow-1276"><a href="#SplitView.fitToWindow-1276"><span class="linenos">1276</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView.fitToWindow-1277"><a href="#SplitView.fitToWindow-1277"><span class="linenos">1277</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_main_topleft</span><span class="o">.</span><span class="n">pixmap</span><span class="p">():</span>
</span><span id="SplitView.fitToWindow-1278"><a href="#SplitView.fitToWindow-1278"><span class="linenos">1278</span></a>            <span class="k">return</span>
</span><span id="SplitView.fitToWindow-1279"><a href="#SplitView.fitToWindow-1279"><span class="linenos">1279</span></a>
</span><span id="SplitView.fitToWindow-1280"><a href="#SplitView.fitToWindow-1280"><span class="linenos">1280</span></a>        <span class="n">padding_margin</span> <span class="o">=</span> <span class="mi">2</span> <span class="c1"># Leaves visual gap between pixmap and border of viewport</span>
</span><span id="SplitView.fitToWindow-1281"><a href="#SplitView.fitToWindow-1281"><span class="linenos">1281</span></a>        <span class="n">viewport_rect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">viewport</span><span class="p">()</span><span class="o">.</span><span class="n">rect</span><span class="p">()</span><span class="o">.</span><span class="n">adjusted</span><span class="p">(</span><span class="n">padding_margin</span><span class="p">,</span> <span class="n">padding_margin</span><span class="p">,</span>
</span><span id="SplitView.fitToWindow-1282"><a href="#SplitView.fitToWindow-1282"><span class="linenos">1282</span></a>                                                         <span class="o">-</span><span class="n">padding_margin</span><span class="p">,</span> <span class="o">-</span><span class="n">padding_margin</span><span class="p">)</span>
</span><span id="SplitView.fitToWindow-1283"><a href="#SplitView.fitToWindow-1283"><span class="linenos">1283</span></a>        <span class="n">aspect_ratio_viewport</span> <span class="o">=</span> <span class="n">viewport_rect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">/</span><span class="n">viewport_rect</span><span class="o">.</span><span class="n">height</span><span class="p">()</span>
</span><span id="SplitView.fitToWindow-1284"><a href="#SplitView.fitToWindow-1284"><span class="linenos">1284</span></a>        <span class="n">aspect_ratio_pixmap</span>   <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">imageWidth</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">imageHeight</span>
</span><span id="SplitView.fitToWindow-1285"><a href="#SplitView.fitToWindow-1285"><span class="linenos">1285</span></a>        <span class="k">if</span> <span class="n">aspect_ratio_viewport</span> <span class="o">&gt;</span> <span class="n">aspect_ratio_pixmap</span><span class="p">:</span>
</span><span id="SplitView.fitToWindow-1286"><a href="#SplitView.fitToWindow-1286"><span class="linenos">1286</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">fitHeight</span><span class="p">()</span>
</span><span id="SplitView.fitToWindow-1287"><a href="#SplitView.fitToWindow-1287"><span class="linenos">1287</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="SplitView.fitToWindow-1288"><a href="#SplitView.fitToWindow-1288"><span class="linenos">1288</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">fitWidth</span><span class="p">()</span>
</span><span id="SplitView.fitToWindow-1289"><a href="#SplitView.fitToWindow-1289"><span class="linenos">1289</span></a>
</span><span id="SplitView.fitToWindow-1290"><a href="#SplitView.fitToWindow-1290"><span class="linenos">1290</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">transformChanged</span><span class="o">.</span><span class="n">emit</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Fit image within view.</p>

<p>If the viewport is wider than the main pixmap, then fit the pixmap to height; if the viewport is narrower, then fit the pixmap to width</p>
</div>


                            </div>
                            <div id="SplitView.fitWidth" class="classattr">
                                        <input id="SplitView.fitWidth-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@QtCore.pyqtSlot()</div>

        <span class="def">def</span>
        <span class="name">fitWidth</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.fitWidth-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.fitWidth"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.fitWidth-1292"><a href="#SplitView.fitWidth-1292"><span class="linenos">1292</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="SplitView.fitWidth-1293"><a href="#SplitView.fitWidth-1293"><span class="linenos">1293</span></a>    <span class="k">def</span> <span class="nf">fitWidth</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView.fitWidth-1294"><a href="#SplitView.fitWidth-1294"><span class="linenos">1294</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Fit image width to view width.&quot;&quot;&quot;</span>
</span><span id="SplitView.fitWidth-1295"><a href="#SplitView.fitWidth-1295"><span class="linenos">1295</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_main_topleft</span><span class="o">.</span><span class="n">pixmap</span><span class="p">():</span>
</span><span id="SplitView.fitWidth-1296"><a href="#SplitView.fitWidth-1296"><span class="linenos">1296</span></a>            <span class="k">return</span>
</span><span id="SplitView.fitWidth-1297"><a href="#SplitView.fitWidth-1297"><span class="linenos">1297</span></a>        <span class="n">padding_margin</span> <span class="o">=</span> <span class="mi">2</span>
</span><span id="SplitView.fitWidth-1298"><a href="#SplitView.fitWidth-1298"><span class="linenos">1298</span></a>        <span class="n">viewRect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">viewport</span><span class="p">()</span><span class="o">.</span><span class="n">rect</span><span class="p">()</span><span class="o">.</span><span class="n">adjusted</span><span class="p">(</span><span class="n">padding_margin</span><span class="p">,</span> <span class="n">padding_margin</span><span class="p">,</span>
</span><span id="SplitView.fitWidth-1299"><a href="#SplitView.fitWidth-1299"><span class="linenos">1299</span></a>                                                         <span class="o">-</span><span class="n">padding_margin</span><span class="p">,</span> <span class="o">-</span><span class="n">padding_margin</span><span class="p">)</span>
</span><span id="SplitView.fitWidth-1300"><a href="#SplitView.fitWidth-1300"><span class="linenos">1300</span></a>        <span class="n">factor</span> <span class="o">=</span> <span class="n">viewRect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">imageWidth</span>
</span><span id="SplitView.fitWidth-1301"><a href="#SplitView.fitWidth-1301"><span class="linenos">1301</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scaleImage</span><span class="p">(</span><span class="n">factor</span><span class="p">,</span> <span class="n">combine</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="SplitView.fitWidth-1302"><a href="#SplitView.fitWidth-1302"><span class="linenos">1302</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">centerView</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Fit image width to view width.</p>
</div>


                            </div>
                            <div id="SplitView.fitHeight" class="classattr">
                                        <input id="SplitView.fitHeight-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@QtCore.pyqtSlot()</div>

        <span class="def">def</span>
        <span class="name">fitHeight</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.fitHeight-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.fitHeight"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.fitHeight-1304"><a href="#SplitView.fitHeight-1304"><span class="linenos">1304</span></a>    <span class="nd">@QtCore</span><span class="o">.</span><span class="n">pyqtSlot</span><span class="p">()</span>
</span><span id="SplitView.fitHeight-1305"><a href="#SplitView.fitHeight-1305"><span class="linenos">1305</span></a>    <span class="k">def</span> <span class="nf">fitHeight</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView.fitHeight-1306"><a href="#SplitView.fitHeight-1306"><span class="linenos">1306</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Fit image height to view height.&quot;&quot;&quot;</span>
</span><span id="SplitView.fitHeight-1307"><a href="#SplitView.fitHeight-1307"><span class="linenos">1307</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_main_topleft</span><span class="o">.</span><span class="n">pixmap</span><span class="p">():</span>
</span><span id="SplitView.fitHeight-1308"><a href="#SplitView.fitHeight-1308"><span class="linenos">1308</span></a>            <span class="k">return</span>
</span><span id="SplitView.fitHeight-1309"><a href="#SplitView.fitHeight-1309"><span class="linenos">1309</span></a>        <span class="n">padding_margin</span> <span class="o">=</span> <span class="mi">2</span>
</span><span id="SplitView.fitHeight-1310"><a href="#SplitView.fitHeight-1310"><span class="linenos">1310</span></a>        <span class="n">viewRect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">viewport</span><span class="p">()</span><span class="o">.</span><span class="n">rect</span><span class="p">()</span><span class="o">.</span><span class="n">adjusted</span><span class="p">(</span><span class="n">padding_margin</span><span class="p">,</span> <span class="n">padding_margin</span><span class="p">,</span>
</span><span id="SplitView.fitHeight-1311"><a href="#SplitView.fitHeight-1311"><span class="linenos">1311</span></a>                                                         <span class="o">-</span><span class="n">padding_margin</span><span class="p">,</span> <span class="o">-</span><span class="n">padding_margin</span><span class="p">)</span>
</span><span id="SplitView.fitHeight-1312"><a href="#SplitView.fitHeight-1312"><span class="linenos">1312</span></a>        <span class="n">factor</span> <span class="o">=</span> <span class="n">viewRect</span><span class="o">.</span><span class="n">height</span><span class="p">()</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">imageHeight</span>
</span><span id="SplitView.fitHeight-1313"><a href="#SplitView.fitHeight-1313"><span class="linenos">1313</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scaleImage</span><span class="p">(</span><span class="n">factor</span><span class="p">,</span> <span class="n">combine</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="SplitView.fitHeight-1314"><a href="#SplitView.fitHeight-1314"><span class="linenos">1314</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">centerView</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Fit image height to view height.</p>
</div>


                            </div>
                            <div id="SplitView.imageWidth" class="classattr">
                                <div class="attr variable">
            <span class="name">imageWidth</span>

        
    </div>
    <a class="headerlink" href="#SplitView.imageWidth"></a>
    
            <div class="docstring"><p>int: Width of base (main) image pixmap.</p>
</div>


                            </div>
                            <div id="SplitView.imageHeight" class="classattr">
                                <div class="attr variable">
            <span class="name">imageHeight</span>

        
    </div>
    <a class="headerlink" href="#SplitView.imageHeight"></a>
    
            <div class="docstring"><p>int: Height of base (main) image pixmap.</p>
</div>


                            </div>
                            <div id="SplitView.handleWheelNotches" class="classattr">
                                        <input id="SplitView.handleWheelNotches-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">handleWheelNotches</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">notches</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.handleWheelNotches-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.handleWheelNotches"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.handleWheelNotches-1326"><a href="#SplitView.handleWheelNotches-1326"><span class="linenos">1326</span></a>    <span class="k">def</span> <span class="nf">handleWheelNotches</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">notches</span><span class="p">):</span>
</span><span id="SplitView.handleWheelNotches-1327"><a href="#SplitView.handleWheelNotches-1327"><span class="linenos">1327</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Handle wheel notch event from underlying |QGraphicsView|.</span>
</span><span id="SplitView.handleWheelNotches-1328"><a href="#SplitView.handleWheelNotches-1328"><span class="linenos">1328</span></a>
</span><span id="SplitView.handleWheelNotches-1329"><a href="#SplitView.handleWheelNotches-1329"><span class="linenos">1329</span></a><span class="sd">        :param float notches: Mouse wheel notches&quot;&quot;&quot;</span>
</span><span id="SplitView.handleWheelNotches-1330"><a href="#SplitView.handleWheelNotches-1330"><span class="linenos">1330</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scaleImage</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_zoomFactorDelta</span> <span class="o">**</span> <span class="n">notches</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Handle wheel notch event from underlying |QGraphicsView|.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>float notches</strong>:  Mouse wheel notches</li>
</ul>
</div>


                            </div>
                            <div id="SplitView.closeEvent" class="classattr">
                                        <input id="SplitView.closeEvent-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">closeEvent</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">event</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.closeEvent-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.closeEvent"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.closeEvent-1332"><a href="#SplitView.closeEvent-1332"><span class="linenos">1332</span></a>    <span class="k">def</span> <span class="nf">closeEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
</span><span id="SplitView.closeEvent-1333"><a href="#SplitView.closeEvent-1333"><span class="linenos">1333</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Overriden in order to disconnect scrollbar signals before</span>
</span><span id="SplitView.closeEvent-1334"><a href="#SplitView.closeEvent-1334"><span class="linenos">1334</span></a><span class="sd">        closing.</span>
</span><span id="SplitView.closeEvent-1335"><a href="#SplitView.closeEvent-1335"><span class="linenos">1335</span></a>
</span><span id="SplitView.closeEvent-1336"><a href="#SplitView.closeEvent-1336"><span class="linenos">1336</span></a><span class="sd">        :param QEvent event: instance of a |QEvent|</span>
</span><span id="SplitView.closeEvent-1337"><a href="#SplitView.closeEvent-1337"><span class="linenos">1337</span></a><span class="sd">        </span>
</span><span id="SplitView.closeEvent-1338"><a href="#SplitView.closeEvent-1338"><span class="linenos">1338</span></a><span class="sd">        If this isn&#39;t done Python crashes!&quot;&quot;&quot;</span>
</span><span id="SplitView.closeEvent-1339"><a href="#SplitView.closeEvent-1339"><span class="linenos">1339</span></a>        <span class="c1">#self.scrollChanged.disconnect() #doesn&#39;t prevent crash</span>
</span><span id="SplitView.closeEvent-1340"><a href="#SplitView.closeEvent-1340"><span class="linenos">1340</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">disconnectSbarSignals</span><span class="p">()</span>
</span><span id="SplitView.closeEvent-1341"><a href="#SplitView.closeEvent-1341"><span class="linenos">1341</span></a>        
</span><span id="SplitView.closeEvent-1342"><a href="#SplitView.closeEvent-1342"><span class="linenos">1342</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
</span><span id="SplitView.closeEvent-1343"><a href="#SplitView.closeEvent-1343"><span class="linenos">1343</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
</span><span id="SplitView.closeEvent-1344"><a href="#SplitView.closeEvent-1344"><span class="linenos">1344</span></a>        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_base_original</span>
</span><span id="SplitView.closeEvent-1345"><a href="#SplitView.closeEvent-1345"><span class="linenos">1345</span></a>        
</span><span id="SplitView.closeEvent-1346"><a href="#SplitView.closeEvent-1346"><span class="linenos">1346</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_topright</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
</span><span id="SplitView.closeEvent-1347"><a href="#SplitView.closeEvent-1347"><span class="linenos">1347</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_topright</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
</span><span id="SplitView.closeEvent-1348"><a href="#SplitView.closeEvent-1348"><span class="linenos">1348</span></a>        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_topright_original</span>
</span><span id="SplitView.closeEvent-1349"><a href="#SplitView.closeEvent-1349"><span class="linenos">1349</span></a>        
</span><span id="SplitView.closeEvent-1350"><a href="#SplitView.closeEvent-1350"><span class="linenos">1350</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_bottomright</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
</span><span id="SplitView.closeEvent-1351"><a href="#SplitView.closeEvent-1351"><span class="linenos">1351</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomright</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
</span><span id="SplitView.closeEvent-1352"><a href="#SplitView.closeEvent-1352"><span class="linenos">1352</span></a>        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_bottomright_original</span>
</span><span id="SplitView.closeEvent-1353"><a href="#SplitView.closeEvent-1353"><span class="linenos">1353</span></a>        
</span><span id="SplitView.closeEvent-1354"><a href="#SplitView.closeEvent-1354"><span class="linenos">1354</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_bottomleft</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
</span><span id="SplitView.closeEvent-1355"><a href="#SplitView.closeEvent-1355"><span class="linenos">1355</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_bottomleft</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
</span><span id="SplitView.closeEvent-1356"><a href="#SplitView.closeEvent-1356"><span class="linenos">1356</span></a>        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmap_bottomleft_original</span>
</span><span id="SplitView.closeEvent-1357"><a href="#SplitView.closeEvent-1357"><span class="linenos">1357</span></a>        
</span><span id="SplitView.closeEvent-1358"><a href="#SplitView.closeEvent-1358"><span class="linenos">1358</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">closeEvent</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</span><span id="SplitView.closeEvent-1359"><a href="#SplitView.closeEvent-1359"><span class="linenos">1359</span></a>        <span class="n">gc</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
</span><span id="SplitView.closeEvent-1360"><a href="#SplitView.closeEvent-1360"><span class="linenos">1360</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">became_closed</span><span class="o">.</span><span class="n">emit</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Overriden in order to disconnect scrollbar signals before
closing.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>QEvent event</strong>:  instance of a |QEvent|</li>
</ul>

<p>If this isn't done Python crashes!</p>
</div>


                            </div>
                            <div id="SplitView.scaleImage" class="classattr">
                                        <input id="SplitView.scaleImage-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">scaleImage</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">factor</span>, </span><span class="param"><span class="n">combine</span><span class="o">=</span><span class="kc">True</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.scaleImage-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.scaleImage"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.scaleImage-1362"><a href="#SplitView.scaleImage-1362"><span class="linenos">1362</span></a>    <span class="k">def</span> <span class="nf">scaleImage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">factor</span><span class="p">,</span> <span class="n">combine</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
</span><span id="SplitView.scaleImage-1363"><a href="#SplitView.scaleImage-1363"><span class="linenos">1363</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Scale image by factor.</span>
</span><span id="SplitView.scaleImage-1364"><a href="#SplitView.scaleImage-1364"><span class="linenos">1364</span></a>
</span><span id="SplitView.scaleImage-1365"><a href="#SplitView.scaleImage-1365"><span class="linenos">1365</span></a><span class="sd">        :param float factor: either new :attr:`zoomFactor` or amount to scale</span>
</span><span id="SplitView.scaleImage-1366"><a href="#SplitView.scaleImage-1366"><span class="linenos">1366</span></a><span class="sd">                             current :attr:`zoomFactor`</span>
</span><span id="SplitView.scaleImage-1367"><a href="#SplitView.scaleImage-1367"><span class="linenos">1367</span></a>
</span><span id="SplitView.scaleImage-1368"><a href="#SplitView.scaleImage-1368"><span class="linenos">1368</span></a><span class="sd">        :param bool combine: if ``True`` scales the current</span>
</span><span id="SplitView.scaleImage-1369"><a href="#SplitView.scaleImage-1369"><span class="linenos">1369</span></a><span class="sd">                             :attr:`zoomFactor` by factor.  Otherwise</span>
</span><span id="SplitView.scaleImage-1370"><a href="#SplitView.scaleImage-1370"><span class="linenos">1370</span></a><span class="sd">                             just sets :attr:`zoomFactor` to factor&quot;&quot;&quot;</span>
</span><span id="SplitView.scaleImage-1371"><a href="#SplitView.scaleImage-1371"><span class="linenos">1371</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapItem_main_topleft</span><span class="o">.</span><span class="n">pixmap</span><span class="p">():</span>
</span><span id="SplitView.scaleImage-1372"><a href="#SplitView.scaleImage-1372"><span class="linenos">1372</span></a>            <span class="k">return</span>
</span><span id="SplitView.scaleImage-1373"><a href="#SplitView.scaleImage-1373"><span class="linenos">1373</span></a>
</span><span id="SplitView.scaleImage-1374"><a href="#SplitView.scaleImage-1374"><span class="linenos">1374</span></a>        <span class="k">if</span> <span class="n">combine</span><span class="p">:</span>
</span><span id="SplitView.scaleImage-1375"><a href="#SplitView.scaleImage-1375"><span class="linenos">1375</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">zoomFactor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">zoomFactor</span> <span class="o">*</span> <span class="n">factor</span>
</span><span id="SplitView.scaleImage-1376"><a href="#SplitView.scaleImage-1376"><span class="linenos">1376</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="SplitView.scaleImage-1377"><a href="#SplitView.scaleImage-1377"><span class="linenos">1377</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">zoomFactor</span> <span class="o">=</span> <span class="n">factor</span>
</span><span id="SplitView.scaleImage-1378"><a href="#SplitView.scaleImage-1378"><span class="linenos">1378</span></a>            
</span><span id="SplitView.scaleImage-1379"><a href="#SplitView.scaleImage-1379"><span class="linenos">1379</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">checkTransformChanged</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Scale image by factor.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>float factor</strong>:  either new <code><a href="#SplitView.zoomFactor">zoomFactor</a></code> or amount to scale
                 current <code><a href="#SplitView.zoomFactor">zoomFactor</a></code></p></li>
<li><p><strong>bool combine</strong>:  if <code>True</code> scales the current
                 <code><a href="#SplitView.zoomFactor">zoomFactor</a></code> by factor.  Otherwise
                 just sets <code><a href="#SplitView.zoomFactor">zoomFactor</a></code> to factor</p></li>
</ul>
</div>


                            </div>
                            <div id="SplitView.dumpTransform" class="classattr">
                                        <input id="SplitView.dumpTransform-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">dumpTransform</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.dumpTransform-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.dumpTransform"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.dumpTransform-1381"><a href="#SplitView.dumpTransform-1381"><span class="linenos">1381</span></a>    <span class="k">def</span> <span class="nf">dumpTransform</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView.dumpTransform-1382"><a href="#SplitView.dumpTransform-1382"><span class="linenos">1382</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Dump view transform to stdout.&quot;&quot;&quot;</span>
</span><span id="SplitView.dumpTransform-1383"><a href="#SplitView.dumpTransform-1383"><span class="linenos">1383</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">dumpTransform</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_view_main_topleft</span><span class="o">.</span><span class="n">transform</span><span class="p">(),</span> <span class="s2">&quot; &quot;</span><span class="o">*</span><span class="mi">4</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Dump view transform to stdout.</p>
</div>


                            </div>
                            <div id="SplitView.create_mouse_rect" class="classattr">
                                        <input id="SplitView.create_mouse_rect-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">create_mouse_rect</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.create_mouse_rect-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.create_mouse_rect"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.create_mouse_rect-1386"><a href="#SplitView.create_mouse_rect-1386"><span class="linenos">1386</span></a>    <span class="k">def</span> <span class="nf">create_mouse_rect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SplitView.create_mouse_rect-1387"><a href="#SplitView.create_mouse_rect-1387"><span class="linenos">1387</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a red 1x1 outline at the pointer in the main scene.</span>
</span><span id="SplitView.create_mouse_rect-1388"><a href="#SplitView.create_mouse_rect-1388"><span class="linenos">1388</span></a><span class="sd">        </span>
</span><span id="SplitView.create_mouse_rect-1389"><a href="#SplitView.create_mouse_rect-1389"><span class="linenos">1389</span></a><span class="sd">        Indicates to the user the size and position of the pixel over which the mouse is hovering.</span>
</span><span id="SplitView.create_mouse_rect-1390"><a href="#SplitView.create_mouse_rect-1390"><span class="linenos">1390</span></a><span class="sd">        Helps to understand the position of individual pixels and their scale at the current zoom.</span>
</span><span id="SplitView.create_mouse_rect-1391"><a href="#SplitView.create_mouse_rect-1391"><span class="linenos">1391</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView.create_mouse_rect-1392"><a href="#SplitView.create_mouse_rect-1392"><span class="linenos">1392</span></a>    
</span><span id="SplitView.create_mouse_rect-1393"><a href="#SplitView.create_mouse_rect-1393"><span class="linenos">1393</span></a>        <span class="n">pen</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPen</span><span class="p">()</span> 
</span><span id="SplitView.create_mouse_rect-1394"><a href="#SplitView.create_mouse_rect-1394"><span class="linenos">1394</span></a>        <span class="n">pen</span><span class="o">.</span><span class="n">setWidth</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
</span><span id="SplitView.create_mouse_rect-1395"><a href="#SplitView.create_mouse_rect-1395"><span class="linenos">1395</span></a>        <span class="n">pen</span><span class="o">.</span><span class="n">setColor</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">red</span><span class="p">)</span>
</span><span id="SplitView.create_mouse_rect-1396"><a href="#SplitView.create_mouse_rect-1396"><span class="linenos">1396</span></a>        <span class="n">pen</span><span class="o">.</span><span class="n">setCapStyle</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">SquareCap</span><span class="p">)</span>
</span><span id="SplitView.create_mouse_rect-1397"><a href="#SplitView.create_mouse_rect-1397"><span class="linenos">1397</span></a>        <span class="n">pen</span><span class="o">.</span><span class="n">setJoinStyle</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">MiterJoin</span><span class="p">)</span>
</span><span id="SplitView.create_mouse_rect-1398"><a href="#SplitView.create_mouse_rect-1398"><span class="linenos">1398</span></a>            
</span><span id="SplitView.create_mouse_rect-1399"><a href="#SplitView.create_mouse_rect-1399"><span class="linenos">1399</span></a>        <span class="n">brush</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QBrush</span><span class="p">()</span>
</span><span id="SplitView.create_mouse_rect-1400"><a href="#SplitView.create_mouse_rect-1400"><span class="linenos">1400</span></a>        <span class="n">brush</span><span class="o">.</span><span class="n">setColor</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">transparent</span><span class="p">)</span>
</span><span id="SplitView.create_mouse_rect-1401"><a href="#SplitView.create_mouse_rect-1401"><span class="linenos">1401</span></a>        
</span><span id="SplitView.create_mouse_rect-1402"><a href="#SplitView.create_mouse_rect-1402"><span class="linenos">1402</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_width</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="SplitView.create_mouse_rect-1403"><a href="#SplitView.create_mouse_rect-1403"><span class="linenos">1403</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_height</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="SplitView.create_mouse_rect-1404"><a href="#SplitView.create_mouse_rect-1404"><span class="linenos">1404</span></a>        
</span><span id="SplitView.create_mouse_rect-1405"><a href="#SplitView.create_mouse_rect-1405"><span class="linenos">1405</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_topleft</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
</span><span id="SplitView.create_mouse_rect-1406"><a href="#SplitView.create_mouse_rect-1406"><span class="linenos">1406</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_bottomright</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QPointF</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_width</span><span class="o">-</span><span class="mf">0.01</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_height</span><span class="o">-</span><span class="mf">0.01</span><span class="p">)</span>
</span><span id="SplitView.create_mouse_rect-1407"><a href="#SplitView.create_mouse_rect-1407"><span class="linenos">1407</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QRectF</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_topleft</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_bottomright</span><span class="p">)</span>
</span><span id="SplitView.create_mouse_rect-1408"><a href="#SplitView.create_mouse_rect-1408"><span class="linenos">1408</span></a>        
</span><span id="SplitView.create_mouse_rect-1409"><a href="#SplitView.create_mouse_rect-1409"><span class="linenos">1409</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_scene_main_topleft</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QGraphicsRectItem</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect</span><span class="p">)</span> <span class="c1"># To add the same item in two scenes, you need to create two unique items</span>
</span><span id="SplitView.create_mouse_rect-1410"><a href="#SplitView.create_mouse_rect-1410"><span class="linenos">1410</span></a>        
</span><span id="SplitView.create_mouse_rect-1411"><a href="#SplitView.create_mouse_rect-1411"><span class="linenos">1411</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_scene_main_topleft</span><span class="o">.</span><span class="n">setPos</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
</span><span id="SplitView.create_mouse_rect-1412"><a href="#SplitView.create_mouse_rect-1412"><span class="linenos">1412</span></a>        
</span><span id="SplitView.create_mouse_rect-1413"><a href="#SplitView.create_mouse_rect-1413"><span class="linenos">1413</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_scene_main_topleft</span><span class="o">.</span><span class="n">setBrush</span><span class="p">(</span><span class="n">brush</span><span class="p">)</span>
</span><span id="SplitView.create_mouse_rect-1414"><a href="#SplitView.create_mouse_rect-1414"><span class="linenos">1414</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_scene_main_topleft</span><span class="o">.</span><span class="n">setPen</span><span class="p">(</span><span class="n">pen</span><span class="p">)</span>
</span><span id="SplitView.create_mouse_rect-1415"><a href="#SplitView.create_mouse_rect-1415"><span class="linenos">1415</span></a>        
</span><span id="SplitView.create_mouse_rect-1416"><a href="#SplitView.create_mouse_rect-1416"><span class="linenos">1416</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_main_topleft</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_scene_main_topleft</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Create a red 1x1 outline at the pointer in the main scene.</p>

<p>Indicates to the user the size and position of the pixel over which the mouse is hovering.
Helps to understand the position of individual pixels and their scale at the current zoom.</p>
</div>


                            </div>
                            <div id="SplitView.set_mouse_rect_visible" class="classattr">
                                        <input id="SplitView.set_mouse_rect_visible-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_mouse_rect_visible</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">boolean</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SplitView.set_mouse_rect_visible-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SplitView.set_mouse_rect_visible"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SplitView.set_mouse_rect_visible-1418"><a href="#SplitView.set_mouse_rect_visible-1418"><span class="linenos">1418</span></a>    <span class="k">def</span> <span class="nf">set_mouse_rect_visible</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">boolean</span><span class="p">):</span>
</span><span id="SplitView.set_mouse_rect_visible-1419"><a href="#SplitView.set_mouse_rect_visible-1419"><span class="linenos">1419</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the visibilty of the red 1x1 outline at the pointer in the main scene.</span>
</span><span id="SplitView.set_mouse_rect_visible-1420"><a href="#SplitView.set_mouse_rect_visible-1420"><span class="linenos">1420</span></a><span class="sd">        </span>
</span><span id="SplitView.set_mouse_rect_visible-1421"><a href="#SplitView.set_mouse_rect_visible-1421"><span class="linenos">1421</span></a><span class="sd">        Args:</span>
</span><span id="SplitView.set_mouse_rect_visible-1422"><a href="#SplitView.set_mouse_rect_visible-1422"><span class="linenos">1422</span></a><span class="sd">            boolean (bool): True to show 1x1 outline; False to hide.</span>
</span><span id="SplitView.set_mouse_rect_visible-1423"><a href="#SplitView.set_mouse_rect_visible-1423"><span class="linenos">1423</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SplitView.set_mouse_rect_visible-1424"><a href="#SplitView.set_mouse_rect_visible-1424"><span class="linenos">1424</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mouse_rect_scene_main_topleft</span><span class="o">.</span><span class="n">setVisible</span><span class="p">(</span><span class="n">boolean</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Set the visibilty of the red 1x1 outline at the pointer in the main scene.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>boolean (bool):</strong>  True to show 1x1 outline; False to hide.</li>
</ul>
</div>


                            </div>
                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "../search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `../${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.kind) {
                    case "function":
                        if (doc.fullname.endsWith(".__init__")) {
                            heading = `<span class="name">${doc.fullname.replace(/\.__init__$/, "")}</span>${doc.signature}`;
                        } else {
                            heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span>${doc.signature}`;
                        }
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value"> = ${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.kind}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>